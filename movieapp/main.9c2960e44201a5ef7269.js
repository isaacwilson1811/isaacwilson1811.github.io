(self.webpackChunkmovieApp=self.webpackChunkmovieApp||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},8583:(e,t,n)=>{"use strict";n.d(t,{mr:()=>b,Ov:()=>Ie,ez:()=>ke,K0:()=>c,uU:()=>Te,JJ:()=>Ce,Do:()=>E,V_:()=>h,Ye:()=>S,S$:()=>v,sg:()=>pe,O5:()=>ge,b0:()=>_,lw:()=>l,EM:()=>Ne,JF:()=>De,PM:()=>xe,w_:()=>a,bD:()=>Ae,q:()=>i,Mx:()=>de,HT:()=>o});var r=n(3018);let s=null;function i(){return s}function o(e){s||(s=e)}class a{}const c=new r.OlP("DocumentToken");let l=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c))},e.\u0275prov=(0,r.Yz7)({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(c))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:w,token:e,providedIn:"root"}),e})();function w(e){const t=(0,r.LFG)(c).location;return new _((0,r.LFG)(l),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const s=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){const s=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let s=this.prepareExternalUrl(n+y(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){let s=this.prepareExternalUrl(n+y(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(l))},e.normalizeQueryParams=y,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,r.Yz7)({factory:I,token:e,providedIn:"root"}),e})();function I(){return new S((0,r.LFG)(v),(0,r.LFG)(l))}function T(e){return e.replace(/\/index.html$/,"")}var C=(()=>((C=C||{})[C.Decimal=0]="Decimal",C[C.Percent=1]="Percent",C[C.Currency=2]="Currency",C[C.Scientific=3]="Scientific",C))(),k=(()=>((k=k||{})[k.Zero=0]="Zero",k[k.One=1]="One",k[k.Two=2]="Two",k[k.Few=3]="Few",k[k.Many=4]="Many",k[k.Other=5]="Other",k))(),A=(()=>((A=A||{})[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A))(),x=(()=>((x=x||{})[x.Narrow=0]="Narrow",x[x.Abbreviated=1]="Abbreviated",x[x.Wide=2]="Wide",x[x.Short=3]="Short",x))(),N=(()=>((N=N||{})[N.Short=0]="Short",N[N.Medium=1]="Medium",N[N.Long=2]="Long",N[N.Full=3]="Full",N))(),O=(()=>((O=O||{})[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O[1/0]=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O))();function R(e,t){return F((0,r.cg1)(e)[r.wAp.DateFormat],t)}function D(e,t){return F((0,r.cg1)(e)[r.wAp.TimeFormat],t)}function P(e,t){return F((0,r.cg1)(e)[r.wAp.DateTimeFormat],t)}function L(e,t){const n=(0,r.cg1)(e),s=n[r.wAp.NumberSymbols][t];if(void 0===s){if(t===O.CurrencyDecimal)return n[r.wAp.NumberSymbols][O.Decimal];if(t===O.CurrencyGroup)return n[r.wAp.NumberSymbols][O.Group]}return s}const $=r.kL8;function M(e){if(!e[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function V(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j={},q=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=(()=>((B=B||{})[B.Short=0]="Short",B[B.ShortGMT=1]="ShortGMT",B[B.Long=2]="Long",B[B.Extended=3]="Extended",B))(),z=(()=>((z=z||{})[z.FullYear=0]="FullYear",z[z.Month=1]="Month",z[z.Date=2]="Date",z[z.Hours=3]="Hours",z[z.Minutes=4]="Minutes",z[z.Seconds=5]="Seconds",z[z.FractionalSeconds=6]="FractionalSeconds",z[z.Day=7]="Day",z))(),H=(()=>((H=H||{})[H.DayPeriods=0]="DayPeriods",H[H.Days=1]="Days",H[H.Months=2]="Months",H[H.Eras=3]="Eras",H))();function G(e,t,n,r){let s=function(e){if(ie(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return Y(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(U))return function(e){const t=new Date(0);let n=0,r=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,o,a,c,l),t}(n)}const t=new Date(e);if(!ie(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=W(n,t)||t;let i,o=[];for(;t;){if(i=q.exec(t),!i){o.push(t);break}{o=o.concat(i.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();r&&(a=se(r,a),s=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(se(t,r)-r))}(s,r));let c="";return o.forEach(e=>{const t=function(e){if(re[e])return re[e];let t;switch(e){case"G":case"GG":case"GGG":t=J(H.Eras,x.Abbreviated);break;case"GGGG":t=J(H.Eras,x.Wide);break;case"GGGGG":t=J(H.Eras,x.Narrow);break;case"y":t=Q(z.FullYear,1,0,!1,!0);break;case"yy":t=Q(z.FullYear,2,0,!0,!0);break;case"yyy":t=Q(z.FullYear,3,0,!1,!0);break;case"yyyy":t=Q(z.FullYear,4,0,!1,!0);break;case"Y":t=ne(1);break;case"YY":t=ne(2,!0);break;case"YYY":t=ne(3);break;case"YYYY":t=ne(4);break;case"M":case"L":t=Q(z.Month,1,1);break;case"MM":case"LL":t=Q(z.Month,2,1);break;case"MMM":t=J(H.Months,x.Abbreviated);break;case"MMMM":t=J(H.Months,x.Wide);break;case"MMMMM":t=J(H.Months,x.Narrow);break;case"LLL":t=J(H.Months,x.Abbreviated,A.Standalone);break;case"LLLL":t=J(H.Months,x.Wide,A.Standalone);break;case"LLLLL":t=J(H.Months,x.Narrow,A.Standalone);break;case"w":t=te(1);break;case"ww":t=te(2);break;case"W":t=te(1,!0);break;case"d":t=Q(z.Date,1);break;case"dd":t=Q(z.Date,2);break;case"c":case"cc":t=Q(z.Day,1);break;case"ccc":t=J(H.Days,x.Abbreviated,A.Standalone);break;case"cccc":t=J(H.Days,x.Wide,A.Standalone);break;case"ccccc":t=J(H.Days,x.Narrow,A.Standalone);break;case"cccccc":t=J(H.Days,x.Short,A.Standalone);break;case"E":case"EE":case"EEE":t=J(H.Days,x.Abbreviated);break;case"EEEE":t=J(H.Days,x.Wide);break;case"EEEEE":t=J(H.Days,x.Narrow);break;case"EEEEEE":t=J(H.Days,x.Short);break;case"a":case"aa":case"aaa":t=J(H.DayPeriods,x.Abbreviated);break;case"aaaa":t=J(H.DayPeriods,x.Wide);break;case"aaaaa":t=J(H.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":t=J(H.DayPeriods,x.Abbreviated,A.Standalone,!0);break;case"bbbb":t=J(H.DayPeriods,x.Wide,A.Standalone,!0);break;case"bbbbb":t=J(H.DayPeriods,x.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":t=J(H.DayPeriods,x.Abbreviated,A.Format,!0);break;case"BBBB":t=J(H.DayPeriods,x.Wide,A.Format,!0);break;case"BBBBB":t=J(H.DayPeriods,x.Narrow,A.Format,!0);break;case"h":t=Q(z.Hours,1,-12);break;case"hh":t=Q(z.Hours,2,-12);break;case"H":t=Q(z.Hours,1);break;case"HH":t=Q(z.Hours,2);break;case"m":t=Q(z.Minutes,1);break;case"mm":t=Q(z.Minutes,2);break;case"s":t=Q(z.Seconds,1);break;case"ss":t=Q(z.Seconds,2);break;case"S":t=Q(z.FractionalSeconds,1);break;case"SS":t=Q(z.FractionalSeconds,2);break;case"SSS":t=Q(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Z(B.Short);break;case"ZZZZZ":t=Z(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Z(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Z(B.Long);break;default:return null}return re[e]=t,t}(e);c+=t?t(s,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Y(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function W(e,t){const n=function(e){return(0,r.cg1)(e)[r.wAp.LocaleId]}(e);if(j[n]=j[n]||{},j[n][t])return j[n][t];let s="";switch(t){case"shortDate":s=R(e,N.Short);break;case"mediumDate":s=R(e,N.Medium);break;case"longDate":s=R(e,N.Long);break;case"fullDate":s=R(e,N.Full);break;case"shortTime":s=D(e,N.Short);break;case"mediumTime":s=D(e,N.Medium);break;case"longTime":s=D(e,N.Long);break;case"fullTime":s=D(e,N.Full);break;case"short":const t=W(e,"shortTime"),n=W(e,"shortDate");s=K(P(e,N.Short),[t,n]);break;case"medium":const r=W(e,"mediumTime"),i=W(e,"mediumDate");s=K(P(e,N.Medium),[r,i]);break;case"long":const o=W(e,"longTime"),a=W(e,"longDate");s=K(P(e,N.Long),[o,a]);break;case"full":const c=W(e,"fullTime"),l=W(e,"fullDate");s=K(P(e,N.Full),[c,l])}return s&&(j[n][t]=s),s}function K(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function X(e,t,n="-",r,s){let i="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,i=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),i+o}function Q(e,t,n=0,r=!1,s=!1){return function(i,o){let a=function(e,t){switch(e){case z.FullYear:return t.getFullYear();case z.Month:return t.getMonth();case z.Date:return t.getDate();case z.Hours:return t.getHours();case z.Minutes:return t.getMinutes();case z.Seconds:return t.getSeconds();case z.FractionalSeconds:return t.getMilliseconds();case z.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((n>0||a>-n)&&(a+=n),e===z.Hours)0===a&&-12===n&&(a=12);else if(e===z.FractionalSeconds)return c=t,X(a,3).substr(0,c);var c;const l=L(o,O.MinusSign);return X(a,t,l,r,s)}}function J(e,t,n=A.Format,s=!1){return function(i,o){return function(e,t,n,s,i,o){switch(n){case H.Months:return function(e,t,n){const s=(0,r.cg1)(e),i=F([s[r.wAp.MonthsFormat],s[r.wAp.MonthsStandalone]],t);return F(i,n)}(t,i,s)[e.getMonth()];case H.Days:return function(e,t,n){const s=(0,r.cg1)(e),i=F([s[r.wAp.DaysFormat],s[r.wAp.DaysStandalone]],t);return F(i,n)}(t,i,s)[e.getDay()];case H.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(o){const e=function(e){const t=(0,r.cg1)(e);return M(t),(t[r.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?V(e):[V(e[0]),V(e[1])])}(t),n=function(e,t,n){const s=(0,r.cg1)(e);M(s);const i=F([s[r.wAp.ExtraData][0],s[r.wAp.ExtraData][1]],t)||[];return F(i,n)||[]}(t,i,s),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&c>=t.minutes,s=a<n.hours||a===n.hours&&c<n.minutes;if(t.hours<n.hours){if(r&&s)return!0}else if(r||s)return!0}else if(e.hours===a&&e.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return function(e,t,n){const s=(0,r.cg1)(e),i=F([s[r.wAp.DayPeriodsFormat],s[r.wAp.DayPeriodsStandalone]],t);return F(i,n)}(t,i,s)[a<12?0:1];case H.Eras:return function(e,t){return F((0,r.cg1)(e)[r.wAp.Eras],t)}(t,s)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,s)}}function Z(e){return function(t,n,r){const s=-1*r,i=L(n,O.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case B.Short:return(s>=0?"+":"")+X(o,2,i)+X(Math.abs(s%60),2,i);case B.ShortGMT:return"GMT"+(s>=0?"+":"")+X(o,1,i);case B.Long:return"GMT"+(s>=0?"+":"")+X(o,2,i)+":"+X(Math.abs(s%60),2,i);case B.Extended:return 0===r?"Z":(s>=0?"+":"")+X(o,2,i)+":"+X(Math.abs(s%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}function ee(e){return Y(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function te(e,t=!1){return function(n,r){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=ee(n),t=function(e){const t=Y(e,0,1).getDay();return Y(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();s=1+Math.round(r/6048e5)}return X(s,e,L(r,O.MinusSign))}}function ne(e,t=!1){return function(n,r){return X(ee(n).getFullYear(),e,L(r,O.MinusSign),t)}}const re={};function se(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ie(e){return e instanceof Date&&!isNaN(e.valueOf())}const oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ae=".",ce="0";function le(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class ue{}let he=(()=>{class e extends ue{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch($(t||this.locale)(e)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function de(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}class fe{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pe=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new fe(null,this._ngForOf,-1,-1),null===r?void 0:r),s=new me(e,n);t.push(s)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,r);const i=new me(e,s);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class me{constructor(e,t){this.record=e,this.view=t}}let ge=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ve("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ve("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class ye{constructor(){this.$implicit=null,this.ngIf=null}}function ve(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}function we(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}class be{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class _e{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ee=new _e,Se=new be;let Ie=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return Ee;if((0,r.F4k)(t))return Se;throw we(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),Te=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,s){if(null==t||""===t||t!=t)return null;try{return G(t,n,s||this.locale,r)}catch(i){throw we(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"date",type:e,pure:!0}),e})(),Ce=(()=>{class e{constructor(e){this._locale=e}transform(t,n,s){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;s=s||this._locale;try{return function(e,t,n){return function(e,t,n,r,s,i,o=!1){let a="",c=!1;if(isFinite(e)){let l=function(e){let t,n,r,s,i,o=Math.abs(e)+"",a=0;for((n=o.indexOf(ae))>-1&&(o=o.replace(ae,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===ce;r++);if(r===(i=o.length))t=[0],n=1;else{for(i--;o.charAt(i)===ce;)i--;for(n-=r,t=[],s=0;r<=i;r++,s++)t[s]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(l=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(i){const e=i.match(oe);if(null===e)throw new Error(`${i} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(u=le(t)),null!=n&&(h=le(n)),null!=r?d=le(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,s=r.length-e.integerLen;const i=Math.min(Math.max(t,s),n);let o=i+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{s=Math.max(0,s),e.integerLen=1,r.length=Math.max(1,o=i+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;s<Math.max(0,i);s++)r.push(0);let c=0!==i;const l=t+e.integerLen,u=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),t>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(l,h,d);let f=l.digits,p=l.integerLen;const m=l.exponent;let g=[];for(c=f.every(e=>!e);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(L(n,r)),g.length&&(a+=L(n,s)+g.join("")),m&&(a+=L(n,O.Exponential)+"+"+m)}else a=L(n,O.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),s=r[0],i=r[1],o=-1!==s.indexOf(ae)?s.split(ae):[s.substring(0,s.lastIndexOf(ce)+1),s.substring(s.lastIndexOf(ce)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const e=c.charAt(u);e===ce?n.minFrac=n.maxFrac=u+1:"#"===e?n.maxFrac=u+1:n.posSuf+=e}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){const e=s.length-n.posPre.length-n.posSuf.length,t=i.indexOf("#");n.negPre=i.substr(0,t).replace(/'/g,""),n.negSuf=i.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}(t,C.Decimal),L(t,O.MinusSign)),t,O.Group,O.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),s,n)}catch(i){throw we(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"number",type:e,pure:!0}),e})(),ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:ue,useClass:he}]}),e})();const Ae="browser";function xe(e){return"server"===e}let Ne=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new Oe((0,r.LFG)(c),window)}),e})();class Oe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Re(this.window.history)||Re(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Re(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class De{}},3018:(e,t,n)=>{"use strict";n.d(t,{deG:()=>an,tb:()=>kc,AFp:()=>Ec,ip1:()=>bc,CZH:()=>_c,hGG:()=>bl,z2F:()=>ul,ahi:()=>sn,sBO:()=>va,Sil:()=>Fc,_Vd:()=>qo,aQ5:()=>ln,EJc:()=>Nc,SBq:()=>Go,qLn:()=>Ir,vpe:()=>Ja,L6J:()=>wc,gxx:()=>li,tBr:()=>Nn,XFs:()=>O,OlP:()=>on,zs3:()=>Ii,ZZ4:()=>ha,aQg:()=>fa,soG:()=>xc,YKP:()=>Aa,v3s:()=>dl,h0i:()=>ka,PXZ:()=>il,R0b:()=>jc,FiY:()=>On,r_U:()=>vc,Lbi:()=>Cc,g9A:()=>Tc,Qsj:()=>Ko,FYo:()=>Wo,JOm:()=>kr,Tiy:()=>Qo,q3G:()=>vr,tp0:()=>Rn,EAV:()=>ml,Rgc:()=>Sa,dDg:()=>Wc,DyG:()=>hn,q4F:()=>Zo,GfV:()=>Jo,i9L:()=>un,s_b:()=>Na,ifc:()=>M,eFA:()=>ol,G48:()=>rl,Gpc:()=>m,X6Q:()=>nl,_c5:()=>vl,VLi:()=>Qc,c2e:()=>Ac,zSh:()=>hi,wAp:()=>Ao,vHH:()=>v,EiD:()=>gr,mCW:()=>Zn,qzn:()=>qn,JVY:()=>zn,pB0:()=>Wn,eBb:()=>Gn,L6k:()=>Hn,LAX:()=>Yn,cg1:()=>To,Tjo:()=>yl,kL8:()=>Co,yhl:()=>Bn,dqk:()=>q,sIi:()=>Pi,CqO:()=>eo,QGY:()=>Ji,F4k:()=>Zi,RDi:()=>Ce,AaK:()=>d,z3N:()=>jn,qOj:()=>Ci,TTD:()=>be,_Bn:()=>Vo,xp6:()=>ps,uIk:()=>Fi,ekj:()=>fo,Suo:()=>dc,Xpm:()=>Z,lG2:()=>oe,Yz7:()=>E,cJS:()=>S,oAB:()=>re,Yjl:()=>ae,Y36:()=>qi,_UZ:()=>Wi,BQk:()=>Xi,ynx:()=>Ki,qZA:()=>Yi,TgZ:()=>Gi,EpF:()=>Qi,n5z:()=>Xt,Ikx:()=>_o,LFG:()=>kn,$8M:()=>Jt,$Z:()=>Bi,NdJ:()=>to,CRH:()=>fc,oxw:()=>so,ALo:()=>Ga,lcZ:()=>Ya,xi3:()=>Wa,Hsn:()=>ao,F$t:()=>oo,Q6J:()=>zi,s9C:()=>co,iGM:()=>uc,MAs:()=>ji,CHM:()=>ze,LSH:()=>wr,kYT:()=>se,YNc:()=>Ui,W1O:()=>yc,_uU:()=>vo,Oqu:()=>wo,hij:()=>bo,Gf:()=>hc});var r=n(9765),s=n(5319),i=n(7574),o=n(6682),a=n(2441),c=n(1307);function l(){return new r.xQ}function u(e){for(let t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=u({__forward_ref__:u});function m(e){return e.__forward_ref__=m,e.toString=function(){return d(this())},e}function g(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===m}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${b(e)} found${n}`)}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function S(e){return{providers:e.providers||[],imports:e.imports||[]}}function I(e){return T(e,k)||T(e,x)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(A)||e.hasOwnProperty(N))?e[A]:null}const k=u({"\u0275prov":u}),A=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),N=u({ngInjectorDef:u});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let R;function D(e){const t=R;return R=e,t}function P(e,t,n){const r=I(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function L(e){return{toString:e}.toString()}var $=(()=>(($=$||{})[$.OnPush=0]="OnPush",$[$.Default=1]="Default",$))(),M=(()=>((M=M||{})[M.Emulated=0]="Emulated",M[M.None=2]="None",M[M.ShadowDom=3]="ShadowDom",M))();const F="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=F||j||V||U,B={},z=[],H=u({"\u0275cmp":u}),G=u({"\u0275dir":u}),Y=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),K=u({"\u0275loc":u}),X=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let J=0;function Z(e){return L(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,i=e.pipes;return n.id+=J++,n.inputs=ie(e.inputs,t),n.outputs=ie(e.outputs),s&&s.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(te):null,n})}function ee(e){return ce(e)||function(e){return e[G]||null}(e)}function te(e){return function(e){return e[Y]||null}(e)}const ne={};function re(e){return L(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function se(e,t){return L(()=>{const n=le(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function ie(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}const oe=Z;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[H]||null}function le(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const ue=20,he=10;function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function pe(e){return 0!=(8&e.flags)}function me(e){return 2==(2&e.flags)}function ge(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(X)?e[X]:null}class we{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function be(){return _e}function _e(e){return e.type.prototype.ngOnChanges&&(e.setInput=Se),Ee}function Ee(){const e=Ie(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Se(e,t,n,r){const s=Ie(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),i=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[n],c=o[a];i[a]=new we(c&&c.currentValue,t,o===B),e[r]=t}function Ie(e){return e.__ngSimpleChanges__||null}let Te;function Ce(e){Te=e}function ke(e){return!!e.listen}be.ngInherit=!0;const Ae={createRenderer:(e,t)=>void 0!==Te?Te:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Ne(e,t){return xe(t[e])}function Oe(e,t){return xe(t[e.index])}function Re(e,t){return e.data[t]}function De(e,t){return e[t]}function Pe(e,t){const n=t[e];return de(n)?n:n[0]}function Le(e){return 4==(4&e[2])}function $e(e){return 128==(128&e[2])}function Me(e,t){return null==t?null:e[t]}function Fe(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:ct(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ue.bindingsEnabled}function qe(){return Ue.lFrame.lView}function Be(){return Ue.lFrame.tView}function ze(e){return Ue.lFrame.contextLView=e,e[8]}function He(){let e=Ge();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ge(){return Ue.lFrame.currentTNode}function Ye(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function We(){return Ue.lFrame.isParent}function Ke(){Ue.lFrame.isParent=!1}function Xe(){return Ue.isInCheckNoChangesMode}function Qe(e){Ue.isInCheckNoChangesMode=e}function Je(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ze(){return Ue.lFrame.bindingIndex++}function et(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,tt(t)}function tt(e){Ue.lFrame.currentDirectiveIndex=e}function nt(){return Ue.lFrame.currentQueryIndex}function rt(e){Ue.lFrame.currentQueryIndex=e}function st(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function it(e,t,n){if(n&O.SkipSelf){let r=t,s=e;for(;r=r.parent,!(null!==r||n&O.Host||(r=st(s),null===r)||(s=s[15],10&r.type)););if(null===r)return!1;t=r,e=s}const r=Ue.lFrame=at();return r.currentTNode=t,r.lView=e,!0}function ot(e){const t=at(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function at(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?ct(e):t}function ct(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lt(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ut=lt;function ht(){const e=lt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dt(){return Ue.lFrame.selectedIndex}function ft(e){Ue.lFrame.selectedIndex=e}function pt(){const e=Ue.lFrame;return Re(e.tView,e.selectedIndex)}function mt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:s,ngAfterViewInit:i,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),i&&(e.viewHooks||(e.viewHooks=[])).push(-n,i),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function gt(e,t,n){wt(e,t,3,n)}function yt(e,t,n,r){(3&e[2])===n&&wt(e,t,n,r)}function vt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function wt(e,t,n,r){const s=null!=r?r:-1,i=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<i;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<s||-1==s)&&(bt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function bt(e,t,n,r){const s=n[r]<0,i=n[r+1],o=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(o)}finally{}}}else try{i.call(o)}finally{}}const _t=-1;class Et{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function St(e,t,n){const r=ke(e);let s=0;for(;s<n.length;){const i=n[s];if("number"==typeof i){if(0!==i)break;s++;const o=n[s++],a=n[s++],c=n[s++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=i,a=n[++s];Tt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function It(e){return 3===e||4===e||6===e}function Tt(e){return 64===e.charCodeAt(0)}function Ct(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||kt(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function kt(e,t,n,r,s){let i=0,o=e.length;if(-1===t)o=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(e.splice(o,0,t),i=o+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}function At(e){return e!==_t}function xt(e){return 32767&e}function Nt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Ot=!0;function Rt(e){const t=Ot;return Ot=e,t}let Dt=0;function Pt(e,t){const n=$t(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Lt(r.data,e),Lt(t,null),Lt(r.blueprint,null));const s=Mt(e,t),i=e.injectorIndex;if(At(s)){const e=xt(s),n=Nt(s,t),r=n[1].data;for(let s=0;s<8;s++)t[i+s]=n[e+s]|r[e+s]}return t[i+8]=s,i}function Lt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $t(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){const e=s[1],t=e.type;if(r=2===t?e.declTNode:1===t?s[6]:null,null===r)return _t;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _t}function Ft(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Dt++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function Vt(e,t,n){if(n&O.Optional)return e;_(t,"NodeInjector")}function Ut(e,t,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const s=e[9],i=D(void 0);try{return s?s.get(t,r,n&O.Optional):P(t,r,n&O.Optional)}finally{D(i)}}return Vt(r,t,n)}function jt(e,t,n,r=O.Default,s){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?255&t:Bt:t}(n);if("function"==typeof i){if(!it(t,e,r))return r&O.Host?Vt(s,n,r):Ut(t,n,r,s);try{const e=i(r);if(null!=e||r&O.Optional)return e;_(n)}finally{ut()}}else if("number"==typeof i){let s=null,o=$t(e,t),a=_t,c=r&O.Host?t[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Mt(e,t):t[o+8],a!==_t&&Wt(r,!1)?(s=t[1],o=xt(a),t=Nt(a,t)):o=-1);-1!==o;){const e=t[1];if(Yt(i,o,e.data)){const e=zt(o,t,n,s,r,c);if(e!==qt)return e}a=t[o+8],a!==_t&&Wt(r,t[1].data[o+8]===c)&&Yt(i,o,t)?(s=e,o=xt(a),t=Nt(a,t)):o=-1}}}return Ut(t,n,r,s)}const qt={};function Bt(){return new Kt(He(),qe())}function zt(e,t,n,r,s,i){const o=t[1],a=o.data[e+8],c=Ht(a,o,n,null==r?me(a)&&Ot:r!=o&&0!=(3&a.type),s&O.Host&&i===a);return null!==c?Gt(t,o,c,a):qt}function Ht(e,t,n,r,s){const i=e.providerIndexes,o=t.data,a=1048575&i,c=e.directiveStart,l=i>>20,u=s?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(s){const e=o[c];if(e&&ye(e)&&e.type===n)return c}return null}function Gt(e,t,n,r){let s=e[n];const i=t.data;if(s instanceof Et){const o=s;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(b(i[n]));const a=Rt(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;it(e,r,O.Default);try{s=e[n]=o.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const r=_e(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==c&&D(c),Rt(a),o.resolving=!1,ut()}}return s}function Yt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Wt(e,t){return!(e&O.Self||e&O.Host&&t)}class Kt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return jt(this._tNode,this._lView,e,void 0,t)}}function Xt(e){return L(()=>{const t=e.prototype.constructor,n=t[X]||Qt(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const e=s[X]||Qt(s);if(e&&e!==n)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function Qt(e){return y(e)?()=>{const t=Qt(g(e));return t&&t()}:ve(e)}function Jt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const s=n[r];if(It(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(He(),e)}const Zt="__parameters__",en="__prop__metadata__";function tn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function nn(e,t,n){return L(()=>{const r=tn(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,r){const s=e.hasOwnProperty(Zt)?e[Zt]:Object.defineProperty(e,Zt,{value:[]})[Zt];for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function rn(e,t,n,r){return L(()=>{const s=tn(t);function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return function(n,s){const i=n.constructor,o=i.hasOwnProperty(en)?i[en]:Object.defineProperty(i,en,{value:{}})[en];o[s]=o.hasOwnProperty(s)&&o[s]||[],o[s].unshift(t),r&&r(n,s,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const sn=function(){return nn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Jt(e)}))}();class on{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=E({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new on("AnalyzeForEntryComponents");class cn{}const ln=rn("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),cn),un=rn("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),cn),hn=Function;function dn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),dn(r,t)):t!==e&&t.push(r)}return t}function fn(e,t){e.forEach(e=>Array.isArray(e)?fn(e,t):t(e))}function pn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function mn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function yn(e,t,n){let r=wn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function vn(e,t){const n=wn(e,t);if(n>=0)return e[1|n]}function wn(e,t){return function(e,t,n){let r=0,s=e.length>>1;for(;s!==r;){const n=r+(s-r>>1),i=e[n<<1];if(t===i)return n<<1;i>t?s=n:r=n+1}return~(s<<1)}(e,t)}const bn={},_n=/\n/gm,En="__source",Sn=u({provide:String,useValue:u});let In;function Tn(e){const t=In;return In=e,t}function Cn(e,t=O.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?P(e,void 0,t):In.get(e,t&O.Optional?null:void 0,t)}function kn(e,t=O.Default){return(R||Cn)(g(e),t)}function An(e){const t=[];for(let n=0;n<e.length;n++){const r=g(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=O.Default;for(let t=0;t<r.length;t++){const s=r[t],i=s.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=s.token:n|=i:e=s}t.push(kn(e,n))}else t.push(kn(r))}return t}function xn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Nn=xn(nn("Inject",e=>({token:e})),-1),On=xn(nn("Optional"),8),Rn=xn(nn("SkipSelf"),4);let Dn;function Pn(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,q.trustedTypes))try{Dn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}class Ln{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $n extends Ln{getTypeName(){return"HTML"}}class Mn extends Ln{getTypeName(){return"Style"}}class Fn extends Ln{getTypeName(){return"Script"}}class Vn extends Ln{getTypeName(){return"URL"}}class Un extends Ln{getTypeName(){return"ResourceURL"}}function jn(e){return e instanceof Ln?e.changingThisBreaksApplicationSecurity:e}function qn(e,t){const n=Bn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Bn(e){return e instanceof Ln&&e.getTypeName()||null}function zn(e){return new $n(e)}function Hn(e){return new Mn(e)}function Gn(e){return new Fn(e)}function Yn(e){return new Vn(e)}function Wn(e){return new Un(e)}class Kn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Pn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Xn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Pn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(e){return(e=String(e)).match(Qn)||e.match(Jn)?e:"unsafe:"+e}function er(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function tr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const nr=er("area,br,col,hr,img,wbr"),rr=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=er("rp,rt"),ir=tr(sr,rr),or=tr(nr,tr(rr,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(sr,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),ar=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=tr(ar,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ur=er("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!or.hasOwnProperty(t))return this.sanitizedSomething=!0,!ur.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,i=t.toLowerCase();if(!lr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;ar[i]&&(o=Zn(o)),cr[i]&&(r=o,o=(r=String(r)).split(",").map(e=>Zn(e.trim())).join(", ")),this.buf.push(" ",t,'="',pr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();or.hasOwnProperty(t)&&!nr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(pr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function pr(e){return e.replace(/&/g,"&amp;").replace(dr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function gr(e,t){let n=null;try{mr=mr||function(e){const t=new Xn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(e){return!1}}()?new Kn(t):t}(e);let r=t?String(t):"";n=mr.getInertBodyElement(r);let s=5,i=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=i,i=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==i);return Pn((new hr).sanitizeChildren(yr(n)||n))}finally{if(n){const e=yr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function yr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function wr(e){const t=function(){const e=qe();return e&&e[12]}();return t?t.sanitize(vr.URL,e)||"":qn(e,"URL")?jn(e):Zn(w(e))}function br(e,t){e.__ngContext__=t}function _r(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Er(e){return e.ngOriginalError}function Sr(e,...t){e.error(...t)}class Ir{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||Sr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Er(e)):null}_findOriginalError(e){let t=e&&Er(e);for(;t&&Er(t);)t=Er(t);return t||null}}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Cr(e){return e instanceof Function?e():e}var kr=(()=>((kr=kr||{})[kr.Important=1]="Important",kr[kr.DashCase=2]="DashCase",kr))();function Ar(e,t){return(void 0)(e,t)}function xr(e){const t=e[3];return fe(t)?t[3]:t}function Nr(e){return Rr(e[13])}function Or(e){return Rr(e[4])}function Rr(e){for(;null!==e&&!fe(e);)e=e[4];return e}function Dr(e,t,n,r,s){if(null!=r){let i,o=!1;fe(r)?i=r:de(r)&&(o=!0,r=r[0]);const a=xe(r);0===e&&null!==n?null==s?jr(t,n,a):Ur(t,n,a,s||null,!0):1===e&&null!==n?Ur(t,n,a,s||null,!0):2===e?function(e,t,n){const r=Br(e,t);r&&function(e,t,n,r){ke(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=i&&function(e,t,n,r,s){const i=n[7];i!==xe(n)&&Dr(t,e,r,i,s);for(let o=he;o<n.length;o++){const s=n[o];Qr(s[1],s,e,t,r,i)}}(t,e,i,n,s)}}function Pr(e,t,n){return ke(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Lr(e,t){const n=e[9],r=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Ve(s,-1)),n.splice(r,1)}function $r(e,t){if(e.length<=he)return;const n=he+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Lr(i,r),t>0&&(e[n-1][4]=r[4]);const o=mn(e,he+t);Qr(r[1],s=r,s[11],2,null,null),s[0]=null,s[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var s;return r}function Mr(e,t){if(!(256&t[2])){const n=t[11];ke(n)&&n.destroyNode&&Qr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Fr(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&Fr(t[1],t),t=t[3];null===t&&(t=e),de(t)&&Fr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Et)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],s=t[n+1];try{s.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const e=n[i+1],o="function"==typeof e?e(t):xe(t[e]),a=r[s=n[i+2]],c=n[i+3];"boolean"==typeof c?o.removeEventListener(n[i],a,c):c>=0?r[s=c]():r[s=-c].unsubscribe(),i+=2}else{const e=r[s=n[i+1]];n[i].call(e)}if(null!==r){for(let e=s+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&ke(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&Lr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Vr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return Oe(r,n)}(e,t.parent,n)}function Ur(e,t,n,r,s){ke(e)?e.insertBefore(t,n,r,s):t.insertBefore(n,r,s)}function jr(e,t,n){ke(e)?e.appendChild(t,n):t.appendChild(n)}function qr(e,t,n,r,s){null!==r?Ur(e,t,n,r,s):jr(e,t,n)}function Br(e,t){return ke(e)?e.parentNode(t):t.parentNode}function zr(e,t,n){return Hr(e,t,n)}let Hr=function(e,t,n){return 40&e.type?Oe(e,n):null};function Gr(e,t,n,r){const s=Vr(e,r,t),i=t[11],o=zr(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(i,s,n[a],o,!1);else qr(i,s,n,o,!1)}function Yr(e,t){if(null!==t){const n=t.type;if(3&n)return Oe(t,e);if(4&n)return Kr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Yr(e,n);{const n=e[t.index];return fe(n)?Kr(-1,n):xe(n)}}if(32&n)return Ar(t,e)()||xe(e[t.index]);{const n=Wr(e,t);return null!==n?Array.isArray(n)?n[0]:Yr(xr(e[16]),n):Yr(e,t.next)}}return null}function Wr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Kr(e,t){const n=he+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Yr(e,r)}return t[7]}function Xr(e,t,n,r,s,i,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&br(xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Xr(e,t,n.child,r,s,i,!1),Dr(t,e,s,a,i);else if(32&c){const o=Ar(n,r);let c;for(;c=o();)Dr(t,e,s,c,i);Dr(t,e,s,a,i)}else 16&c?Jr(e,t,r,n,s,i):Dr(t,e,s,a,i);n=o?n.projectionNext:n.next}}function Qr(e,t,n,r,s,i){Xr(n,r,e.firstChild,t,s,i,!1)}function Jr(e,t,n,r,s,i){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Dr(t,e,s,a[c],i);else Xr(e,t,a,o[3],s,i,!0)}function Zr(e,t,n){ke(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function es(e,t,n){ke(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ts(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const n=t.length;if(s+n===r||e.charCodeAt(s+n)<=32)return s}n=s+1}}const ns="ng-template";function rs(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==ts(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ss(e){return 4===e.type&&e.value!==ns}function is(e,t,n){return t===(4!==e.type||n?e.value:ns)}function os(e,t,n){let r=4;const s=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(It(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!is(e,c,n)||""===c&&1===t.length){if(as(r))return!1;o=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!rs(e.attrs,l,n)){if(as(r))return!1;o=!0}continue}const u=cs(8&r?"class":c,s,ss(e),n);if(-1===u){if(as(r))return!1;o=!0;continue}if(""!==l){let e;e=u>i?"":s[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==ts(t,l,0)||2&r&&l!==e){if(as(r))return!1;o=!0}}}}else{if(!o&&!as(r)&&!as(c))return!1;if(o&&as(c))continue;o=!1,r=c|1&r}}return as(r)||o}function as(e){return 0==(1&e)}function cs(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let n=!1;for(;s<t.length;){const r=t[s];if(r===e)return s;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ls(e,t,n=!1){for(let r=0;r<t.length;r++)if(os(e,t[r],n))return!0;return!1}function us(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function hs(e,t){return e?":not("+t.trim()+")":t}function ds(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""===s||as(o)||(t+=hs(i,s),s=""),r=o,i=i||!as(r);n++}return""!==s&&(t+=hs(i,s)),t}const fs={};function ps(e){ms(Be(),qe(),dt()+e,Xe())}function ms(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&gt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&yt(t,r,0,n)}ft(n)}function gs(e,t){return e<<17|t<<2}function ys(e){return e>>17&32767}function vs(e){return 2|e}function ws(e){return(131068&e)>>2}function bs(e,t){return-131069&e|t<<2}function _s(e){return 1|e}function Es(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];rt(s),n.contentQueries(2,t[i],i)}}}function Ss(e,t,n,r,s,i,o,a,c,l){const u=t.blueprint.slice();return u[0]=s,u[2]=140|r,Fe(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=i,u[16]=2==t.type?e[16]:u,u}function Is(e,t,n,r,s){let i=e.data[t];if(null===i)i=function(e,t,n,r,s){const i=Ge(),o=We(),a=e.data[t]=function(e,t,n,r,s,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=a),null!==i&&(o?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(e,t,n,r,s),Ue.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===e?-1:e.injectorIndex}return Ye(i,!0),i}function Ts(e,t,n,r){if(0===n)return-1;const s=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Cs(e,t,n){ot(t);try{const r=e.viewQuery;null!==r&&ni(1,r,n);const s=e.template;null!==s&&xs(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Es(e,t),e.staticViewQueries&&ni(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)Qs(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ht()}}function ks(e,t,n,r){const s=t[2];if(256==(256&s))return;ot(t);const i=Xe();try{Fe(t),Ue.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&xs(e,t,n,2,r);const o=3==(3&s);if(!i)if(o){const n=e.preOrderCheckHooks;null!==n&&gt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&yt(t,n,0,null),vt(t,0)}if(function(e){for(let t=Nr(e);null!==t;t=Or(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ve(r,1),n[2]|=1024}}}(t),function(e){for(let t=Nr(e);null!==t;t=Or(t))for(let e=he;e<t.length;e++){const n=t[e],r=n[1];$e(n)&&ks(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Es(e,t),!i)if(o){const n=e.contentCheckHooks;null!==n&&gt(t,n)}else{const n=e.contentHooks;null!==n&&yt(t,n,1),vt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)ft(~r);else{const s=r,i=n[++e],o=n[++e];et(i,s),o(2,t[s])}}}finally{ft(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Ks(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ni(2,c,r),!i)if(o){const n=e.viewCheckHooks;null!==n&&gt(t,n)}else{const n=e.viewHooks;null!==n&&yt(t,n,2),vt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{ht()}}function As(e,t,n,r){const s=t[10],i=!Xe(),o=Le(t);try{i&&!o&&s.begin&&s.begin(),o&&Cs(e,t,r),ks(e,t,n,r)}finally{i&&!o&&s.end&&s.end()}}function xs(e,t,n,r,s){const i=dt(),o=2&r;try{ft(-1),o&&t.length>ue&&ms(e,t,ue,Xe()),n(r,s)}finally{ft(i)}}function Ns(e,t,n){if(pe(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,n[s],s)}}}function Os(e,t,n){je()&&(function(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Pt(n,t),br(r,t);const o=n.initialInputs;for(let a=s;a<i;a++){const r=e.data[a],i=ye(r);i&&Hs(t,n,r);const c=Gt(t,e,a,n);br(c,t),null!==o&&Gs(0,a-s,c,r,0,o),i&&(Pe(n.index,t)[8]=c)}}(e,t,n,Oe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,o=Ue.lFrame.currentDirectiveIndex;try{ft(i);for(let n=r;n<s;n++){const r=e.data[n],s=t[n];tt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Us(r,s)}}finally{ft(-1),tt(o)}}(e,t,n))}function Rs(e,t,n=Oe){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?n(t,e):e[o];e[s++]=a}}}function Ds(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ps(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ps(e,t,n,r,s,i,o,a,c,l){const u=ue+r,h=u+s,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:fs);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ls(e,t,n,r){const s=si(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&ii(e).push(r,s.length-1))}function $s(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function Ms(e,t,n,r,s,i,o,a){const c=Oe(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(ai(e,n,l,r,s),me(t)&&function(e,t){const n=Pe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,t.value||"",r):s,ke(i)?i.setProperty(c,r,s):Tt(r)||(c.setProperty?c.setProperty(r,s):c[r]=s))}function Fs(e,t,n,r){let s=!1;if(je()){const i=function(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let i=0;i<r.length;i++){const o=r[i];ls(n,o.selectors,!1)&&(s||(s=[]),Ft(Pt(n,t),e,o.type),ye(o)?(js(e,n),s.unshift(o)):s.push(o))}return s}(e,t,n),o=null===r?null:{"":-1};if(null!==i){s=!0,Bs(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=Ts(e,t,i.length,null);for(let s=0;s<i.length;s++){const l=i[s];n.mergedAttrs=Ct(n.mergedAttrs,l.hostAttrs),zs(e,n,t,c,l),qs(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,s=t.attrs,i=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===s||ss(t)?null:Ys(n,s);i.push(l),o=$s(n,c,o),a=$s(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=i,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=n[t[e+1]];if(null==s)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],s)}}}(n,r,o)}return n.mergedAttrs=Ct(n.mergedAttrs,n.attrs),s}function Vs(e,t,n,r,s,i){const o=i.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,s,o)}}function Us(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function js(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function qs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Bs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function zs(e,t,n,r,s){e.data[r]=s;const i=s.factory||(s.factory=ve(s.type)),o=new Et(i,ye(s),null);e.blueprint[r]=o,n[r]=o,Vs(e,t,0,r,Ts(e,n,s.hostVars,fs),s)}function Hs(e,t,n){const r=Oe(t,e),s=Ds(n),i=e[10],o=Js(e,Ss(e,s,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=o}function Gs(e,t,n,r,s,i){const o=i[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const s=o[t++],i=o[t++],a=o[t++];null!==e?r.setInput(n,a,s,i):n[i]=a}}}function Ys(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ws(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ks(e,t){const n=Pe(t,e);if($e(n)){const e=n[1];80&n[2]?ks(e,n,e.template,n[8]):n[5]>0&&Xs(n)}}function Xs(e){for(let n=Nr(e);null!==n;n=Or(n))for(let e=he;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];ks(e,t,e.template,t[8])}else t[5]>0&&Xs(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Pe(t[n],e);$e(r)&&r[5]>0&&Xs(r)}}function Qs(e,t){const n=Pe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Cs(r,n,n[8])}function Js(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Zs(e){for(;e;){e[2]|=64;const t=xr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ei(e,t,n){const r=t[10];r.begin&&r.begin();try{ks(e,t,e.template,n)}catch(s){throw oi(t,s),s}finally{r.end&&r.end()}}function ti(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=_r(n),s=r[1];As(s,r,s.template,n)}}(e[8])}function ni(e,t,n){rt(0),t(e,n)}const ri=(()=>Promise.resolve(null))();function si(e){return e[7]||(e[7]=[])}function ii(e){return e.cleanup||(e.cleanup=[])}function oi(e,t){const n=e[9],r=n?n.get(Ir,null):null;r&&r.handleError(t)}function ai(e,t,n,r,s){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,s,r,a):c[a]=s}}function ci(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?i=e:1==i?s=f(s,e):2==i&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}const li=new on("INJECTOR",-1);class ui{get(e,t=bn){if(t===bn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const hi=new on("Set Injector scope."),di={},fi={};let pi;function mi(){return void 0===pi&&(pi=new ui),pi}function gi(e,t=null,n=null,r){return new yi(e,n,t||mi(),r)}class yi{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&fn(t,n=>this.processProvider(n,e,t)),fn([e],e=>this.processInjectorType(e,[],s)),this.records.set(li,bi(void 0,this));const i=this.records.get(hi);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=bn,n=O.Default){this.assertNotDestroyed();const r=Tn(this),s=D(void 0);try{if(!(n&O.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof on)&&I(e);t=n&&this.injectableDefInScope(n)?bi(vi(e),di):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&O.Self?mi():this.parent).get(e,t=n&O.Optional&&t===bn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(e)),r)throw o;return function(e,t,n,r){const s=e.ngTempTokenPath;throw t[En]&&s.unshift(t[En]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=d(t);if(Array.isArray(t))s=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}s=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(_n,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{D(s),Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=g(e)))return!1;let r=C(e);const s=null==r&&e.ngModule||void 0,i=void 0===s?e:s,o=-1!==n.indexOf(i);if(void 0!==s&&(r=C(s)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(i);try{fn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];fn(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(i);const a=ve(i)||(()=>new i);this.records.set(i,bi(a,di));const c=r.providers;if(null!=c&&!o){const t=e;fn(c,e=>this.processProvider(e,t,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let r=Ei(e=g(e))?e:g(e&&e.provide);const s=function(e,t,n){return _i(e)?bi(void 0,e.useValue):bi(wi(e),di)}(e);if(Ei(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=bi(void 0,di,!0),t.factory=()=>An(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,s)}hydrate(e,t){var n;return t.value===di&&(t.value=fi,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=g(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function vi(e){const t=I(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof on)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=gn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[k]||e[x]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function wi(e,t,n){let r;if(Ei(e)){const t=g(e);return ve(t)||vi(t)}if(_i(e))r=()=>g(e.useValue);else if((s=e)&&s.useFactory)r=()=>e.useFactory(...An(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>kn(g(e.useExisting));else{const t=g(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||vi(t);r=()=>new t(...An(e.deps))}var s;return r}function bi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _i(e){return null!==e&&"object"==typeof e&&Sn in e}function Ei(e){return"function"==typeof e}const Si=function(e,t,n){return function(e,t=null,n=null,r){const s=gi(e,t,n,r);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};class Ii{static create(e,t){return Array.isArray(e)?Si(e,t,""):Si(e.providers,e.parent,e.name||"")}}function Ti(e,t){mt(_r(e)[1],He())}function Ci(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let s;if(ye(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){r.push(s);const t=e;t.inputs=ki(e.inputs),t.declaredInputs=ki(e.declaredInputs),t.outputs=ki(e.outputs);const n=s.hostBindings;n&&Ni(e,n);const i=s.viewQuery,o=s.contentQueries;if(i&&Ai(e,i),o&&xi(e,o),h(e.inputs,s.inputs),h(e.declaredInputs,s.declaredInputs),h(e.outputs,s.outputs),ye(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}}const t=s.features;if(t)for(let r=0;r<t.length;r++){const s=t[r];s&&s.ngInherit&&s(e),s===Ci&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Ct(s.hostAttrs,n=Ct(n,s.hostAttrs))}}(r)}function ki(e){return e===B?{}:e===z?[]:e}function Ai(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function xi(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,s)=>{t(e,r,s),n(e,r,s)}:t}function Ni(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}Ii.THROW_IF_NOT_FOUND=bn,Ii.NULL=new ui,Ii.\u0275prov=E({token:Ii,providedIn:"any",factory:()=>kn(li)}),Ii.__NG_ELEMENT_ID__=-1;let Oi=null;function Ri(){if(!Oi){const e=q.Symbol;if(e&&e.iterator)Oi=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Oi=n)}}}return Oi}class Di{constructor(e){this.wrapped=e}static wrap(e){return new Di(e)}static unwrap(e){return Di.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Di}}function Pi(e){return!!Li(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ri()in e)}function Li(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $i(e,t,n){return e[t]=n}function Mi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Fi(e,t,n,r){const s=qe();return Mi(s,Ze(),t)&&(Be(),function(e,t,n,r,s,i){const o=Oe(e,t);!function(e,t,n,r,s,i,o){if(null==i)ke(e)?e.removeAttribute(t,s,n):t.removeAttribute(s);else{const a=null==o?w(i):o(i,r||"",s);ke(e)?e.setAttribute(t,s,a,n):n?t.setAttributeNS(n,s,a):t.setAttribute(s,a)}}(t[11],o,i,e.value,n,r,s)}(pt(),s,e,t,n,r)),Fi}function Vi(e,t,n,r){return Mi(e,Ze(),n)?t+w(n)+r:fs}function Ui(e,t,n,r,s,i,o,a){const c=qe(),l=Be(),u=e+ue,h=l.firstCreatePass?function(e,t,n,r,s,i,o,a,c){const l=t.consts,u=Is(t,e,4,o||null,Me(l,a));Fs(t,n,u,Me(l,c)),mt(t,u);const h=u.tViews=Ps(2,u,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,s,i,o):l.data[u];Ye(h,!1);const d=c[11].createComment("");Gr(l,c,d,h),br(d,c),Js(c,c[u]=Ws(d,c,d,h)),ge(h)&&Os(l,c,h),null!=o&&Rs(c,h,a)}function ji(e){return De(Ue.lFrame.contextLView,ue+e)}function qi(e,t=O.Default){const n=qe();return null===n?kn(e,t):jt(He(),n,g(e),t)}function Bi(){throw new Error("invalid")}function zi(e,t,n){const r=qe();return Mi(r,Ze(),t)&&Ms(Be(),pt(),r,e,t,r[11],n,!1),zi}function Hi(e,t,n,r,s){const i=s?"class":"style";ai(e,n,t.inputs[i],i,r)}function Gi(e,t,n,r){const s=qe(),i=Be(),o=ue+e,a=s[11],c=s[o]=Pr(a,t,Ue.lFrame.currentNamespace),l=i.firstCreatePass?function(e,t,n,r,s,i,o){const a=t.consts,c=Is(t,e,2,s,Me(a,i));return Fs(t,n,c,Me(a,o)),null!==c.attrs&&ci(c,c.attrs,!1),null!==c.mergedAttrs&&ci(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,s,0,t,n,r):i.data[o];Ye(l,!0);const u=l.mergedAttrs;null!==u&&St(a,c,u);const h=l.classes;null!==h&&es(a,c,h);const d=l.styles;null!==d&&Zr(a,c,d),64!=(64&l.flags)&&Gr(i,s,c,l),0===Ue.lFrame.elementDepthCount&&br(c,s),Ue.lFrame.elementDepthCount++,ge(l)&&(Os(i,s,l),Ns(i,l,s)),null!==r&&Rs(s,l)}function Yi(){let e=He();We()?Ke():(e=e.parent,Ye(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=Be();n.firstCreatePass&&(mt(n,e),pe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Hi(n,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Hi(n,t,qe(),t.stylesWithoutHost,!1)}function Wi(e,t,n,r){Gi(e,t,n,r),Yi()}function Ki(e,t,n){const r=qe(),s=Be(),i=e+ue,o=s.firstCreatePass?function(e,t,n,r,s){const i=t.consts,o=Me(i,r),a=Is(t,e,8,"ng-container",o);return null!==o&&ci(a,o,!0),Fs(t,n,a,Me(i,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,s,r,t,n):s.data[i];Ye(o,!0);const a=r[i]=r[11].createComment("");Gr(s,r,a,o),br(a,r),ge(o)&&(Os(s,r,o),Ns(s,o,r)),null!=n&&Rs(r,o)}function Xi(){let e=He();const t=Be();We()?Ke():(e=e.parent,Ye(e,!1)),t.firstCreatePass&&(mt(t,e),pe(e)&&t.queries.elementEnd(e))}function Qi(){return qe()}function Ji(e){return!!e&&"function"==typeof e.then}function Zi(e){return!!e&&"function"==typeof e.subscribe}const eo=Zi;function to(e,t,n,r){const s=qe(),i=Be(),o=He();return function(e,t,n,r,s,i,o,a){const c=ge(r),l=e.firstCreatePass&&ii(e),u=si(t);let h=!0;if(3&r.type||a){const d=Oe(r,t),f=a?a(d):d,p=u.length,m=a?e=>a(xe(e[r.index])):r.index;if(ke(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const s=e.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const e=s[i];if(e===n&&s[i+1]===r){const e=t[7],n=s[i+2];return e.length>n?e[n]:null}"string"==typeof e&&(i+=2)}return null}(e,t,s,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=ro(r,t,0,i,!1);const e=n.listen(f,s,i);u.push(i,e),l&&l.push(s,m,p,p+1)}}else i=ro(r,t,0,i,!0),f.addEventListener(s,i,o),u.push(i),l&&l.push(s,m,p,o)}else i=ro(r,t,0,i,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[s])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(i),o=u.length;u.push(i,e),l&&l.push(s,r.index,o,-(o+1))}}}(i,s,s[11],o,e,t,!!n,r),to}function no(e,t,n,r){try{return!1!==n(r)}catch(s){return oi(e,s),!1}}function ro(e,t,n,r,s){return function n(i){if(i===Function)return r;const o=2&e.flags?Pe(e.index,t):t;0==(32&t[2])&&Zs(o);let a=no(t,0,r,i),c=n.__ngNextListenerFn__;for(;c;)a=no(t,0,c,i)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function so(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function io(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const i=t[s];if("*"!==i){if(null===r?ls(e,i,!0):us(r,i))return s}else n=s}return n}function oo(e){const t=qe()[16][6];if(!t.projection){const n=t.projection=gn(e?e.length:1,null),r=n.slice();let s=t.child;for(;null!==s;){const t=e?io(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s),s=s.next}}}function ao(e,t=0,n){const r=qe(),s=Be(),i=Is(s,ue+e,16,null,n||null);null===i.projection&&(i.projection=t),Ke(),64!=(64&i.flags)&&function(e,t,n){Jr(t[11],0,t,n,Vr(e,n,t),zr(n.parent||t[6],n,t))}(s,r,i)}function co(e,t,n){return lo(e,"",t,"",n),co}function lo(e,t,n,r,s){const i=qe(),o=Vi(i,t,n,r);return o!==fs&&Ms(Be(),pt(),i,e,o,i[11],s,!1),lo}function uo(e,t,n,r,s){const i=e[n+1],o=null===t;let a=r?ys(i):ws(i),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];ho(e[a],t)&&(c=!0,e[a+1]=r?_s(n):vs(n)),a=r?ys(n):ws(n)}c&&(e[n+1]=r?vs(i):_s(i))}function ho(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wn(e,t)>=0}function fo(e,t){return function(e,t,n,r){const s=qe(),i=Be(),o=function(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+2,n}();i.firstUpdatePass&&function(e,t,n,r){const s=e.data;if(null===s[n+1]){const i=s[dt()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(i)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const s=function(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=t.residualClasses;if(null===s)0===t.classBindings&&(n=mo(n=po(null,e,t,n,r),t.attrs,r),i=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(n=po(s,e,t,n,r),null===i){let n=function(e,t,n){const r=t.classBindings;if(0!==ws(r))return e[ys(r)]}(e,t);void 0!==n&&Array.isArray(n)&&(n=po(null,e,t,n[1],r),n=mo(n,t.attrs,r),function(e,t,n,r){e[ys(t.classBindings)]=r}(e,t,0,n))}else i=function(e,t,n){let r;const s=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<s;i++)r=mo(r,e[i].hostAttrs,true);return mo(r,t.attrs,true)}(e,t)}return void 0!==i&&(t.residualClasses=i),n}(s,i,t,r),function(e,t,n,r,s,i){let o=t.classBindings,a=ys(o),c=ws(o);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||wn(e,l)>0)&&(u=!0)}else l=n;if(s)if(0!==c){const t=ys(e[a+1]);e[r+1]=gs(t,a),0!==t&&(e[t+1]=bs(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=gs(a,0),0!==a&&(e[a+1]=bs(e[a+1],r)),a=r;else e[r+1]=gs(c,0),0===a?a=r:e[c+1]=bs(e[c+1],r),c=r;u&&(e[r+1]=vs(e[r+1])),uo(e,l,r,!0),uo(e,l,r,!1),function(e,t,n,r,s){const i=e.residualClasses;null!=i&&"string"==typeof t&&wn(i,t)>=0&&(n[r+1]=_s(n[r+1]))}(t,l,e,r),o=gs(a,c),t.classBindings=o}(s,i,t,n,o)}}(i,e,o,true),t!==fs&&Mi(s,o,t)&&function(e,t,n,r,s,i,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];yo(1==(1&l)?go(c,t,n,s,ws(l),o):void 0)||(yo(i)||function(e){return 2==(2&e)}(l)&&(i=go(c,null,n,s,a,o)),function(e,t,n,r,s){const i=ke(e);s?i?e.addClass(n,r):n.classList.add(r):i?e.removeClass(n,r):n.classList.remove(r)}(r,0,Ne(dt(),n),s,i))}(i,i.data[dt()],s,s[11],e,s[o+1]=function(e,t){return null==e||"object"==typeof e&&(e=d(jn(e))),e}(t),true,o)}(e,t),fo}function po(e,t,n,r,s){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=t[a],r=mo(r,i.hostAttrs,s),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function mo(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?s=o:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),yn(e,o,!!n||t[++i]))}return void 0===e?null:e}function go(e,t,n,r,s,i){const o=null===t;let a;for(;s>0;){const t=e[s],i=Array.isArray(t),c=i?t[1]:t,l=null===c;let u=n[s+1];u===fs&&(u=l?z:void 0);let h=l?vn(u,r):c===r?u:void 0;if(i&&!yo(h)&&(h=vn(t,r)),yo(h)&&(a=h,o))return a;const d=e[s+1];s=o?ys(d):ws(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=vn(e,r))}return a}function yo(e){return void 0!==e}function vo(e,t=""){const n=qe(),r=Be(),s=e+ue,i=r.firstCreatePass?Is(r,s,1,t,null):r.data[s],o=n[s]=function(e,t){return ke(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Gr(r,n,o,i),Ye(i,!1)}function wo(e){return bo("",e,""),wo}function bo(e,t,n){const r=qe(),s=Vi(r,e,t,n);return s!==fs&&function(e,t,n){const r=Ne(t,e);!function(e,t,n){ke(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,dt(),s),bo}function _o(e,t,n){const r=qe();return Mi(r,Ze(),t)&&Ms(Be(),pt(),r,e,t,r[11],n,!0),_o}const Eo=void 0;var So=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Io={};function To(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ko(t);if(n)return n;const r=t.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return So;throw new Error(`Missing locale data for the locale "${e}".`)}function Co(e){return To(e)[Ao.PluralCase]}function ko(e){return e in Io||(Io[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),Io[e]}var Ao=(()=>((Ao=Ao||{})[Ao.LocaleId=0]="LocaleId",Ao[Ao.DayPeriodsFormat=1]="DayPeriodsFormat",Ao[Ao.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ao[Ao.DaysFormat=3]="DaysFormat",Ao[Ao.DaysStandalone=4]="DaysStandalone",Ao[Ao.MonthsFormat=5]="MonthsFormat",Ao[Ao.MonthsStandalone=6]="MonthsStandalone",Ao[Ao.Eras=7]="Eras",Ao[Ao.FirstDayOfWeek=8]="FirstDayOfWeek",Ao[Ao.WeekendRange=9]="WeekendRange",Ao[Ao.DateFormat=10]="DateFormat",Ao[Ao.TimeFormat=11]="TimeFormat",Ao[Ao.DateTimeFormat=12]="DateTimeFormat",Ao[Ao.NumberSymbols=13]="NumberSymbols",Ao[Ao.NumberFormats=14]="NumberFormats",Ao[Ao.CurrencyCode=15]="CurrencyCode",Ao[Ao.CurrencySymbol=16]="CurrencySymbol",Ao[Ao.CurrencyName=17]="CurrencyName",Ao[Ao.Currencies=18]="Currencies",Ao[Ao.Directionality=19]="Directionality",Ao[Ao.PluralCase=20]="PluralCase",Ao[Ao.ExtraData=21]="ExtraData",Ao))();const xo="en-US";let No=xo;function Oo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(No=e.toLowerCase().replace(/_/g,"-"))}function Ro(e,t,n,r,s){if(e=g(e),Array.isArray(e))for(let i=0;i<e.length;i++)Ro(e[i],t,n,r,s);else{const i=Be(),o=qe();let a=Ei(e)?e:g(e.provide),c=wi(e);const l=He(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ei(e)||!e.multi){const r=new Et(c,s,qi),f=Lo(a,t,s?u:u+d,h);-1===f?(Ft(Pt(l,o),i,a),Do(i,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Lo(a,t,u+d,h),p=Lo(a,t,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(s&&!g||!s&&!m){Ft(Pt(l,o),i,a);const u=function(e,t,n,r,s){const i=new Et(e,n,qi);return i.multi=[],i.index=t,i.componentProviders=0,Po(i,s,r&&!n),i}(s?Mo:$o,n.length,s,r,c);!s&&g&&(n[p].providerFactory=u),Do(i,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else Do(i,e,f>-1?f:p,Po(n[s?p:f],c,!s&&r));!s&&r&&g&&n[p].componentProviders++}}}function Do(e,t,n,r){const s=Ei(t);if(s||t.useClass){const i=(t.useClass||t).prototype.ngOnDestroy;if(i){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,i]):o[e+1].push(r,i)}else o.push(n,i)}}}function Po(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lo(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function $o(e,t,n,r){return Fo(this.multi,[])}function Mo(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Gt(n,n[1],this.providerFactory.index,r);i=t.slice(0,e),Fo(s,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],Fo(s,i);return i}function Fo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Vo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Be();if(r.firstCreatePass){const s=ye(e);Ro(n,r.data,r.blueprint,s,!0),Ro(t,r.data,r.blueprint,s,!1)}}(n,r?r(e):e,t)}}class Uo{}class jo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class qo{}function Bo(...e){}function zo(e,t){return new Go(Oe(e,t))}qo.NULL=new jo;const Ho=function(){return zo(He(),qe())};let Go=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Ho,e})();function Yo(e){return e instanceof Go?e.nativeElement:e}class Wo{}let Ko=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Xo(),e})();const Xo=function(){const e=qe(),t=Pe(He().index,e);return function(e){return e[11]}(de(t)?t:e)};let Qo=(()=>{class e{}return e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null}),e})();class Jo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Zo=new Jo("12.1.5");class ea{constructor(){}supports(e){return Pi(e)}create(e){return new na(e)}}const ta=(e,t)=>t;class na{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ta}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const i=!n||t&&t.currentIndex<oa(n,r,s)?t:n,o=oa(i,r,s),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{s||(s=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<s.length?s[n]:s[n]=0,i=r+n;t<=i&&i<e&&(s[n]=r+1)}s[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Pi(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,s=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,n,r,t)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,t),i=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ri()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,e,r,t)),Object.is(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,r,t),i=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new ra(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ia),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ia),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ra{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sa{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ia{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new sa,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oa(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class aa{constructor(){}supports(e){return e instanceof Map||Li(e)}create(){return new ca}}class ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Li(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new la(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class la{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ua(){return new ha([new ea])}let ha=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ua()),deps:[[e,new Rn,new On]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=E({token:e,providedIn:"root",factory:ua}),e})();function da(){return new fa([new aa])}let fa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||da()),deps:[[e,new Rn,new On]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=E({token:e,providedIn:"root",factory:da}),e})();function pa(e,t,n,r,s=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(xe(i)),fe(i))for(let e=he;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&pa(t[1],t,n,r)}const o=n.type;if(8&o)pa(e,t,n.child,r);else if(32&o){const e=Ar(n,t);let s;for(;s=e();)r.push(s)}else if(16&o){const e=Wr(t,n);if(Array.isArray(e))r.push(...e);else{const n=xr(t[16]);pa(n[1],n,e,r,!0)}}n=s?n.projectionNext:n.next}return r}class ma{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return pa(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&($r(e,n),mn(t,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(e){Ls(this._lView[1],this._lView,null,e)}markForCheck(){Zs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ei(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{ei(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Qr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ga extends ma{constructor(e){super(e),this._view=e}detectChanges(){ti(this._view)}checkNoChanges(){!function(e){Qe(!0);try{ti(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const ya=function(e){return function(e,t,n){if(me(e)&&!n){const n=Pe(e.index,t);return new ma(n,n)}return 47&e.type?new ma(t[16],t):null}(He(),qe(),16==(16&e))};let va=(()=>{class e{}return e.__NG_ELEMENT_ID__=ya,e})();const wa=[new aa],ba=new ha([new ea]),_a=new fa(wa),Ea=function(){return Ca(He(),qe())};let Sa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ea,e})();const Ia=Sa,Ta=class extends Ia{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Ss(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Cs(t,n,e),new ma(n)}};function Ca(e,t){return 4&e.type?new Ta(t,e,zo(e,t)):null}class ka{}class Aa{}const xa=function(){return La(He(),qe())};let Na=(()=>{class e{}return e.__NG_ELEMENT_ID__=xa,e})();const Oa=Na,Ra=class extends Oa{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Mt(this._hostTNode,this._hostLView);if(At(e)){const t=Nt(e,this._hostLView),n=xt(e);return new Kt(t[1].data[n+8],t)}return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Da(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const i=n||this.parentInjector;if(!s&&null==e.ngModule&&i){const e=i.get(ka,null);e&&(s=e)}const o=e.create(i,r,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Ra(t,t[6],t[3]);r.detach(r.indexOf(e))}}const s=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){const s=he+r,i=n.length;r>0&&(n[s-1][4]=t),r<i-he?(t[4]=n[s],pn(n,he+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,i,s);const o=Kr(s,i),a=n[11],c=Br(a,i[7]);return null!==c&&function(e,t,n,r,s,i){r[0]=s,r[6]=t,Qr(e,r,n,1,s,i)}(r,i[6],a,n,c,o),e.attachToViewContainerRef(),pn(Pa(i),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Da(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=$r(this._lContainer,t);n&&(mn(Pa(this._lContainer),t),Mr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=$r(this._lContainer,t);return n&&null!=mn(Pa(this._lContainer),t)?new ma(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Da(e){return e[8]}function Pa(e){return e[8]||(e[8]=[])}function La(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let s;if(8&e.type)s=xe(r);else{const n=t[11];s=n.createComment("");const r=Oe(e,t);Ur(n,Br(n,r),s,function(e,t){return ke(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ws(r,t,s,e),Js(t,n)}return new Ra(n,e,t)}const $a={};class Ma extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new Ua(t,this.ngModule)}}function Fa(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Va=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class Ua extends Uo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ds).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Fa(this.componentDef.inputs)}get outputs(){return Fa(this.componentDef.outputs)}create(e,t,n,r){const s=(r=r||this.ngModule)?function(e,t){return{get:(n,r,s)=>{const i=e.get(n,$a,s);return i!==$a||r===$a?i:t.get(n,r,s)}}}(e,r.injector):e,i=s.get(Wo,Ae),o=s.get(Qo,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(ke(e))return e.selectRootElement(t,n===M.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Pr(i.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:ri,playerHandler:null,flags:0},d=Ps(0,null,null,1,0,null,null,null,null,null),f=Ss(null,d,h,u,null,null,i,a,o,s);let p,m;ot(f);try{const e=function(e,t,n,r,s,i){const o=n[1];n[20]=e;const a=Is(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(ci(a,c,!0),null!==e&&(St(s,e,c),null!==a.classes&&es(s,e,a.classes),null!==a.styles&&Zr(s,e,a.styles)));const l=r.createRenderer(e,t),u=Ss(n,Ds(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Ft(Pt(a,n),o,t.type),js(o,a),Bs(a,n.length,1)),Js(n,u),n[20]=u}(l,this.componentDef,f,i,a);if(l)if(n)St(a,l,["ng-version",Zo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!as(s))break;s=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&St(a,l,e),t&&t.length>0&&es(a,l,t.join(" "))}if(m=Re(d,ue),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,s){const i=n[1],o=function(e,t,n){const r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zs(e,r,t,Ts(e,t,1,null),n));const s=Gt(t,e,r.directiveStart,r);br(s,t);const i=Oe(r,t);return i&&br(i,t),s}(i,n,t);if(r.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries){const e=He();t.contentQueries(1,o,e.directiveStart)}const a=He();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ft(a.index),Vs(n[1],a,0,a.directiveStart,a.directiveEnd,t),Us(t,o)),o}(e,this.componentDef,f,h,[Ti]),Cs(d,f,null)}finally{ht()}return new ja(this.componentType,p,zo(m,f),f,m)}}class ja extends class{}{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new ga(r),this.componentType=e}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const qa=new Map;class Ba extends ka{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ma(this);const n=le(e),r=e[K]||null;r&&Oo(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=gi(e,t,[{provide:ka,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ii.THROW_IF_NOT_FOUND,n=O.Default){return e===Ii||e===ka||e===li?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class za extends Aa{constructor(e){super(),this.moduleType=e,null!==le(e)&&function(e){const t=new Set;!function e(n){const r=le(n,!0),s=r.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(s,qa.get(s),n),qa.set(s,n));const i=Cr(r.imports);for(const o of i)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Ba(this.moduleType,e)}}function Ha(e,t){const n=e[t];return n===fs?void 0:n}function Ga(e,t){const n=Be();let r;const s=e+ue;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=ve(r.type)),o=D(qi);try{const e=Rt(!1),t=i();return Rt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,qe(),s,t),t}finally{D(o)}}function Ya(e,t,n){const r=e+ue,s=qe(),i=De(s,r);return Xa(s,Ka(s,r)?function(e,t,n,r,s,i){const o=t+n;return Mi(e,o,s)?$i(e,o+1,i?r.call(i,s):r(s)):Ha(e,o+1)}(s,Je(),t,i.transform,n,i):i.transform(n))}function Wa(e,t,n,r){const s=e+ue,i=qe(),o=De(i,s);return Xa(i,Ka(i,s)?function(e,t,n,r,s,i,o){const a=t+n;return function(e,t,n,r){const s=Mi(e,t,n);return Mi(e,t+1,r)||s}(e,a,s,i)?$i(e,a+2,o?r.call(o,s,i):r(s,i)):Ha(e,a+2)}(i,Je(),t,o.transform,n,r,o):o.transform(n,r))}function Ka(e,t){return e[1].data[t].pure}function Xa(e,t){return Di.isWrapped(t)&&(t=Di.unwrap(t),e[Ue.lFrame.bindingIndex]=fs),t}function Qa(e){return t=>{setTimeout(e,void 0,t)}}const Ja=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,i,o;let a=e,c=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(i=t.error)||void 0===i?void 0:i.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=Qa(c),a&&(a=Qa(a)),l&&(l=Qa(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof s.w&&e.add(u),u}};function Za(){return this._results[Ri()]()}class ec{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ri(),n=ec.prototype;n[t]||(n[t]=Za)}get changes(){return this._changes||(this._changes=new Ja)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=dn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tc{constructor(e){this.queryList=e,this.matches=null}clone(){return new tc(this.queryList)}setDirty(){this.queryList.setDirty()}}class nc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new nc(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==gc(e,t).matches&&this.queries[t].setDirty()}}class rc{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class sc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new sc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ic{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ic(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,oc(t,s)),this.matchTNodeWithReadOption(e,t,Ht(t,e,s,!1,!1))}else n===Sa?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ht(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Go||r===Na||r===Sa&&4&t.type)this.addMatch(t.index,-2);else{const n=Ht(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function oc(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ac(e,t,n,r){return-1===n?function(e,t){return 11&e.type?zo(e,t):4&e.type?Ca(e,t):null}(t,e):-2===n?function(e,t,n){return n===Go?zo(t,e):n===Sa?Ca(t,e):n===Na?La(t,e):void 0}(e,t,r):Gt(e,e[1],n,t)}function cc(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const r=e.data,i=n.matches,o=[];for(let e=0;e<i.length;e+=2){const s=i[e];o.push(s<0?null:ac(t,r[s],i[e+1],n.metadata.read))}s.matches=o}return s.matches}function lc(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const o=cc(e,t,s,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(o[e/2]);else{const s=i[e+1],o=t[-n];for(let e=he;e<o.length;e++){const t=o[e];t[17]===t[3]&&lc(t[1],t,s,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];lc(n[1],n,s,r)}}}}}return r}function uc(e){const t=qe(),n=Be(),r=nt();rt(r+1);const s=gc(n,r);if(e.dirty&&Le(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?lc(n,t,r,[]):cc(n,t,s,r);e.reset(i,Yo),e.notifyOnChanges()}return!0}return!1}function hc(e,t,n){const r=Be();r.firstCreatePass&&(mc(r,new rc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),pc(r,qe(),t)}function dc(e,t,n,r){const s=Be();if(s.firstCreatePass){const i=He();mc(s,new rc(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}pc(s,qe(),n)}function fc(){return e=qe(),t=nt(),e[19].queries[t].queryList;var e,t}function pc(e,t,n){const r=new ec(4==(4&n));Ls(e,t,r,r.destroy),null===t[19]&&(t[19]=new nc),t[19].queries.push(new tc(r))}function mc(e,t,n){null===e.queries&&(e.queries=new sc),e.queries.track(new ic(t,n))}function gc(e,t){return e.queries.getByIndex(t)}function yc(e,t){return Ca(e,t)}const vc=rn("Output",e=>({bindingPropertyName:e})),wc=rn("HostListener",(e,t)=>({eventName:e,args:t})),bc=new on("Application Initializer");let _c=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Bo,this.reject=Bo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Ji(t))e.push(t);else if(eo(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(kn(bc,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const Ec=new on("AppId"),Sc={provide:Ec,useFactory:function(){return`${Ic()}${Ic()}${Ic()}`},deps:[]};function Ic(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tc=new on("Platform Initializer"),Cc=new on("Platform ID"),kc=new on("appBootstrapListener");let Ac=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const xc=new on("LocaleId"),Nc=new on("DefaultCurrencyCode");class Oc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Rc=function(e){return new za(e)},Dc=Rc,Pc=function(e){return Promise.resolve(Rc(e))},Lc=function(e){const t=Rc(e),n=Cr(le(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new Ua(n)),e},[]);return new Oc(t,n)},$c=Lc,Mc=function(e){return Promise.resolve(Lc(e))};let Fc=(()=>{class e{constructor(){this.compileModuleSync=Dc,this.compileModuleAsync=Pc,this.compileModuleAndAllComponentsSync=$c,this.compileModuleAndAllComponentsAsync=Mc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const Vc=(()=>Promise.resolve(0))();function Uc(e){"undefined"==typeof Zone?Vc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,zc(e),e.isCheckStableRunning=!0,Bc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),zc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,o,a)=>{try{return Hc(e),n.invokeTask(s,i,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Gc(e)}},onInvoke:(n,r,s,i,o,a,c)=>{try{return Hc(e),n.invoke(s,i,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Gc(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,zc(e),Bc(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+r,e,qc,Bo,Bo);try{return s.runTask(i,t,n)}finally{s.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const qc={};function Bc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Hc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gc(e){e._nesting--,Bc(e)}class Yc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Wc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jc.assertNotInAngularZone(),Uc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(kn(jc))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})(),Kc=(()=>{class e{constructor(){this._applications=new Map,Zc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Zc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();class Xc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Qc(e){Zc=e}let Jc,Zc=new Xc,el=!0,tl=!1;function nl(){return tl=!0,el}function rl(){if(tl)throw new Error("Cannot enable prod mode after platform setup.");el=!1}const sl=new on("AllowMultipleToken");class il{constructor(e,t){this.name=e,this.token=t}}function ol(e,t,n=[]){const r=`Platform: ${t}`,s=new on(r);return(t=[])=>{let i=al();if(!i||i.injector.get(sl,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0},{provide:hi,useValue:"platform"});!function(e){if(Jc&&!Jc.destroyed&&!Jc.injector.get(sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jc=e.get(cl);const t=e.get(Tc,null);t&&t.forEach(e=>e())}(Ii.create({providers:e,name:r}))}return function(e){const t=al();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function al(){return Jc&&!Jc.destroyed?Jc:null}let cl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Yc:("zone.js"===e?void 0:e)||new jc({enableLongStackTrace:nl(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:jc,useValue:n}];return n.run(()=>{const t=Ii.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(t),i=s.injector.get(Ir,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});s.onDestroy(()=>{hl(this._modules,s),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Ji(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,n,()=>{const e=s.injector.get(_c);return e.runInitializers(),e.donePromise.then(()=>(Oo(s.injector.get(xc,xo)||xo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=ll({},t);return function(e,t,n){const r=new za(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(ul);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(kn(Ii))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function ll(e,t){return Array.isArray(t)?t.reduce(ll,e):Object.assign(Object.assign({},e),t)}let ul=(()=>{class e{constructor(e,t,n,r,s){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new i.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new i.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{jc.assertNotInAngularZone(),Uc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{jc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,h.pipe(e=>{return(0,c.x)()((t=l,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Uo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ka),s=n.create(Ii.NULL,[],t||n.selector,r),i=s.location.nativeElement,o=s.injector.get(Wc,null),a=o&&s.injector.get(Kc);return o&&a&&a.registerApplication(i,o),s.onDestroy(()=>{this.detachView(s.hostView),hl(this.components,s),a&&a.unregisterApplication(i)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;hl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(kc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(kn(jc),kn(Ii),kn(Ir),kn(qo),kn(_c))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function hl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class dl{}class fl{}const pl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ml=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||pl}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>gl(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+s]).then(e=>gl(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(kn(Fc),kn(fl,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function gl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const yl=function(e){return null},vl=ol(null,"core",[{provide:Cc,useValue:"unknown"},{provide:cl,deps:[Ii]},{provide:Kc,deps:[]},{provide:Ac,deps:[]}]),wl=[{provide:ul,useClass:ul,deps:[jc,Ii,Ir,qo,_c]},{provide:Va,deps:[jc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:_c,useClass:_c,deps:[[new On,bc]]},{provide:Fc,useClass:Fc,deps:[]},Sc,{provide:ha,useFactory:function(){return ba},deps:[]},{provide:fa,useFactory:function(){return _a},deps:[]},{provide:xc,useFactory:function(e){return Oo(e=e||"undefined"!=typeof $localize&&$localize.locale||xo),e},deps:[[new Nn(xc),new On,new Rn]]},{provide:Nc,useValue:"USD"}];let bl=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(kn(ul))},e.\u0275mod=re({type:e}),e.\u0275inj=S({providers:wl}),e})()},8006:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>P,ww:()=>L,rT:()=>N,f7:()=>R,L6:()=>A,_Q:()=>x,lh:()=>O,Qv:()=>k,nw:()=>D});var r=n(3018),s=n(9765),i=n(5917),o=n(7574),a=n(4402),c=n(6682),l=n(7771),u=n(5319),h=n(309),d=n(7971),f=n(8858);class p extends s.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new m(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;let i;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?i=u.w.EMPTY:(this.observers.push(e),i=new f.W(this,e)),r&&e.add(e=new h.ht(e,r)),t)for(let o=0;o<s&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i}_getNow(){return(this.scheduler||l.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,s=r.length;let i=0;for(;i<s&&!(e-r[i].time<n);)i++;return s>t&&(i=Math.max(i,s-t)),i>0&&r.splice(0,i),r}}class m{constructor(e,t){this.time=e,this.value=t}}function g(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,i,o=0,a=!1,c=!1;return function(l){let u;o++,!s||a?(a=!1,s=new p(e,t,r),u=s.subscribe(this),i=l.subscribe({next(e){s.next(e)},error(e){a=!0,s.error(e)},complete(){c=!0,i=void 0,s.complete()}}),c&&(i=void 0)):u=s.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,i&&!c&&n&&0===o&&(i.unsubscribe(),i=void 0,s=void 0)})}}(r))}var y=n(3190);function v(e,t){return t?(0,y.w)(()=>e,t):(0,y.w)(()=>e)}var w=n(8002),b=n(8049),_=n(3101),E=n(5435),S=n(9126),I=n(8939),T=n(8583),C=n(7841);const k=new r.OlP("angularfire2.auth.use-emulator"),A=new r.OlP("angularfire2.auth.settings"),x=new r.OlP("angularfire2.auth.tenant-id"),N=new r.OlP("angularfire2.auth.langugage-code"),O=new r.OlP("angularfire2.auth.use-device-language"),R=new r.OlP("angularfire.auth.persistence"),D=(e,t,n,r,s,i,o,a)=>(0,S.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=s,i&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,s,i,o,a]);let P=(()=>{class e{constructor(e,t,r,l,u,d,f,p,m,C,k){const A=new s.xQ,x=(0,i.of)(void 0).pipe((0,h.QV)(u.outsideAngular),(0,y.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,6780)))),(0,w.U)(()=>(0,I.on)(e,l,t)),(0,w.U)(e=>D(e,l,d,p,m,C,f,k)),g({bufferSize:1,refCount:!1}));if((0,T.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,i.of)(null);else{x.pipe((0,b.P)()).subscribe();const e=x.pipe((0,y.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),S.iC,g({bufferSize:1,refCount:!1})),t=x.pipe((0,y.w)(e=>new o.y(t=>({unsubscribe:l.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=x.pipe((0,y.w)(e=>new o.y(t=>({unsubscribe:l.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(v(t),(0,_.R)(u.outsideAngular),(0,h.QV)(u.insideAngular)),this.user=e.pipe(v(n),(0,_.R)(u.outsideAngular),(0,h.QV)(u.insideAngular)),this.idToken=this.user.pipe((0,y.w)(e=>e?(0,a.D)(e.getIdToken()):(0,i.of)(null))),this.idTokenResult=this.user.pipe((0,y.w)(e=>e?(0,a.D)(e.getIdTokenResult()):(0,i.of)(null))),this.credential=(0,c.T)(e,A,this.authState.pipe((0,E.h)(e=>!e))).pipe((0,w.U)(e=>(null==e?void 0:e.user)?e:null),(0,_.R)(u.outsideAngular),(0,h.QV)(u.insideAngular))}return(0,I.pX)(this,x,l,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>A.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(I.Dh),r.LFG(I.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(S.HU),r.LFG(k,8),r.LFG(A,8),r.LFG(x,8),r.LFG(N,8),r.LFG(O,8),r.LFG(R,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),L=(()=>{class e{constructor(){C.Z.registerVersion("angularfire",S.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[P]}),e})()},5093:(e,t,n)=>{"use strict";n.d(t,{ST:()=>hp,yb:()=>dp});var r=n(3018),s=n(3637),i=n(7574),o=n(4402),a=n(5917),c=n(9126),l=n(7393);function u(){return e=>e.lift(new h)}class h{call(e,t){return t.subscribe(new d(e))}}class d extends l.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var f=n(9761),p=n(8002),m=n(2145),g=n(7519),y=n(5435),v=n(8939),w=n(8583),b=(n(6780),n(4486)),_=n(5452),E=n(6034),S=n(300),I=n(4685),T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function C(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var k,A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x=x||{},N=A||self;function O(){}function R(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function D(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var P="closure_uid_"+(1e9*Math.random()>>>0),L=0;function $(e,t,n){return e.call.apply(e.bind,arguments)}function M(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function F(e,t,n){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$:M).apply(null,arguments)}function V(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function U(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function j(){this.s=this.s,this.o=this.o}var q={};j.prototype.s=!1,j.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,P)&&e[P]||(e[P]=++L)}(this);delete q[e]}},j.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,s="string"==typeof e?e.split(""):e,i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function H(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Y(e){return/^[\s\xa0]*$/.test(e)}var W,K=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function X(e,t){return-1!=e.indexOf(t)}function Q(e,t){return e<t?-1:e>t?1:0}e:{var J=N.navigator;if(J){var Z=J.userAgent;if(Z){W=Z;break e}}W=""}function ee(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function te(e){var t={};for(var n in e)t[n]=e[n];return t}var ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(e,t){for(var n,r,s=1;s<arguments.length;s++){for(n in r=arguments[s])e[n]=r[n];for(var i=0;i<ne.length;i++)n=ne[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function se(e){return se[" "](e),e}se[" "]=O;var ie,oe,ae=X(W,"Opera"),ce=X(W,"Trident")||X(W,"MSIE"),le=X(W,"Edge"),ue=le||ce,he=X(W,"Gecko")&&!(X(W.toLowerCase(),"webkit")&&!X(W,"Edge"))&&!(X(W,"Trident")||X(W,"MSIE"))&&!X(W,"Edge"),de=X(W.toLowerCase(),"webkit")&&!X(W,"Edge");function fe(){var e=N.document;return e?e.documentMode:void 0}e:{var pe="",me=(oe=W,he?/rv:([^\);]+)(\)|;)/.exec(oe):le?/Edge\/([\d\.]+)/.exec(oe):ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(oe):de?/WebKit\/(\S+)/.exec(oe):ae?/(?:Version)[ \/]?(\S+)/.exec(oe):void 0);if(me&&(pe=me?me[1]:""),ce){var ge=fe();if(null!=ge&&ge>parseFloat(pe)){ie=String(ge);break e}}ie=pe}var ye={};var ve=N.document&&ce&&(fe()||parseInt(ie,10))||void 0,we=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{N.addEventListener("test",O,t),N.removeEventListener("test",O,t)}catch(n){}return e}();function be(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function _e(e,t){if(be.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(he){e:{try{se(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ee[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_e.Z.h.call(this)}}be.prototype.h=function(){this.defaultPrevented=!0},U(_e,be);var Ee={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Te(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++Ie,this.ca=this.fa=!1}function Ce(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ke(e){this.src=e,this.g={},this.h=0}function Ae(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=B(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Ce(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xe(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}ke.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=xe(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Te(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var Ne="closure_lm_"+(1e6*Math.random()|0),Oe={};function Re(e,t,n,r,s){if(r&&r.once)return Pe(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Re(e,t[i],n,r,s);return null}return n=je(n),e&&e[Se]?e.N(t,n,D(r)?!!r.capture:!!r,s):De(e,t,n,!1,r,s)}function De(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=D(s)?!!s.capture:!!s,a=Ve(e);if(a||(e[Ne]=a=new ke(e)),(n=a.add(t,n,r,o,i)).proxy)return n;if(r=function(){var e=Fe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)we||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Me(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pe(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Pe(e,t[i],n,r,s);return null}return n=je(n),e&&e[Se]?e.O(t,n,D(r)?!!r.capture:!!r,s):De(e,t,n,!0,r,s)}function Le(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Le(e,t[i],n,r,s);else r=D(r)?!!r.capture:!!r,n=je(n),e&&e[Se]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=xe(i=e.g[t],n,r,s))&&(Ce(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--))):e&&(e=Ve(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xe(t,n,r,s)),(n=-1<e?t[e]:null)&&$e(n))}function $e(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Se])Ae(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ve(t))?(Ae(n,e),0==n.h&&(n.src=null,t[Ne]=null)):Ce(e)}}}function Me(e){return e in Oe?Oe[e]:Oe[e]="on"+e}function Fe(e,t){if(e.ca)e=!0;else{t=new _e(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$e(e),e=n.call(r,t)}return e}function Ve(e){return(e=e[Ne])instanceof ke?e:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(e){return"function"==typeof e?e:(e[Ue]||(e[Ue]=function(t){return e.handleEvent(t)}),e[Ue])}function qe(){j.call(this),this.i=new ke(this),this.P=this,this.I=null}function Be(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new be(t,e);else if(t instanceof be)t.target=t.target||e;else{var s=t;re(t=new be(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=ze(o,r,!0,t)&&s}if(s=ze(o=t.g=e,r,!0,t)&&s,s=ze(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=ze(o=t.g=n[i],r,!1,t)&&s}function ze(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Ae(e.i,o),s=!1!==a.call(c,r)&&s}}return s&&!r.defaultPrevented}U(qe,j),qe.prototype[Se]=!0,qe.prototype.removeEventListener=function(e,t,n,r){Le(this,e,t,n,r)},qe.prototype.M=function(){if(qe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ce(n[r]);delete t.g[e],t.h--}}this.I=null},qe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var He=N.JSON.stringify;function Ge(){var e=et,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ye,We=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Ke.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Ke=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new Xe},function(e){return e.reset()}),Xe=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Qe(e){N.setTimeout(function(){throw e},0)}function Je(e,t){Ye||function(){var e=N.Promise.resolve(void 0);Ye=function(){e.then(tt)}}(),Ze||(Ye(),Ze=!0),et.add(e,t)}var Ze=!1,et=new We;function tt(){for(var e;e=Ge();){try{e.h.call(e.g)}catch(n){Qe(n)}var t=Ke;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ze=!1}function nt(e,t){qe.call(this),this.h=e||1,this.g=t||N,this.j=F(this.kb,this),this.l=Date.now()}function rt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function st(e,t,n){if("function"==typeof e)n&&(e=F(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=F(e.handleEvent,e)}return 2147483647<Number(t)?-1:N.setTimeout(e,t||0)}function it(e){e.g=st(function(){e.g=null,e.i&&(e.i=!1,it(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}U(nt,qe),(k=nt.prototype).da=!1,k.S=null,k.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Be(this,"tick"),this.da&&(rt(this),this.start()))}},k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){nt.Z.M.call(this),rt(this),delete this.g};var ot=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:it(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(j);function at(e){j.call(this),this.h=e,this.g={}}U(at,j);var ct=[];function lt(e,t,n,r){Array.isArray(n)||(n&&(ct[0]=n.toString()),n=ct);for(var s=0;s<n.length;s++){var i=Re(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ut(e){ee(e.g,function(e,t){this.g.hasOwnProperty(t)&&$e(e)},e),e.g={}}function ht(){this.g=!0}function dt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return He(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}at.prototype.M=function(){at.Z.M.call(this),ut(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ht.prototype.Aa=function(){this.g=!1},ht.prototype.info=function(){};var ft={},pt=null;function mt(){return pt=pt||new qe}function gt(e){be.call(this,ft.Ma,e)}function yt(e){var t=mt();Be(t,new gt(t,e))}function vt(e,t){be.call(this,ft.STAT_EVENT,e),this.stat=t}function wt(e){var t=mt();Be(t,new vt(t,e))}function bt(e,t){be.call(this,ft.Na,e),this.size=t}function _t(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){e()},t)}ft.Ma="serverreachability",U(gt,be),ft.STAT_EVENT="statevent",U(vt,be),ft.Na="timingevent",U(bt,be);var Et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},St={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function It(){}function Tt(){}It.prototype.h=null;var Ct,kt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function At(){be.call(this,"d")}function xt(){be.call(this,"c")}function Nt(){}function Ot(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new at(this),this.P=Dt,this.W=new nt(e=ue?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}U(At,be),U(xt,be),U(Nt,It),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},Ct=new Nt;var Dt=45e3,Pt={},Lt={};function $t(e,t,n){e.K=1,e.v=on(Zt(t)),e.s=n,e.U=!0,Mt(e,null)}function Mt(e,t){e.F=Date.now(),jt(e),e.A=Zt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Rt,e.g=br(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ot(F(e.Ia,e,e.g),e.O)),lt(e.V,e.g,"readystatechange",e.gb),t=e.H?te(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),yt(1),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ft(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Vt(e,t,n){for(var r,s=!0;!e.I&&e.C<n.length;){if((r=Ut(e,n))==Lt){4==t&&(e.o=4,wt(14),s=!1),dt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pt){e.o=4,wt(15),dt(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}dt(e.j,e.m,r,null),Gt(e,r)}Ft(e)&&r!=Lt&&r!=Pt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wt(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dr(t),t.L=!0,wt(11))):(dt(e.j,e.m,n,"[Invalid Chunked Response]"),Ht(e),zt(e))}function Ut(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Lt:(n=Number(t.substring(n,r)),isNaN(n)?Pt:(r+=1)+n>t.length?Lt:(t=t.substr(r,n),e.C=r+n,t))}function jt(e){e.Y=Date.now()+e.P,qt(e,e.P)}function qt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_t(F(e.eb,e),t)}function Bt(e){e.B&&(N.clearTimeout(e.B),e.B=null)}function zt(e){0==e.l.G||e.I||mr(e.l,e)}function Ht(e){Bt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rt(e.W),ut(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Gt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cn(n.i,e)))if(n.I=e.N,!e.J&&Cn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;pr(n),rr(n)}hr(n),wt(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=_t(F(n.ab,n),6e3));if(1>=Tn(n.i)&&n.ka){try{n.ka()}catch(i){}n.ka=void 0}}else yr(n,11)}else if((e.J||n.g==e)&&pr(n),!Y(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){var i=s[t];if(n.U=i[0],i=i[1],2==n.G)if("c"==i[0]){n.J=i[1],n.la=i[2];var o=i[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=i[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=i[5];null!=c&&"number"==typeof c&&0<c&&(n.K=r=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var u=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=r.i;!h.g&&(X(u,"spdy")||X(u,"quic")||X(u,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(kn(h,h.h),h.h=null))}if(r.D){var d=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,sn(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=wr(r,r.H?r.la:null,r.W),f.J){An(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(Bt(p),jt(p)),r.g=f}else ur(r);0<n.l.length&&or(n)}else"stop"!=i[0]&&"close"!=i[0]||yr(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?yr(n,7):nr(n):"noop"!=i[0]&&n.j&&n.j.wa(i),n.A=0)}yt(4)}catch(i){}}function Yt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(R(e)||"string"==typeof e)z(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(R(e)||"string"==typeof e){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;s=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(R(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function Wt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Kt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)Xt(s,r=e.g[t])||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}function Xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(k=Ot.prototype).setTimeout=function(e){this.P=e},k.gb=function(e){e=e.target;var t=this.L;t&&3==Qn(e)?t.l():this.Ia(e)},k.Ia=function(e){try{if(e==this.g)e:{var t=Qn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ue||this.g&&(this.h.h||this.g.ga()||Jn(this.g)))){this.I||4!=t||7==n||yt(8==n||0>=r?3:2),Bt(this);var s=this.g.ba();this.N=s;t:if(Ft(this)){var i=Jn(this.g);e="";var o=i.length,a=4==Qn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ht(this),zt(this);var c="";break t}this.h.i=new N.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==s,function(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,s),this.i){if(this.$&&!this.J){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(l)){var h=l;break t}}h=null}if(!(s=h)){this.i=!1,this.o=3,wt(12),Ht(this),zt(this);break e}dt(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gt(this,s)}this.U?(Vt(this,t,c),ue&&this.i&&3==t&&(lt(this.V,this.W,"tick",this.fb),this.W.start())):(dt(this.j,this.m,c,null),Gt(this,c)),4==t&&Ht(this),this.i&&!this.I&&(4==t?mr(this.l,this):(this.i=!1,jt(this)))}else 400==s&&0<c.indexOf("Unknown SID")?(this.o=3,wt(12)):(this.o=0,wt(13)),Ht(this),zt(this)}}}catch(t){}},k.fb=function(){if(this.g){var e=Qn(this.g),t=this.g.ga();this.C<t.length&&(Bt(this),Vt(this,e,t),this.i&&4!=e&&jt(this))}},k.cancel=function(){this.I=!0,Ht(this)},k.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(yt(3),wt(17)),Ht(this),this.o=2,zt(this)):qt(this,this.Y-e)},(k=Wt.prototype).R=function(){Kt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},k.T=function(){return Kt(this),this.g.concat()},k.get=function(e,t){return Xt(this.h,e)?this.h[e]:t},k.set=function(e,t){Xt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},k.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};var Qt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jt){this.g=void 0!==t?t:e.g,en(this,e.j),this.s=e.s,tn(this,e.i),nn(this,e.m),this.l=e.l,t=e.h;var n=new mn;n.i=t.i,t.g&&(n.g=new Wt(t.g),n.h=t.h),rn(this,n),this.o=e.o}else e&&(n=String(e).match(Qt))?(this.g=!!t,en(this,n[1]||"",!0),this.s=an(n[2]||""),tn(this,n[3]||"",!0),nn(this,n[4]),this.l=an(n[5]||"",!0),rn(this,n[6]||"",!0),this.o=an(n[7]||"")):(this.g=!!t,this.h=new mn(null,this.g))}function Zt(e){return new Jt(e)}function en(e,t,n){e.j=n?an(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tn(e,t,n){e.i=n?an(t,!0):t}function nn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rn(e,t,n){t instanceof mn?(e.h=t,function(e,t){t&&!e.j&&(gn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(yn(this,t),wn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=cn(t,fn)),e.h=new mn(t,e.g))}function sn(e,t,n){e.h.set(t,n)}function on(e){return sn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function an(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ln),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ln(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cn(t,un,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cn(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(cn(n,"/"==n.charAt(0)?dn:hn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cn(n,pn)),e.join("")};var un=/[#\/\?@]/g,hn=/[#\?:]/g,dn=/[#\?]/g,fn=/[#\?@]/g,pn=/#/g;function mn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gn(e){e.g||(e.g=new Wt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function yn(e,t){gn(e),t=bn(e,t),Xt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Kt(e)))}function vn(e,t){return gn(e),t=bn(e,t),Xt(e.g.h,t)}function wn(e,t,n){yn(e,t),0<n.length&&(e.i=null,e.g.set(bn(e,t),G(n)),e.h+=n.length)}function bn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(k=mn.prototype).add=function(e,t){gn(this),this.i=null,e=bn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},k.forEach=function(e,t){gn(this),this.g.forEach(function(n,r){z(n,function(n){e.call(t,n,r,this)},this)},this)},k.T=function(){gn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n},k.R=function(e){gn(this);var t=[];if("string"==typeof e)vn(this,e)&&(t=H(t,this.g.get(bn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},k.set=function(e,t){return gn(this),this.i=null,vn(this,e=bn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},k.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;""!==r[i]&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};var _n=function(e,t){this.h=e,this.g=t};function En(e){this.l=e||Sn,e=N.PerformanceNavigationTiming?0<(e=N.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(N.g&&N.g.Ea&&N.g.Ea()&&N.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sn=10;function In(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tn(e){return e.h?1:e.g?e.g.size:0}function Cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kn(e,t){e.g?e.g.add(t):e.h=t}function An(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var s=C(e.g.values()),i=s.next();!i.done;i=s.next())r=r.concat(i.value.D)}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r}return G(e.i)}function Nn(){}function On(){this.g=new Nn}function Rn(e,t,n){var r=n||"";try{Yt(e,function(e,n){var s=e;D(e)&&(s=He(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Dn(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(i){}}function Pn(e){this.l=e.$b||null,this.j=e.ib||!1}function Ln(e,t){qe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=$n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En.prototype.cancel=function(){var e,t;if(this.i=xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=C(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Nn.prototype.stringify=function(e){return N.JSON.stringify(e,void 0)},Nn.prototype.parse=function(e){return N.JSON.parse(e,void 0)},U(Pn,It),Pn.prototype.g=function(){return new Ln(this.l,this.j)},Pn.prototype.i=function(e){return function(){return e}}({}),U(Ln,qe);var $n=0;function Mn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vn(e)}function Vn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(k=Ln.prototype).open=function(e,t){if(this.readyState!=$n)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vn(this)},k.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||N).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fn(this)),this.readyState=$n},k.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==N.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},k.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fn(this):Vn(this),3==this.readyState&&Mn(this)}},k.Ua=function(e){this.g&&(this.response=this.responseText=e,Fn(this))},k.Ta=function(e){this.g&&(this.response=e,Fn(this))},k.ha=function(){this.g&&Fn(this)},k.setRequestHeader=function(e,t){this.v.append(e,t)},k.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Un=N.JSON.parse;function jn(e){qe.call(this),this.headers=new Wt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qn,this.K=this.L=!1}U(jn,qe);var qn="",Bn=/^https?$/i,zn=["POST","PUT"];function Hn(e){return"content-type"==e.toLowerCase()}function Gn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yn(e),Kn(e)}function Yn(e){e.D||(e.D=!0,Be(e,"complete"),Be(e,"error"))}function Wn(e){if(e.h&&void 0!==x&&(!e.C[1]||4!=Qn(e)||2!=e.ba()))if(e.v&&4==Qn(e))st(e.Fa,0,e);else if(Be(e,"readystatechange"),4==Qn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var s;if(s=0===n){var i=String(e.H).match(Qt)[1]||null;if(!i&&N.self&&N.self.location){var o=N.self.location.protocol;i=o.substr(0,o.length-1)}s=!Bn.test(i?i.toLowerCase():"")}t=s}if(t)Be(e,"complete"),Be(e,"success");else{e.m=6;try{var a=2<Qn(e)?e.g.statusText:""}catch(c){a=""}e.j=a+" ["+e.ba()+"]",Yn(e)}}finally{Kn(e)}}}function Kn(e,t){if(e.g){Xn(e);var n=e.g,r=e.C[0]?O:null;e.g=null,e.C=null,t||Be(e,"ready");try{n.onreadystatechange=r}catch(s){}}}function Xn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(N.clearTimeout(e.A),e.A=null)}function Qn(e){return e.g?e.g.readyState:0}function Jn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ee(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):sn(e,t,n))}function er(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tr(e){this.za=0,this.l=[],this.h=new ht,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=er("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=er("baseRetryDelayMs",5e3,e),this.$a=er("retryDelaySeedMs",1e4,e),this.Ya=er("forwardChannelMaxRetries",2,e),this.ra=er("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new En(e&&e.concurrentRequestLimit),this.Ca=new On,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function nr(e){if(sr(e),3==e.G){var t=e.V++,n=Zt(e.F);sn(n,"SID",e.J),sn(n,"RID",t),sn(n,"TYPE","terminate"),cr(e,n),(t=new Ot(e,e.h,t,void 0)).K=2,t.v=on(Zt(n)),n=!1,N.navigator&&N.navigator.sendBeacon&&(n=N.navigator.sendBeacon(t.v.toString(),"")),!n&&N.Image&&((new Image).src=t.v,n=!0),n||(t.g=br(t.l,null),t.g.ea(t.v)),t.F=Date.now(),jt(t)}vr(e)}function rr(e){e.g&&(dr(e),e.g.cancel(),e.g=null)}function sr(e){rr(e),e.u&&(N.clearTimeout(e.u),e.u=null),pr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&N.clearTimeout(e.m),e.m=null)}function ir(e,t){e.l.push(new _n(e.Za++,t)),3==e.G&&or(e)}function or(e){In(e.i)||e.m||(e.m=!0,Je(e.Ha,e),e.C=0)}function ar(e,t){var n;n=t?t.m:e.V++;var r=Zt(e.F);sn(r,"SID",e.J),sn(r,"RID",n),sn(r,"AID",e.U),cr(e,r),e.o&&e.s&&Zn(r,e.o,e.s),n=new Ot(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=lr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),kn(e.i,n),$t(n,r,t)}function cr(e,t){e.j&&Yt({},function(e,n){sn(t,n,e)})}function lr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?F(e.j.Oa,e.j,e):null;e:for(var s=e.l,i=-1;;){var o=["count="+n];-1==i?0<n?o.push("ofs="+(i=s[0].h)):i=0:o.push("ofs="+i);for(var a=!0,c=0;c<n;c++){var l=s[c].h,u=s[c].g;if(0>(l-=i))i=Math.max(0,s[c].h-100),a=!1;else try{Rn(u,o,"req"+l+"_")}catch(Xr){r&&r(u)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ur(e){e.g||e.u||(e.Y=1,Je(e.Ga,e),e.A=0)}function hr(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=_t(F(e.Ga,e),gr(e,e.A)),e.A++,0))}function dr(e){null!=e.B&&(N.clearTimeout(e.B),e.B=null)}function fr(e){e.g=new Ot(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zt(e.oa);sn(t,"RID","rpc"),sn(t,"SID",e.J),sn(t,"CI",e.N?"0":"1"),sn(t,"AID",e.U),cr(e,t),sn(t,"TYPE","xmlhttp"),e.o&&e.s&&Zn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=on(Zt(t)),n.s=null,n.U=!0,Mt(n,e)}function pr(e){null!=e.v&&(N.clearTimeout(e.v),e.v=null)}function mr(e,t){var n=null;if(e.g==t){pr(e),dr(e),e.g=null;var r=2}else{if(!Cn(e.i,t))return;n=t.D,An(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;Be(r=mt(),new bt(r,n,t,s)),or(e)}else ur(e);else if(3==(s=t.o)||0==s&&0<e.I||!(1==r&&function(e,t){return!(Tn(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=_t(F(e.Ha,e,t),gr(e,e.C)),e.C++,0)))}(e,t)||2==r&&hr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:yr(e,5);break;case 4:yr(e,10);break;case 3:yr(e,6);break;default:yr(e,2)}}function gr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function yr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=F(e.jb,e);n||(n=new Jt("//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||en(n,"https"),on(n)),function(e,t){var n=new ht;if(N.Image){var r=new Image;r.onload=V(Dn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=V(Dn,n,r,"TestLoadImage: error",!1,t),r.onabort=V(Dn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=V(Dn,n,r,"TestLoadImage: timeout",!1,t),N.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else wt(2);e.G=0,e.j&&e.j.va(t),vr(e),sr(e)}function vr(e){e.G=0,e.I=-1,e.j&&(0==xn(e.i).length&&0==e.l.length||(e.i.i.length=0,G(e.l),e.l.length=0),e.j.ua())}function wr(e,t,n){var r=function(e){return e instanceof Jt?Zt(e):new Jt(e,void 0)}(n);if(""!=r.i)t&&tn(r,t+"."+r.i),nn(r,r.m);else{var s=N.location;r=function(e,t,n,r){var s=new Jt(null,void 0);return e&&en(s,e),t&&tn(s,t),n&&nn(s,n),r&&(s.l=r),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,n)}return e.aa&&ee(e.aa,function(e,t){sn(r,t,e)}),n=e.sa,(t=e.D)&&n&&sn(r,t,n),sn(r,"VER",e.ma),cr(e,r),r}function br(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new jn(n&&e.Ba&&!e.qa?new Pn({ib:!0}):e.qa)).L=e.H,t}function _r(){}function Er(){if(ce&&!(10<=Number(ve)))throw Error("Environmental error: no available transport.")}function Sr(e,t){qe.call(this),this.g=new tr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Y(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Y(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Cr(this)}function Ir(e){At.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tr(){xt.call(this),this.status=1}function Cr(e){this.g=e}(k=jn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ct.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Ct),this.g.onreadystatechange=F(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void Gn(this,i)}e=n||"";var s=new Wt(this.headers);r&&Yt(r,function(e,t){s.set(t,e)}),r=function(e){e:{for(var t=Hn,n=e.length,r="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(s.T()),n=N.FormData&&e instanceof N.FormData,!(0<=B(zn,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xn(this),0<this.B&&((this.K=function(e){return ce&&function(){return e=ye,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=K(String(ie)).split("."),n=K("9").split("."),r=Math.max(t.length,n.length),s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=Q(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Q(0==i[2].length,0==o[2].length)||Q(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=F(this.pa,this)):this.A=st(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Gn(this,i)}},k.pa=function(){void 0!==x&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Be(this,"timeout"),this.abort(8))},k.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Be(this,"complete"),Be(this,"abort"),Kn(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kn(this,!0)),jn.Z.M.call(this)},k.Fa=function(){this.s||(this.F||this.v||this.l?Wn(this):this.cb())},k.cb=function(){Wn(this)},k.ba=function(){try{return 2<Qn(this)?this.g.status:-1}catch(oe){return-1}},k.ga=function(){try{return this.g?this.g.responseText:""}catch(oe){return""}},k.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Un(t)}},k.Da=function(){return this.m},k.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=tr.prototype).ma=8,k.G=1,k.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},k.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ot(this,this.h,e,void 0),n=this.s;if(this.P&&(n?re(n=te(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,s=0;s<this.l.length;s++){var i=this.l[s];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=s;break e}if(4096===r||s===this.l.length-1){r=s+1;break e}}r=1e3}else r=1e3;r=lr(this,t,r),sn(s=Zt(this.F),"RID",e),sn(s,"CVER",22),this.D&&sn(s,"X-HTTP-Session-Id",this.D),cr(this,s),this.o&&n&&Zn(s,this.o,n),kn(this.i,t),this.Ra&&sn(s,"TYPE","init"),this.ja?(sn(s,"$req",r),sn(s,"SID","null"),t.$=!0,$t(t,s,null)):$t(t,s,r),this.G=2}}else 3==this.G&&(e?ar(this,e):0==this.l.length||In(this.i)||ar(this))},k.Ga=function(){if(this.u=null,fr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=_t(F(this.bb,this),e)}},k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wt(10),rr(this),fr(this))},k.ab=function(){null!=this.v&&(this.v=null,rr(this),hr(this),wt(19))},k.jb=function(e){e?(this.h.info("Successfully pinged google.com"),wt(2)):(this.h.info("Failed to ping google.com"),wt(1))},(k=_r.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Oa=function(){},Er.prototype.g=function(e,t){return new Sr(e,t)},U(Sr,qe),Sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Je(F(e.hb,e,t))),wt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wr(e,null,e.W),or(e)},Sr.prototype.close=function(){nr(this.g)},Sr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,ir(this.g,t)}else this.v?((t={}).__data__=He(e),ir(this.g,t)):ir(this.g,e)},Sr.prototype.M=function(){this.g.j=null,delete this.j,nr(this.g),delete this.g,Sr.Z.M.call(this)},U(Ir,At),U(Tr,xt),U(Cr,_r),Cr.prototype.xa=function(){Be(this.g,"a")},Cr.prototype.wa=function(e){Be(this.g,new Ir(e))},Cr.prototype.va=function(e){Be(this.g,new Tr(e))},Cr.prototype.ua=function(){Be(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,St.COMPLETE="complete",Tt.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",qe.prototype.listen=qe.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var kr=Et,Ar=St,xr=ft,Nr=Pn,Or=Tt,Rr=jn;class Dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let Pr="9.0.2";const Lr=new S.Yd("@firebase/firestore");function $r(){return Lr.logLevel}function Mr(e,...t){if(Lr.logLevel<=S.in.DEBUG){const n=t.map(Ur);Lr.debug(`Firestore (${Pr}): ${e}`,...n)}}function Fr(e,...t){if(Lr.logLevel<=S.in.ERROR){const n=t.map(Ur);Lr.error(`Firestore (${Pr}): ${e}`,...n)}}function Vr(e,...t){if(Lr.logLevel<=S.in.WARN){const n=t.map(Ur);Lr.warn(`Firestore (${Pr}): ${e}`,...n)}}function Ur(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function jr(e="Unexpected state"){const t=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: `+e;throw Fr(t),new Error(t)}function qr(e,t){e||jr()}function Br(e,t){return e}const zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hr extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Yr{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Wr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dr.UNAUTHENTICATED))}shutdown(){}}class Kr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xr{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gr,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Mr("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Mr("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gr)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Mr("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qr("string"==typeof t.accessToken),new Yr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qr(null===e||"string"==typeof e),new Dr(e)}}class Qr{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Dr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Jr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Qr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function es(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Zr.T=-1;class ts{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=es(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%e.length))}return n}}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ss(e){return e+"\0"}class is{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return is.fromMillis(Date.now())}static fromDate(e){return is.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new is(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ns(this.nanoseconds,e.nanoseconds):ns(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class os{constructor(e){this.timestamp=e}static fromTimestamp(e){return new os(e)}static min(){return new os(new is(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function as(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ls(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class us{constructor(e,t,n){void 0===t?t=0:t>e.length&&jr(),void 0===n?n=e.length-t:n>e.length-t&&jr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===us.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hs extends us{construct(e,t,n){return new hs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Hr(zr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new hs(t)}static emptyPath(){return new hs([])}}const ds=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fs extends us{construct(e,t,n){return new fs(e,t,n)}static isValidIdentifier(e){return ds.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Hr(zr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Hr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Hr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fs(t)}static emptyPath(){return new fs([])}}class ps{constructor(e){this.fields=e,e.sort(fs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ms{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ms(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ms(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ns(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const gs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(e){if(qr(!!e),"string"==typeof e){let t=0;const n=gs.exec(e);if(qr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vs(e.seconds),nanos:vs(e.nanos)}}function vs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ws(e){return"string"==typeof e?ms.fromBase64String(e):ms.fromUint8Array(e)}function bs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _s(e){const t=e.mapValue.fields.__previous_value__;return bs(t)?_s(t):t}function Es(e){const t=ys(e.mapValue.fields.__local_write_time__.timestampValue);return new is(t.seconds,t.nanos)}function Ss(e){return null==e}function Is(e){return 0===e&&1/e==-1/0}function Ts(e){return"number"==typeof e&&Number.isInteger(e)&&!Is(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Cs{constructor(e){this.path=e}static fromPath(e){return new Cs(hs.fromString(e))}static fromName(e){return new Cs(hs.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===hs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cs(new hs(e.slice()))}}function ks(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bs(e)?4:10:jr()}function As(e,t){const n=ks(e);if(n!==ks(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Es(e).isEqual(Es(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ys(e.timestampValue),r=ys(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ws(e.bytesValue).isEqual(ws(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vs(e.geoPointValue.latitude)===vs(t.geoPointValue.latitude)&&vs(e.geoPointValue.longitude)===vs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vs(e.integerValue)===vs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vs(e.doubleValue),r=vs(t.doubleValue);return n===r?Is(n)===Is(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rs(e.arrayValue.values||[],t.arrayValue.values||[],As);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(as(n)!==as(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!As(n[s],r[s])))return!1;return!0}(e,t);default:return jr()}}function xs(e,t){return void 0!==(e.values||[]).find(e=>As(e,t))}function Ns(e,t){const n=ks(e),r=ks(t);if(n!==r)return ns(n,r);switch(n){case 0:return 0;case 1:return ns(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vs(e.integerValue||e.doubleValue),r=vs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Os(e.timestampValue,t.timestampValue);case 4:return Os(Es(e),Es(t));case 5:return ns(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ws(e),r=ws(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=ns(n[s],r[s]);if(0!==e)return e}return ns(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ns(vs(e.latitude),vs(t.latitude));return 0!==n?n:ns(vs(e.longitude),vs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Ns(n[s],r[s]);if(e)return e}return ns(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=ns(r[o],i[o]);if(0!==e)return e;const t=Ns(n[r[o]],s[i[o]]);if(0!==t)return t}return ns(r.length,i.length)}(e.mapValue,t.mapValue);default:throw jr()}}function Os(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ns(e,t);const n=ys(e),r=ys(t),s=ns(n.seconds,r.seconds);return 0!==s?s:ns(n.nanos,r.nanos)}function Rs(e){return Ds(e)}function Ds(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ys(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ws(e.bytesValue).toBase64():"referenceValue"in e?Cs.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ds(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Ds(e.fields[s])}`;return n+"}"}(e.mapValue):jr();var t}function Ps(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ls(e){return!!e&&"integerValue"in e}function $s(e){return!!e&&"arrayValue"in e}function Ms(e){return!!e&&"nullValue"in e}function Fs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vs(e){return!!e&&"mapValue"in e}function Us(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return cs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Us(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Us(e.arrayValue.values[n]);return t}return Object.assign({},e)}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Us(t)}setAll(e){let t=fs.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Us(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Vs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){cs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new js(Us(this.value))}}function qs(e){const t=[];return cs(e.fields,(e,n)=>{const r=new fs([e]);if(Vs(n)){const e=qs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ps(t)}class Bs{constructor(e,t,n,r,s){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=s}static newInvalidDocument(e){return new Bs(e,0,os.min(),js.empty(),0)}static newFoundDocument(e,t,n){return new Bs(e,1,t,n,0)}static newNoDocument(e,t){return new Bs(e,2,t,js.empty(),0)}static newUnknownDocument(e,t){return new Bs(e,3,t,js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Bs(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zs{constructor(e,t=null,n=[],r=[],s=null,i=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.A=null}}function Hs(e,t=null,n=[],r=[],s=null,i=null,o=null){return new zs(e,t,n,r,s,i,o)}function Gs(e){const t=Br(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Rs(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ss(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ii(t.startAt)),t.endAt&&(e+="|ub:",e+=ii(t.endAt)),t.A=e}return t.A}function Ys(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!ai(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if((n=e.filters[s]).op!==(r=t.filters[s]).op||!n.field.isEqual(r.field)||!As(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!li(e.startAt,t.startAt)&&li(e.endAt,t.endAt)}function Ws(e){return Cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ks extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Xs(e,t,n):"array-contains"===t?new ei(e,n):"in"===t?new ti(e,n):"not-in"===t?new ni(e,n):"array-contains-any"===t?new ri(e,n):new Ks(e,t,n)}static R(e,t,n){return"in"===t?new Qs(e,n):new Js(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ns(t,this.value)):null!==t&&ks(this.value)===ks(t)&&this.P(Ns(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jr()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Xs extends Ks{constructor(e,t,n){super(e,t,n),this.key=Cs.fromName(n.referenceValue)}matches(e){const t=Cs.comparator(e.key,this.key);return this.P(t)}}class Qs extends Ks{constructor(e,t){super(e,"in",t),this.keys=Zs(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Js extends Ks{constructor(e,t){super(e,"not-in",t),this.keys=Zs(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Cs.fromName(e.referenceValue))}class ei extends Ks{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $s(t)&&xs(t.arrayValue,this.value)}}class ti extends Ks{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xs(this.value.arrayValue,t)}}class ni extends Ks{constructor(e,t){super(e,"not-in",t)}matches(e){if(xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xs(this.value.arrayValue,t)}}class ri extends Ks{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$s(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xs(this.value.arrayValue,e))}}class si{constructor(e,t){this.position=e,this.before=t}}function ii(e){return`${e.before?"b":"a"}:${e.position.map(e=>Rs(e)).join(",")}`}class oi{constructor(e,t="asc"){this.field=e,this.dir=t}}function ai(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ci(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?Cs.comparator(Cs.fromName(o.referenceValue),n.key):Ns(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function li(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!As(e.position[n],t.position[n]))return!1;return!0}class ui{constructor(e,t=null,n=[],r=[],s=null,i="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function hi(e,t,n,r,s,i,o,a){return new ui(e,t,n,r,s,i,o,a)}function di(e){return new ui(e)}function fi(e){return!Ss(e.limit)&&"F"===e.limitType}function pi(e){return!Ss(e.limit)&&"L"===e.limitType}function mi(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gi(e){for(const t of e.filters)if(t.v())return t.field;return null}function yi(e){return null!==e.collectionGroup}function vi(e){const t=Br(e);if(null===t.V){t.V=[];const e=gi(t),n=mi(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new oi(e)),t.V.push(new oi(fs.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new oi(fs.keyField(),e))}}}return t.V}function wi(e){const t=Br(e);if(!t.S)if("F"===t.limitType)t.S=Hs(t.path,t.collectionGroup,vi(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of vi(t))e.push(new oi(s.field,"desc"===s.dir?"asc":"desc"));const n=t.endAt?new si(t.endAt.position,!t.endAt.before):null,r=t.startAt?new si(t.startAt.position,!t.startAt.before):null;t.S=Hs(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function bi(e,t,n){return new ui(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _i(e,t){return Ys(wi(e),wi(t))&&e.limitType===t.limitType}function Ei(e){return`${Gs(wi(e))}|lt:${e.limitType}`}function Si(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Rs(t.value)}`;var t}).join(", ")}]`),Ss(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+ii(e.startAt)),e.endAt&&(t+=", endAt: "+ii(e.endAt)),`Target(${t})`}(wi(e))}; limitType=${e.limitType})`}function Ii(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ci(e.startAt,vi(e),t)||e.endAt&&ci(e.endAt,vi(e),t))}(e,t)}function Ti(e){return(t,n)=>{let r=!1;for(const s of vi(e)){const e=Ci(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Ci(e,t,n){const r=e.field.isKeyField()?Cs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Ns(r,s):jr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jr()}}function ki(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Is(t)?"-0":t}}function Ai(e){return{integerValue:""+e}}function xi(e,t){return Ts(t)?Ai(t):ki(e,t)}class Ni{constructor(){this._=void 0}}function Oi(e,t,n){return e instanceof Pi?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Li?$i(e,t):e instanceof Mi?Fi(e,t):function(e,t){const n=Di(e,t),r=Ui(n)+Ui(e.C);return Ls(n)&&Ls(e.C)?Ai(r):ki(e.N,r)}(e,t)}function Ri(e,t,n){return e instanceof Li?$i(e,t):e instanceof Mi?Fi(e,t):n}function Di(e,t){return e instanceof Vi?Ls(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Pi extends Ni{}class Li extends Ni{constructor(e){super(),this.elements=e}}function $i(e,t){const n=ji(t);for(const r of e.elements)n.some(e=>As(e,r))||n.push(r);return{arrayValue:{values:n}}}class Mi extends Ni{constructor(e){super(),this.elements=e}}function Fi(e,t){let n=ji(t);for(const r of e.elements)n=n.filter(e=>!As(e,r));return{arrayValue:{values:n}}}class Vi extends Ni{constructor(e,t){super(),this.N=e,this.C=t}}function Ui(e){return vs(e.integerValue||e.doubleValue)}function ji(e){return $s(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qi{constructor(e,t){this.field=e,this.transform=t}}class Bi{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hi(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Gi{}function Yi(e,t,n){e instanceof Ji?function(e,t,n){const r=e.value.clone(),s=to(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zi?function(e,t,n){if(!Hi(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=to(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(eo(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wi(e,t,n){e instanceof Ji?function(e,t,n){if(!Hi(e.precondition,t))return;const r=e.value.clone(),s=no(e.fieldTransforms,n,t);r.setAll(s),t.convertToFoundDocument(Qi(t),r).setHasLocalMutations()}(e,t,n):e instanceof Zi?function(e,t,n){if(!Hi(e.precondition,t))return;const r=no(e.fieldTransforms,n,t),s=t.data;s.setAll(eo(e)),s.setAll(r),t.convertToFoundDocument(Qi(t),s).setHasLocalMutations()}(e,t,n):function(e,t){Hi(e.precondition,t)&&t.convertToNoDocument(os.min())}(e,t)}function Ki(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Di(r.transform,e||null);null!=s&&(null==n&&(n=js.empty()),n.set(r.field,s))}return n||null}function Xi(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rs(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Li&&t instanceof Li||e instanceof Mi&&t instanceof Mi?rs(e.elements,t.elements,As):e instanceof Vi&&t instanceof Vi?As(e.C,t.C):e instanceof Pi&&t instanceof Pi}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Qi(e){return e.isFoundDocument()?e.version:os.min()}class Ji extends Gi{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Zi extends Gi{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}}function eo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function to(e,t,n){const r=new Map;qr(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,Ri(o,a,n[s]))}return r}function no(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Oi(e,i,t))}return r}class ro extends Gi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class so extends Gi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class io{constructor(e){this.count=e}}var oo,ao;function co(e){switch(e){case zr.OK:return jr();case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0;default:return jr()}}function lo(e){if(void 0===e)return Fr("GRPC error has no .code"),zr.UNKNOWN;switch(e){case oo.OK:return zr.OK;case oo.CANCELLED:return zr.CANCELLED;case oo.UNKNOWN:return zr.UNKNOWN;case oo.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case oo.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case oo.INTERNAL:return zr.INTERNAL;case oo.UNAVAILABLE:return zr.UNAVAILABLE;case oo.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case oo.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case oo.NOT_FOUND:return zr.NOT_FOUND;case oo.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case oo.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case oo.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case oo.ABORTED:return zr.ABORTED;case oo.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case oo.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case oo.DATA_LOSS:return zr.DATA_LOSS;default:return jr()}}(ao=oo||(oo={}))[ao.OK=0]="OK",ao[ao.CANCELLED=1]="CANCELLED",ao[ao.UNKNOWN=2]="UNKNOWN",ao[ao.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ao[ao.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ao[ao.NOT_FOUND=5]="NOT_FOUND",ao[ao.ALREADY_EXISTS=6]="ALREADY_EXISTS",ao[ao.PERMISSION_DENIED=7]="PERMISSION_DENIED",ao[ao.UNAUTHENTICATED=16]="UNAUTHENTICATED",ao[ao.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ao[ao.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ao[ao.ABORTED=10]="ABORTED",ao[ao.OUT_OF_RANGE=11]="OUT_OF_RANGE",ao[ao.UNIMPLEMENTED=12]="UNIMPLEMENTED",ao[ao.INTERNAL=13]="INTERNAL",ao[ao.UNAVAILABLE=14]="UNAVAILABLE",ao[ao.DATA_LOSS=15]="DATA_LOSS";class uo{constructor(e,t){this.comparator=e,this.root=t||fo.EMPTY}insert(e,t){return new uo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fo.BLACK,null,null))}remove(e){return new uo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ho(this.root,e,this.comparator,!0)}}class ho{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fo{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:fo.RED,this.left=null!=r?r:fo.EMPTY,this.right=null!=s?s:fo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new fo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jr();if(this.right.isRed())throw jr();const e=this.left.check();if(e!==this.right.check())throw jr();return e+(this.isRed()?0:1)}}fo.EMPTY=null,fo.RED=!0,fo.BLACK=!1,fo.EMPTY=new class{constructor(){this.size=0}get key(){throw jr()}get value(){throw jr()}get color(){throw jr()}get left(){throw jr()}get right(){throw jr()}copy(e,t,n,r,s){return this}insert(e,t,n){return new fo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class po{constructor(e){this.comparator=e,this.data=new uo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mo(this.data.getIterator())}getIteratorFrom(e){return new mo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof po))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new po(this.comparator);return t.data=e,t}}class mo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const go=new uo(Cs.comparator);function yo(){return go}const vo=new uo(Cs.comparator);function wo(){return vo}const bo=new uo(Cs.comparator);function _o(){return bo}const Eo=new po(Cs.comparator);function So(...e){let t=Eo;for(const n of e)t=t.add(n);return t}const Io=new po(ns);function To(){return Io}class Co{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ko.createSynthesizedTargetChangeForCurrentChange(e,t)),new Co(os.min(),n,To(),yo(),So())}}class ko{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ko(ms.EMPTY_BYTE_STRING,t,So(),So(),So())}}class Ao{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class xo{constructor(e,t){this.targetId=e,this.O=t}}class No{constructor(e,t,n=ms.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Oo{constructor(){this.F=0,this.M=Po(),this.L=ms.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=So(),t=So(),n=So();return this.M.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jr()}}),new ko(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Po()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Ro{constructor(e){this.tt=e,this.et=new Map,this.nt=yo(),this.st=Do(),this.it=new po(ns)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:jr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Ws(e))if(0===n){const n=new Cs(e.path);this.at(t,n,Bs.newNoDocument(n,os.min()))}else qr(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const s=this.dt(r);if(s){if(n.current&&Ws(s.target)){const t=new Cs(s.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Bs.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=So();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Co(e,t,this.it,this.nt,n);return this.nt=yo(),this.st=Do(),this.it=new po(ns),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Oo,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new po(ns),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Mr("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Oo),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Do(){return new uo(Cs.comparator)}function Po(){return new uo(Cs.comparator)}const Lo={asc:"ASCENDING",desc:"DESCENDING"},$o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mo{constructor(e,t){this.databaseId=e,this.D=t}}function Fo(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vo(e,t){return e.D?t.toBase64():t.toUint8Array()}function Uo(e,t){return Fo(e,t.toTimestamp())}function jo(e){return qr(!!e),os.fromTimestamp(function(e){const t=ys(e);return new is(t.seconds,t.nanos)}(e))}function qo(e,t){return function(e){return new hs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bo(e){const t=hs.fromString(e);return qr(fa(t)),t}function zo(e,t){return qo(e.databaseId,t.path)}function Ho(e,t){const n=Bo(t);if(n.get(1)!==e.databaseId.projectId)throw new Hr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cs(Ko(n))}function Go(e,t){return qo(e.databaseId,t)}function Yo(e){const t=Bo(e);return 4===t.length?hs.emptyPath():Ko(t)}function Wo(e){return new hs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ko(e){return qr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xo(e,t,n){return{name:zo(e,t),fields:n.value.mapValue.fields}}function Qo(e,t,n){const r=Ho(e,t.name),s=jo(t.updateTime),i=new js({mapValue:{fields:t.fields}}),o=Bs.newFoundDocument(r,s,i);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Jo(e,t){let n;if(t instanceof Ji)n={update:Xo(e,t.key,t.value)};else if(t instanceof ro)n={delete:zo(e,t.key)};else if(t instanceof Zi)n={update:Xo(e,t.key,t.data),updateMask:da(t.fieldMask)};else{if(!(t instanceof so))return jr();n={verify:zo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Pi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Li)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vi)return{fieldPath:t.field.canonicalString(),increment:n.C};throw jr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Uo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jr()}(e,t.precondition)),n}function Zo(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?zi.updateTime(jo(e.updateTime)):void 0!==e.exists?zi.exists(e.exists):zi.none()}(t.currentDocument):zi.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(qr("REQUEST_TIME"===t.setToServerValue),n=new Pi):"appendMissingElements"in t?n=new Li(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Mi(t.removeAllFromArray.values||[]):"increment"in t?n=new Vi(e,t.increment):jr();const r=fs.fromServerFormat(t.fieldPath);return new qi(r,n)}(e,t)):[];if(t.update){const s=Ho(e,t.update.name),i=new js({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new ps((e.fieldPaths||[]).map(e=>fs.fromServerFormat(e)))}(t.updateMask);return new Zi(s,i,e,n,r)}return new Ji(s,i,n,r)}if(t.delete){const r=Ho(e,t.delete);return new ro(r,n)}if(t.verify){const r=Ho(e,t.verify);return new so(r,n)}return jr()}function ea(e,t){return{documents:[Go(e,t.path)]}}function ta(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Go(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Go(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Fs(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NAN"}};if(Ms(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fs(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NOT_NAN"}};if(Ms(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(e.field),op:aa(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ca(e.field),direction:oa(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(e,t){return e.D||Ss(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=sa(t.startAt)),t.endAt&&(n.structuredQuery.endAt=sa(t.endAt)),n}function na(e){let t=Yo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qr(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=ra(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new oi(la(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ss(t)?null:t}(n.limit));let c=null;n.startAt&&(c=ia(n.startAt));let l=null;return n.endAt&&(l=ia(n.endAt)),hi(t,s,o,i,a,"F",c,l)}function ra(e){return e?void 0!==e.unaryFilter?[ha(e)]:void 0!==e.fieldFilter?[ua(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>ra(e)).reduce((e,t)=>e.concat(t)):jr():[]}function sa(e){return{before:e.before,values:e.position}}function ia(e){return new si(e.values||[],!!e.before)}function oa(e){return Lo[e]}function aa(e){return $o[e]}function ca(e){return{fieldPath:e.canonicalString()}}function la(e){return fs.fromServerFormat(e.fieldPath)}function ua(e){return Ks.create(la(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ha(e){switch(e.unaryFilter.op){case"IS_NAN":const t=la(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=la(e.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=la(e.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=la(e.unaryFilter.field);return Ks.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jr()}}function da(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function fa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ga(t)),t=ma(e.get(n),t);return ga(t)}function ma(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function ga(e){return e+"\x01\x01"}function ya(e){const t=e.length;if(qr(t>=2),2===t)return qr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hs.emptyPath();const n=t-2,r=[];let s="";for(let i=0;i<t;){const t=e.indexOf("\x01",i);switch((t<0||t>n)&&jr(),e.charAt(t+1)){case"\x01":const n=e.substring(i,t);let o;0===s.length?o=n:(s+=n,o=s,s=""),r.push(o);break;case"\x10":s+=e.substring(i,t),s+="\0";break;case"\x11":s+=e.substring(i,t+1);break;default:jr()}i=t+2}return new hs(r)}class va{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class wa{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}wa.store="owner",wa.key="owner";class ba{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}ba.store="mutationQueues",ba.keyPath="userId";class _a{constructor(e,t,n,r,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s}}_a.store="mutations",_a.keyPath="batchId",_a.userMutationsIndex="userMutationsIndex",_a.userMutationsKeyPath=["userId","batchId"];class Ea{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,pa(t)]}static key(e,t,n){return[e,pa(t),n]}}Ea.store="documentMutations",Ea.PLACEHOLDER=new Ea;class Sa{constructor(e,t){this.path=e,this.readTime=t}}class Ia{constructor(e,t){this.path=e,this.version=t}}class Ta{constructor(e,t,n,r,s,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=i}}Ta.store="remoteDocuments",Ta.readTimeIndex="readTimeIndex",Ta.readTimeIndexPath="readTime",Ta.collectionReadTimeIndex="collectionReadTimeIndex",Ta.collectionReadTimeIndexPath=["parentPath","readTime"];class Ca{constructor(e){this.byteSize=e}}Ca.store="remoteDocumentGlobal",Ca.key="remoteDocumentGlobalKey";class ka{constructor(e,t,n,r,s,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=i,this.query=o}}ka.store="targets",ka.keyPath="targetId",ka.queryTargetsIndexName="queryTargetsIndex",ka.queryTargetsKeyPath=["canonicalId","targetId"];class Aa{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Aa.store="targetDocuments",Aa.keyPath=["targetId","path"],Aa.documentTargetsIndex="documentTargetsIndex",Aa.documentTargetsKeyPath=["path","targetId"];class xa{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}xa.key="targetGlobalKey",xa.store="targetGlobal";class Na{constructor(e,t){this.collectionId=e,this.parent=t}}Na.store="collectionParents",Na.keyPath=["collectionId","parent"];class Oa{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Oa.store="clientMetadata",Oa.keyPath="clientId";class Ra{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Ra.store="bundles",Ra.keyPath="bundleId";class Da{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Da.store="namedQueries",Da.keyPath="name";const Pa=[ba.store,_a.store,Ea.store,Ta.store,ka.store,wa.store,xa.store,Aa.store,Oa.store,Ca.store,Na.store,Ra.store,Da.store],La="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $a{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ma{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ma((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ma?t:Ma.resolve(t)}catch(e){return Ma.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ma.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ma.reject(t)}static resolve(e){return new Ma((t,n)=>{t(e)})}static reject(e){return new Ma((t,n)=>{n(e)})}static waitFor(e){return new Ma((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Ma.resolve(!1);for(const n of e)t=t.next(e=>e?Ma.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Fa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new Gr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new ja(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=Ga(t.target.error);this.Tt.reject(new ja(e,n))}}static open(e,t,n,r){try{return new Fa(t,e.transaction(r,n))}catch(e){throw new ja(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Mr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Ba(t)}}class Va{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Va.Rt((0,I.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mr("SimpleDb","Removing database:",e),za(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Va.Pt())return!0;const e=(0,I.z$)(),t=Va.Rt(e),n=0<t&&t<10,r=Va.vt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(Mr("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new ja(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;n("VersionError"===r.name?new Hr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===r.name?new Hr(zr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r):new ja(e,r))},r.onupgradeneeded=e=>{Mr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion),this.At.Ct(e.target.result,r.transaction,e.oldVersion,this.version).next(()=>{Mr("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const s="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.Dt(e);const t=Fa.open(this.db,e,s?"readonly":"readwrite",n),i=r(t).catch(e=>(t.abort(e),Ma.reject(e))).toPromise();return i.catch(()=>{}),await t.It,i}catch(e){const t="FirebaseError"!==e.name&&i<3;if(Mr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ua{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return za(this.kt.delete())}}class ja extends Hr{constructor(e,t){super(zr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qa(e){return"IndexedDbTransactionError"===e.name}class Ba{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Mr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),za(n)}add(e){return Mr("SimpleDb","ADD",this.store.name,e,e),za(this.store.add(e))}get(e){return za(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mr("SimpleDb","DELETE",this.store.name,e),za(this.store.delete(e))}count(){return Mr("SimpleDb","COUNT",this.store.name),za(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Mr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Ma((n,r)=>{t.onerror=e=>{const t=Ga(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Ma((r,s)=>{e.onerror=e=>{s(e.target.error)},e.onsuccess=e=>{const s=e.target.result;if(!s)return void r();const i=new Ua(s),o=t(s.primaryKey,s.value,i);if(o instanceof Ma){const e=o.catch(e=>(i.done(),Ma.reject(e)));n.push(e)}i.isDone?r():null===i.Ft?s.continue():s.continue(i.Ft)}}).next(()=>Ma.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function za(e){return new Ma((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Ga(e.target.error);n(t)}})}let Ha=!1;function Ga(e){const t=Va.Rt((0,I.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Hr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ha||(Ha=!0,setTimeout(()=>{throw e},0)),e}}return e}class Ya extends $a{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Wa(e,t){const n=Br(e);return Va.St(n.Qt,t)}class Ka{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Yi(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Wi(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Wi(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(os.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),So())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(e,t)=>Xi(e,t))&&rs(this.baseMutations,e.baseMutations,(e,t)=>Xi(e,t))}}class Xa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qr(e.mutations.length===n.length);let r=_o();const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Xa(e,t,n,r)}}class Qa{constructor(e,t,n,r,s=os.min(),i=os.min(),o=ms.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ja{constructor(e){this.Wt=e}}function Za(e,t){if(t.document)return Qo(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Cs.fromSegments(t.noDocument.path),n=sc(t.noDocument.readTime),r=Bs.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Cs.fromSegments(t.unknownDocument.path),n=sc(t.unknownDocument.version);return Bs.newUnknownDocument(e,n)}return jr()}function ec(e,t,n){const r=tc(n),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:zo(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fo(e,t.version.toTimestamp())}}(e.Wt,t);return new Ta(null,null,n,t.hasCommittedMutations,r,s)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=rc(t.version),i=t.hasCommittedMutations;return new Ta(null,new Sa(e,n),null,i,r,s)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=rc(t.version);return new Ta(new Ia(e,n),null,null,!0,r,s)}return jr()}function tc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nc(e){const t=new is(e[0],e[1]);return os.fromTimestamp(t)}function rc(e){const t=e.toTimestamp();return new va(t.seconds,t.nanoseconds)}function sc(e){const t=new is(e.seconds,e.nanoseconds);return os.fromTimestamp(t)}function ic(e,t){const n=(t.baseMutations||[]).map(t=>Zo(e.Wt,t));for(let i=0;i<t.mutations.length-1;++i){const e=t.mutations[i];i+1<t.mutations.length&&void 0!==t.mutations[i+1].transform&&(e.updateTransforms=t.mutations[i+1].transform.fieldTransforms,t.mutations.splice(i+1,1),++i)}const r=t.mutations.map(t=>Zo(e.Wt,t)),s=is.fromMillis(t.localWriteTimeMs);return new Ka(t.batchId,s,n,r)}function oc(e){const t=sc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?sc(e.lastLimboFreeSnapshotVersion):os.min();let r;var s;return void 0!==e.query.documents?(qr(1===(s=e.query).documents.length),r=wi(di(Yo(s.documents[0])))):r=function(e){return wi(na(e))}(e.query),new Qa(r,e.targetId,0,e.lastListenSequenceNumber,t,n,ms.fromBase64String(e.resumeToken))}function ac(e,t){const n=rc(t.snapshotVersion),r=rc(t.lastLimboFreeSnapshotVersion);let s;s=Ws(t.target)?ea(e.Wt,t.target):ta(e.Wt,t.target);const i=t.resumeToken.toBase64();return new ka(t.targetId,Gs(t.target),n,i,t.sequenceNumber,r,s)}function cc(e){const t=na({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bi(t,t.limit,"L"):t}class lc{getBundleMetadata(e,t){return uc(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:sc(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return uc(e).put({bundleId:(n=t).id,createTime:rc(jo(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return hc(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:cc(t.bundledQuery),readTime:sc(t.readTime)};var t})}saveNamedQuery(e,t){return hc(e).put(function(e){return{name:e.name,readTime:rc(jo(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function uc(e){return Wa(e,Ra.store)}function hc(e){return Wa(e,Da.store)}class dc{constructor(){this.Gt=new fc}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ma.resolve()}getCollectionParents(e,t){return Ma.resolve(this.Gt.getEntries(t))}}class fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new po(hs.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new po(hs.comparator)).toArray()}}class pc{constructor(){this.zt=new fc}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const s={collectionId:n,parent:pa(r)};return mc(e).put(s)}return Ma.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ss(t),""],!1,!0);return mc(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ya(r.parent))}return n})}}function mc(e){return Wa(e,Na.store)}const gc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new yc(e,yc.DEFAULT_COLLECTION_PERCENTILE,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vc(e,t,n){const r=e.store(_a.store),s=e.store(Ea.store),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));i.push(c.next(()=>{qr(1===a)}));const l=[];for(const u of n.mutations){const e=Ea.key(t,u.key.path,n.batchId);i.push(s.delete(e)),l.push(u.key)}return Ma.waitFor(i).next(()=>l)}function wc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jr();t=e.noDocument}return JSON.stringify(t).length}yc.DEFAULT_COLLECTION_PERCENTILE=10,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yc.DEFAULT=new yc(41943040,yc.DEFAULT_COLLECTION_PERCENTILE,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yc.DISABLED=new yc(-1,0,0);class bc{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){qr(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new bc(s,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).Kt({index:_a.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const s=Sc(e),i=Ec(e);return i.add({}).next(o=>{qr("number"==typeof o);const a=new Ka(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>Jo(e.Wt,t)),s=n.mutations.map(t=>Jo(e.Wt,t));return new _a(t,n.batchId,n.localWriteTime.toMillis(),r,s)}(this.N,this.userId,a),l=[];let u=new po((e,t)=>ns(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Ea.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(i.put(c)),l.push(s.put(t,Ea.PLACEHOLDER))}return u.forEach(t=>{l.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Ma.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return Ec(e).get(t).next(e=>e?(qr(e.userId===this.userId),ic(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Ma.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Ec(e).Kt({index:_a.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(qr(t.batchId>=n),s=ic(this.N,t)),r.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ec(e).Kt({index:_a.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ec(e).Lt(_a.userMutationsIndex,t).next(e=>e.map(e=>ic(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ea.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),s=[];return Sc(e).Kt({range:r},(n,r,i)=>{const[o,a,c]=n,l=ya(a);if(o===this.userId&&t.path.isEqual(l))return Ec(e).get(c).next(e=>{if(!e)throw jr();qr(e.userId===this.userId),s.push(ic(this.N,e))});i.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new po(ns);const r=[];return t.forEach(t=>{const s=Ea.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(s),o=Sc(e).Kt({range:i},(e,r,s)=>{const[i,o,a]=e,c=ya(o);i===this.userId&&t.path.isEqual(c)?n=n.add(a):s.done()});r.push(o)}),Ma.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,s=Ea.prefixForPath(this.userId,n),i=IDBKeyRange.lowerBound(s);let o=new po(ns);return Sc(e).Kt({range:i},(e,t,s)=>{const[i,a,c]=e,l=ya(a);i===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):s.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Ec(e).get(t).next(e=>{if(null===e)throw jr();qr(e.userId===this.userId),n.push(ic(this.N,e))}))}),Ma.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return vc(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ma.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ma.resolve();const n=IDBKeyRange.lowerBound(Ea.prefixForUser(this.userId)),r=[];return Sc(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ya(e[1]);r.push(t)}else n.done()}).next(()=>{qr(0===r.length)})})}containsKey(e,t){return _c(e,this.userId,t)}ee(e){return Ic(e).get(this.userId).next(e=>e||new ba(this.userId,-1,""))}}function _c(e,t,n){const r=Ea.prefixForPath(t,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Sc(e).Kt({range:i,qt:!0},(e,n,r)=>{const[i,a,c]=e;i===t&&a===s&&(o=!0),r.done()}).next(()=>o)}function Ec(e){return Wa(e,_a.store)}function Sc(e){return Wa(e,Ea.store)}function Ic(e){return Wa(e,ba.store)}class Tc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Tc(0)}static ie(){return new Tc(-1)}}class Cc{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Tc(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>os.fromTimestamp(new is(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kc(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(qr(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const s=[];return kc(e).Kt((i,o)=>{const a=oc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,s.push(this.removeTargetData(e,a)))}).next(()=>Ma.waitFor(s)).next(()=>r)}forEachTarget(e,t){return kc(e).Kt((e,n)=>{const r=oc(n);t(r)})}re(e){return Ac(e).get(xa.key).next(e=>(qr(null!==e),e))}oe(e,t){return Ac(e).put(xa.key,t)}ae(e,t){return kc(e).put(ac(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Gs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return kc(e).Kt({range:r,index:ka.queryTargetsIndexName},(e,n,r)=>{const i=oc(n);Ys(t,i.target)&&(s=i,r.done())}).next(()=>s)}addMatchingKeys(e,t,n){const r=[],s=xc(e);return t.forEach(t=>{const i=pa(t.path);r.push(s.put(new Aa(n,i))),r.push(this.referenceDelegate.addReference(e,n,t))}),Ma.waitFor(r)}removeMatchingKeys(e,t,n){const r=xc(e);return Ma.forEach(t,t=>{const s=pa(t.path);return Ma.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=xc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xc(e);let s=So();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=ya(e[1]),i=new Cs(r);s=s.add(i)}).next(()=>s)}containsKey(e,t){const n=pa(t.path),r=IDBKeyRange.bound([n],[ss(n)],!1,!0);let s=0;return xc(e).Kt({index:Aa.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(s++,r.done())}).next(()=>s>0)}Et(e,t){return kc(e).get(t).next(e=>e?oc(e):null)}}function kc(e){return Wa(e,ka.store)}function Ac(e){return Wa(e,xa.store)}function xc(e){return Wa(e,Aa.store)}async function Nc(e){if(e.code!==zr.FAILED_PRECONDITION||e.message!==La)throw e;Mr("LocalStore","Unexpectedly lost primary lease")}function Oc([e,t],[n,r]){const s=ns(e,n);return 0===s?ns(t,r):s}class Rc{constructor(e){this.ue=e,this.buffer=new po(Oc),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Oc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dc{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;Mr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){qa(e)?Mr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Nc(e)}await this._e(e)})}}class Pc{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ma.resolve(Zr.T);const n=new Rc(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector","Garbage collection skipped; disabled"),Ma.resolve(gc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gc):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,s,i,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Mr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),$r()<=S.in.DEBUG&&Mr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-l}ms\n\tDetermined least recently used ${r} in `+(o-i)+"ms\n"+`\tRemoved ${s} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),Ma.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}class Lc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Pc(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return $c(e,n)}removeReference(e,t,n){return $c(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return $c(e,t)}Ie(e,t){return function(e,t){let n=!1;return Ic(e).jt(r=>_c(e,r,t).next(e=>(e&&(n=!0),Ma.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Te(e,(i,o)=>{if(o<=t){const t=this.Ie(e,i).next(t=>{if(!t)return s++,n.getEntry(e,i).next(()=>(n.removeEntry(i),xc(e).delete([0,pa(i.path)])))});r.push(t)}}).next(()=>Ma.waitFor(r)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return $c(e,t)}Te(e,t){const n=xc(e);let r,s=Zr.T;return n.Kt({index:Aa.documentTargetsIndex},([e,n],{path:i,sequenceNumber:o})=>{0===e?(s!==Zr.T&&t(new Cs(ya(r)),s),s=o,r=i):s=Zr.T}).next(()=>{s!==Zr.T&&t(new Cs(ya(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $c(e,t){return xc(e).put(function(e,t){return new Aa(0,pa(e.path),t)}(t,e.currentSequenceNumber))}class Mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){cs(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return ls(this.inner)}}class Fc{constructor(){this.changes=new Mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:os.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Bs.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ma.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vc{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return qc(e).put(Bc(t),n)}removeEntry(e,t){const n=qc(e),r=Bc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return qc(e).get(Bc(t)).next(e=>this.Re(t,e))}be(e,t){return qc(e).get(Bc(t)).next(e=>({document:this.Re(t,e),size:wc(e)}))}getEntries(e,t){let n=yo();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=yo(),r=new uo(Cs.comparator);return this.Pe(e,t,(e,t)=>{const s=this.Re(e,t);n=n.insert(e,s),r=r.insert(e,wc(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Ma.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator();let i=s.getNext();return qc(e).Kt({range:r},(e,t,r)=>{const o=Cs.fromSegments(e);for(;i&&Cs.comparator(i,o)<0;)n(i,null),i=s.getNext();i&&i.isEqual(o)&&(n(i,t),i=s.hasNext()?s.getNext():null),i?r.Mt(i.path.toArray()):r.done()}).next(()=>{for(;i;)n(i,null),i=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=yo();const s=t.path.length+1,i={};if(n.isEqual(os.min())){const e=t.path.toArray();i.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=tc(n);i.range=IDBKeyRange.lowerBound([e,r],!0),i.index=Ta.collectionReadTimeIndex}return qc(e).Kt(i,(e,n,i)=>{if(e.length!==s)return;const o=Za(this.N,n);t.path.isPrefixOf(o.key.path)?Ii(t,o)&&(r=r.insert(o.key,o)):i.done()}).next(()=>r)}newChangeBuffer(e){return new Uc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return jc(e).get(Ca.key).next(e=>(qr(!!e),e))}Ae(e,t){return jc(e).put(Ca.key,t)}Re(e,t){if(t){const e=Za(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(os.min()))return e}return Bs.newInvalidDocument(e)}}class Uc extends Fc{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Mc(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new po((e,t)=>ns(e.canonicalString(),t.canonicalString()));return this.changes.forEach((s,i)=>{const o=this.De.get(s);if(i.document.isValidDocument()){const a=ec(this.Se.N,i.document,this.getReadTime(s));r=r.add(s.path.popLast());const c=wc(a);n+=c-o,t.push(this.Se.addEntry(e,s,a))}else if(n-=o,this.trackRemovals){const n=ec(this.Se.N,Bs.newNoDocument(s,os.min()),this.getReadTime(s));t.push(this.Se.addEntry(e,s,n))}else t.push(this.Se.removeEntry(e,s))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Ma.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function jc(e){return Wa(e,Ca.store)}function qc(e){return Wa(e,Ta.store)}function Bc(e){return e.path.toArray()}class zc{constructor(e){this.N=e}Ct(e,t,n,r){qr(n<r&&n>=0&&r<=11);const s=new Fa("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(wa.store)}(e),function(e){e.createObjectStore(ba.store,{keyPath:ba.keyPath}),e.createObjectStore(_a.store,{keyPath:_a.keyPath,autoIncrement:!0}).createIndex(_a.userMutationsIndex,_a.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ea.store)}(e),Hc(e),function(e){e.createObjectStore(Ta.store)}(e));let i=Ma.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Aa.store),e.deleteObjectStore(ka.store),e.deleteObjectStore(xa.store)}(e),Hc(e)),i=i.next(()=>function(e){const t=e.store(xa.store),n=new xa(0,0,os.min().toTimestamp(),0);return t.put(xa.key,n)}(s))),n<4&&r>=4&&(0!==n&&(i=i.next(()=>function(e,t){return t.store(_a.store).Lt().next(n=>{e.deleteObjectStore(_a.store),e.createObjectStore(_a.store,{keyPath:_a.keyPath,autoIncrement:!0}).createIndex(_a.userMutationsIndex,_a.userMutationsKeyPath,{unique:!0});const r=t.store(_a.store),s=n.map(e=>r.put(e));return Ma.waitFor(s)})}(e,s))),i=i.next(()=>{!function(e){e.createObjectStore(Oa.store,{keyPath:Oa.keyPath})}(e)})),n<5&&r>=5&&(i=i.next(()=>this.Ce(s))),n<6&&r>=6&&(i=i.next(()=>(function(e){e.createObjectStore(Ca.store)}(e),this.Ne(s)))),n<7&&r>=7&&(i=i.next(()=>this.xe(s))),n<8&&r>=8&&(i=i.next(()=>this.ke(e,s))),n<9&&r>=9&&(i=i.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Ta.store);t.createIndex(Ta.readTimeIndex,Ta.readTimeIndexPath,{unique:!1}),t.createIndex(Ta.collectionReadTimeIndex,Ta.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(i=i.next(()=>this.$e(s))),n<11&&r>=11&&(i=i.next(()=>{!function(e){e.createObjectStore(Ra.store,{keyPath:Ra.keyPath})}(e),function(e){e.createObjectStore(Da.store,{keyPath:Da.keyPath})}(e)})),i}Ne(e){let t=0;return e.store(Ta.store).Kt((e,n)=>{t+=wc(n)}).next(()=>{const n=new Ca(t);return e.store(Ca.store).put(Ca.key,n)})}Ce(e){const t=e.store(ba.store),n=e.store(_a.store);return t.Lt().next(t=>Ma.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(_a.userMutationsIndex,r).next(n=>Ma.forEach(n,n=>{qr(n.userId===t.userId);const r=ic(this.N,n);return vc(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Aa.store),n=e.store(Ta.store);return e.store(xa.store).get(xa.key).next(e=>{const r=[];return n.Kt((n,s)=>{const i=new hs(n),o=function(e){return[0,pa(e)]}(i);r.push(t.get(o).next(n=>n?Ma.resolve():(n=>t.put(new Aa(0,pa(n),e.highestListenSequenceNumber)))(i)))}).next(()=>Ma.waitFor(r))})}ke(e,t){e.createObjectStore(Na.store,{keyPath:Na.keyPath});const n=t.store(Na.store),r=new fc,s=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pa(r)})}};return t.store(Ta.store).Kt({qt:!0},(e,t)=>{const n=new hs(e);return s(n.popLast())}).next(()=>t.store(Ea.store).Kt({qt:!0},([e,t,n],r)=>{const i=ya(t);return s(i.popLast())}))}$e(e){const t=e.store(ka.store);return t.Kt((e,n)=>{const r=oc(n),s=ac(this.N,r);return t.put(s)})}}function Hc(e){e.createObjectStore(Aa.store,{keyPath:Aa.keyPath}).createIndex(Aa.documentTargetsIndex,Aa.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ka.store,{keyPath:ka.keyPath}).createIndex(ka.queryTargetsIndexName,ka.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xa.store)}const Gc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yc{constructor(e,t,n,r,s,i,o,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=s,this.window=i,this.document=o,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Yc.bt())throw new Hr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lc(this,r),this.We=t+"main",this.N=new Ja(a),this.Ge=new Va(this.We,11,new zc(this.N)),this.ze=new Cc(this.referenceDelegate,this.N),this.Ht=new pc,this.He=function(e,t){return new Vc(e,t)}(this.N,this.Ht),this.Je=new lc,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Hr(zr.FAILED_PRECONDITION,Gc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Zr(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Xe()}))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kc(e).put(new Oa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(qa(e))return Mr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Wc(e).get(wa.key).next(e=>Ma.resolve(this.cn(e)))}un(e){return Kc(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Wa(e,Oa.store);return t.Lt().next(e=>{const n=this.fn(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return Ma.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ma.resolve(!0):Wc(e).get(wa.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Hr(zr.FAILED_PRECONDITION,Gc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kc(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Mr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[wa.store,Oa.store],e=>{const t=new Ya(e,Zr.T);return this.on(t).next(()=>this.un(t))}),this.Ge.close(),this.yn()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Kc(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return bc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return Mr("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Pa,s=>(r=new Ya(s,this.Le?this.Le.next():Zr.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Hr(zr.FAILED_PRECONDITION,La);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Wc(e).get(wa.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Hr(zr.FAILED_PRECONDITION,Gc)})}an(e){const t=new wa(this.clientId,this.allowTabSynchronization,Date.now());return Wc(e).put(wa.key,t)}static bt(){return Va.bt()}on(e){const t=Wc(e);return t.get(wa.key).next(e=>this.cn(e)?(Mr("IndexedDbPersistence","Releasing primary lease."),t.delete(wa.key)):Ma.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Fr(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,I.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Mr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Fr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wc(e){return Wa(e,wa.store)}function Kc(e){return Wa(e,Oa.store)}function Xc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Qc{constructor(e,t){this.progress=e,this.Tn=t}}class Jc{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):yi(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Cs(t)).next(e=>{let t=wo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let s=wo();return this.Ht.getCollectionParents(e,r).next(i=>Ma.forEach(i,i=>{const o=function(e,t){return new ui(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}Dn(e,t,n){let r,s;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(s=t,this.Cn(e,s,r).next(e=>{r=e;for(const t of s)for(const e of t.mutations){const n=e.key;let s=r.get(n);null==s&&(s=Bs.newInvalidDocument(n),r=r.insert(n,s)),Wi(e,s,t.localWriteTime),s.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Ii(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=So();for(const i of t)for(const e of i.mutations)e instanceof Zi&&null===n.get(e.key)&&(r=r.add(e.key));let s=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(s=s.insert(e,t))}),s))}}class Zc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=So(),r=So();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Zc(e,t.fromCache,n,r)}}class el{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(os.min())?this.Fn(e,t):this.On.Pn(e,r).next(s=>{const i=this.Mn(t,s);return(fi(t)||pi(t))&&this.Ln(t.limitType,i,r,n)?this.Fn(e,t):($r()<=S.in.DEBUG&&Mr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Si(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(i.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new po(Ti(e));return t.forEach((t,r)=>{Ii(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fn(e,t){return $r()<=S.in.DEBUG&&Mr("QueryEngine","Using full collection scan to execute query:",Si(t)),this.On.getDocumentsMatchingQuery(e,t,os.min())}}class tl{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new uo(ns),this.qn=new Mc(e=>Gs(e),Ys),this.Kn=os.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Jc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function nl(e,t,n,r){return new tl(e,t,n,r)}async function rl(e,t){const n=Br(e);let r=n.In,s=n.Qn;const i=await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.In.getAllMutationBatches(e).next(o=>(i=o,r=n.persistence.getMutationQueue(t),s=new Jc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=So();for(const e of i){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return s.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=s,n.Bn.$n(n.Qn),i}function sl(e){const t=Br(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function il(e,t,n,r,s){let i=So();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=yo();return n.forEach((n,o)=>{const a=e.get(n),c=(null==s?void 0:s.get(n))||r;o.isNoDocument()&&o.version.isEqual(os.min())?(t.removeEntry(n,c),i=i.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),i=i.insert(n,o)):Mr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),i})}function ol(e,t){const n=Br(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function al(e,t){const n=Br(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(s=>s?(r=s,Ma.resolve(r)):n.ze.allocateTargetId(e).next(s=>(r=new Qa(t,s,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}async function cl(e,t,n){const r=Br(e),s=r.Un.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!qa(e))throw e;Mr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(s.target)}function ll(e,t,n){const r=Br(e);let s=os.min(),i=So();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Br(e),s=r.qn.get(n);return void 0!==s?Ma.resolve(r.Un.get(s)):r.ze.getTargetData(t,n)}(r,e,wi(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?s:os.min(),n?i:So())).next(e=>({documents:e,Gn:i})))}function ul(e,t){const n=Br(e),r=Br(n.ze),s=n.Un.get(t);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function hl(e){const t=Br(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Br(e);let s=yo(),i=tc(n);const o=qc(t),a=IDBKeyRange.lowerBound(i,!0);return o.Kt({index:Ta.readTimeIndex,range:a},(e,t)=>{const n=Za(r.N,t);s=s.insert(n.key,n),i=t.readTime}).next(()=>({Tn:s,readTime:nc(i)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}async function dl(e,t,n=So()){const r=await al(e,wi(cc(t.bundledQuery))),s=Br(e);return s.persistence.runTransaction("Save named query","readwrite",e=>{const i=jo(t.readTime);if(r.snapshotVersion.compareTo(i)>=0)return s.Je.saveNamedQuery(e,t);const o=r.withResumeToken(ms.EMPTY_BYTE_STRING,i);return s.Un=s.Un.insert(o.targetId,o),s.ze.updateTargetData(e,o).next(()=>s.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>s.ze.addMatchingKeys(e,n,r.targetId)).next(()=>s.Je.saveNamedQuery(e,t))})}class fl{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ma.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:jo(n.createTime)}),Ma.resolve()}getNamedQuery(e,t){return Ma.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:cc(e.bundledQuery),readTime:jo(e.readTime)}}(t)),Ma.resolve()}}class pl{constructor(){this.Zn=new po(ml.ts),this.es=new po(ml.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new ml(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new ml(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Cs(new hs([])),n=new ml(t,e),r=new ml(t,e+1),s=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),s.push(e.key)}),s}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Cs(new hs([])),n=new ml(t,e),r=new ml(t,e+1);let s=So();return this.es.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new ml(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ml{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Cs.comparator(e.key,t.key)||ns(e.ls,t.ls)}static ns(e,t){return ns(e.ls,t.ls)||Cs.comparator(e.key,t.key)}}class gl{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new po(ml.ts)}checkEmpty(e){return Ma.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const s=this.fs;this.fs++;const i=new Ka(s,t,n,r);this.In.push(i);for(const o of r)this.ds=this.ds.add(new ml(o.key,s)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Ma.resolve(i)}lookupMutationBatch(e,t){return Ma.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return Ma.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Ma.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ma.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ml(t,0),r=new ml(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);s.push(t)}),Ma.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new po(ns);return t.forEach(e=>{const t=new ml(e,0),r=new ml(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Ma.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Cs.isDocumentKey(s)||(s=s.child(""));const i=new ml(new Cs(s),0);let o=new po(ns);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},i),Ma.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){qr(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Ma.forEach(t.mutations,r=>{const s=new ml(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new ml(t,0),r=this.ds.firstAfterOrEqual(n);return Ma.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ma.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class yl{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new uo(Cs.comparator),this.size=0}addEntry(e,t,n){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ma.resolve(n?n.document.clone():Bs.newInvalidDocument(t))}getEntries(e,t){let n=yo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Bs.newInvalidDocument(e))}),Ma.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=yo();const s=new Cs(t.path.child("")),i=this.docs.getIteratorFrom(s);for(;i.hasNext();){const{key:e,value:{document:s,readTime:o}}=i.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Ii(t,s)&&(r=r.insert(s.key,s.clone()))}return Ma.resolve(r)}Es(e,t){return Ma.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vl(this)}getSize(e){return Ma.resolve(this.size)}}class vl extends Fc{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Ma.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class wl{constructor(e){this.persistence=e,this.Ts=new Mc(e=>Gs(e),Ys),this.lastRemoteSnapshotVersion=os.min(),this.highestTargetId=0,this.Is=0,this.As=new pl,this.targetCount=0,this.Rs=Tc.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),Ma.resolve()}getLastRemoteSnapshotVersion(e){return Ma.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ma.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ma.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Ma.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ma.resolve()}updateTargetData(e,t){return this.ae(t),Ma.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ma.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Ts.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Ma.waitFor(s).next(()=>r)}getTargetCount(e){return Ma.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Ma.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Ma.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Ma.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ma.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Ma.resolve(n)}containsKey(e,t){return Ma.resolve(this.As.containsKey(t))}}class bl{constructor(e,t){this.bs={},this.Le=new Zr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new wl(this),this.Ht=new dc,this.He=function(e,t){return new yl(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new Ja(t),this.Je=new fl(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new gl(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Mr("MemoryPersistence","Starting transaction:",e);const r=new _l(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Ma.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class _l extends $a{constructor(e){super(),this.currentSequenceNumber=e}}class El{constructor(e){this.persistence=e,this.Ds=new pl,this.Cs=null}static Ns(e){return new El(e)}get xs(){if(this.Cs)return this.Cs;throw jr()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Ma.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Ma.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ma.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ma.forEach(this.xs,n=>{const r=Cs.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ma.or([()=>Ma.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Sl(e,t){return`firestore_clients_${e}_${t}`}function Il(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Tl(e,t){return`firestore_targets_${e}_${t}`}class Cl{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let s,i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(s=new Hr(r.error.code,r.error.message))),i?new Cl(e,t,r.state,s):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kl{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(r=new Hr(n.error.code,n.error.message))),s?new kl(e,n.state,r):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Al{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,s=To();for(let i=0;r&&i<n.activeTargetIds.length;++i)r=Ts(n.activeTargetIds[i]),s=s.add(n.activeTargetIds[i]);return r?new Al(e,s):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xl{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xl(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nl{constructor(){this.activeTargetIds=To()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ol{constructor(e,t,n,r,s){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new uo(ns),this.started=!1,this.Ks=[];const i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.js=Sl(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Nl),this.Ws=new RegExp(`^firestore_clients_${i}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${i}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${i}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const n of e){if(n===this.Ls)continue;const e=this.getItem(Sl(this.persistenceKey,n));if(e){const t=Al.$s(n,e);t&&(this.qs=this.qs.insert(t.clientId,t))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const n of this.Ks)this.Us(n);this.Ks=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Tl(this.persistenceKey,e));if(n){const r=kl.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tl(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mr("SharedClientState","READ",e,t),t}setItem(e,t){Mr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(Mr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ci(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ci(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=Zr.T;if(null!=e)try{const n=JSON.parse(e);qr("number"==typeof n),t=n}catch(e){Fr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Zr.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)})}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new Cl(this.currentUser,e,t,n),s=Il(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Os())}ni(e){const t=Il(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=Tl(this.persistenceKey,e),s=new kl(e,t,n);this.setItem(r,s.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return Al.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return Cl.$s(new Dr(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return kl.$s(r,t)}Xs(e){return xl.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);Mr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),s=this.ti(n),i=[],o=[];return s.forEach(e=>{r.has(e)||i.push(e)}),r.forEach(e=>{s.has(e)||o.push(e)}),this.syncEngine.gi(i,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=To();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Rl{constructor(){this.yi=new Nl,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Nl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Dl{Ei(e){}shutdown(){}}class Pl{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Mr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Mr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $l{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Ml extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const s=this.Bi(e,t);Mr("RestConnection","Sending: ",s,n);const i={};return this.Ui(i,r),this.qi(e,s,i,n).then(e=>(Mr("RestConnection","Received: ",e),e),t=>{throw Vr("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Ll[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((s,i)=>{const o=new Rr;o.listenOnce(Ar.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case kr.NO_ERROR:const t=o.getResponseJson();Mr("Connection","XHR received:",JSON.stringify(t)),s(t);break;case kr.TIMEOUT:Mr("Connection",'RPC "'+e+'" timed out'),i(new Hr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case kr.HTTP_ERROR:const n=o.getStatus();if(Mr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zr).indexOf(t)>=0?t:zr.UNKNOWN}(e.status);i(new Hr(t,e.message))}else i(new Hr(zr.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new Hr(zr.UNAVAILABLE,"Connection failed."));break;default:jr()}}finally{Mr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Er,s=mt(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(i.xmlHttpFactory=new Nr({})),this.Ui(i.initMessageHeaders,t),(0,I.uI)()||(0,I.b$)()||(0,I.d)()||(0,I.w1)()||(0,I.Mn)()||(0,I.ru)()||(i.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Mr("Connection","Creating WebChannel: "+o,i);const a=r.createWebChannel(o,i);let c=!1,l=!1;const u=new $l({vi:e=>{l?Mr("Connection","Not sending because WebChannel is closed:",e):(c||(Mr("Connection","Opening WebChannel transport."),a.open(),c=!0),Mr("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Or.EventType.OPEN,()=>{l||Mr("Connection","WebChannel transport opened.")}),h(a,Or.EventType.CLOSE,()=>{l||(l=!0,Mr("Connection","WebChannel transport closed"),u.$i())}),h(a,Or.EventType.ERROR,e=>{l||(l=!0,Vr("Connection","WebChannel transport errored:",e),u.$i(new Hr(zr.UNAVAILABLE,"The operation could not be completed")))}),h(a,Or.EventType.MESSAGE,e=>{var t;if(!l){const n=e.data[0];qr(!!n);const r=n,s=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(s){Mr("Connection","WebChannel received error:",s);const e=s.status;let t=function(e){const t=oo[e];if(void 0!==t)return lo(t)}(e),n=s.message;void 0===t&&(t=zr.INTERNAL,n="Unknown error status: "+e+" with message "+s.message),l=!0,u.$i(new Hr(t,n)),a.close()}else Mr("Connection","WebChannel received:",n),u.Oi(n)}}),h(s,xr.STAT_EVENT,e=>{10===e.stat?Mr("Connection","Detected buffering proxy"):11===e.stat&&Mr("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function Fl(){return"undefined"!=typeof window?window:null}function Vl(){return"undefined"!=typeof document?document:null}function Ul(e){return new Mo(e,!0)}class jl{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Mr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class ql{constructor(e,t,n,r,s,i){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=s,this.listener=i,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new jl(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===zr.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===zr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new Hr(zr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){this.state=4,this.rr.Xi(async()=>{this.state=0,this.start()})}pr(e){return Mr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Mr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bl extends ql{constructor(e,t,n,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,s),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jr()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.D?(qr(void 0===t||"string"==typeof t),ms.fromBase64String(t||"")):(qr(void 0===t||t instanceof Uint8Array),ms.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?zr.UNKNOWN:lo(e.code);return new Hr(t,e.message||"")}(o);n=new No(r,s,i,a||null)}else if("documentChange"in t){const r=t.documentChange,s=Ho(e,r.document.name),i=jo(r.document.updateTime),o=new js({mapValue:{fields:r.document.fields}}),a=Bs.newFoundDocument(s,i,o);n=new Ao(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,s=Ho(e,r.document),i=r.readTime?jo(r.readTime):os.min(),o=Bs.newNoDocument(s,i);n=new Ao([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,s=Ho(e,r.document);n=new Ao([],r.removedTargetIds||[],s,null)}else{if(!("filter"in t))return jr();{const e=t.filter,r=new io(e.count||0);n=new xo(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return os.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?os.min():t.readTime?jo(t.readTime):os.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=Wo(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Ws(r)?{documents:ea(e,r)}:{query:ta(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Vo(e,t.resumeToken):t.snapshotVersion.compareTo(os.min())>0&&(n.readTime=Fo(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Wo(this.N),t.removeTarget=e,this.wr(t)}}class zl extends ql{constructor(e,t,n,r,s){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,s),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(qr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(qr(void 0!==t),e.map(e=>function(e,t){let n=jo(e.updateTime?e.updateTime:t);return n.isEqual(os.min())&&(n=jo(t)),new Bi(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=jo(e.commitTime);return this.listener.vr(n,t)}return qr(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Wo(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Jo(this.N,e))};this.wr(t)}}class Hl extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Hr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===zr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Hr(zr.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===zr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Hr(zr.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Gl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Fr(t),this.$r=!1):Mr("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Yl{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=s,this.Qr.Ei(e=>{n.enqueueAndForget(async()=>{nu(this)&&(Mr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Br(e);t.Kr.add(4),await Kl(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Wl(t)}(this))})}),this.Wr=new Gl(n,r)}}async function Wl(e){if(nu(e))for(const t of e.jr)await t(!0)}async function Kl(e){for(const t of e.jr)await t(!1)}function Xl(e,t){const n=Br(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),tu(n)?eu(n):wu(n).cr()&&Jl(n,t))}function Ql(e,t){const n=Br(e),r=wu(n);n.qr.delete(t),r.cr()&&Zl(n,t),0===n.qr.size&&(r.cr()?r.lr():nu(n)&&n.Wr.set("Unknown"))}function Jl(e,t){e.Gr.Y(t.targetId),wu(e).Ir(t)}function Zl(e,t){e.Gr.Y(t),wu(e).Ar(t)}function eu(e){e.Gr=new Ro({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),wu(e).start(),e.Wr.Or()}function tu(e){return nu(e)&&!wu(e).ar()&&e.qr.size>0}function nu(e){return 0===Br(e).Kr.size}function ru(e){e.Gr=void 0}async function su(e){e.qr.forEach((t,n)=>{Jl(e,t)})}async function iu(e,t){ru(e),tu(e)?(e.Wr.Lr(t),eu(e)):e.Wr.set("Unknown")}async function ou(e,t,n){if(e.Wr.set("Online"),t instanceof No&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Mr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await au(e,n)}else if(t instanceof Ao?e.Gr.rt(t):t instanceof xo?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(os.min()))try{const t=await sl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.qr.get(r);s&&e.qr.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(ms.EMPTY_BYTE_STRING,n.snapshotVersion)),Zl(e,t);const r=new Qa(n.target,t,1,n.sequenceNumber);Jl(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Mr("RemoteStore","Failed to raise snapshot:",t),await au(e,t)}}async function au(e,t,n){if(!qa(t))throw t;e.Kr.add(1),await Kl(e),e.Wr.set("Offline"),n||(n=()=>sl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Mr("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Wl(e)})}function cu(e,t){return t().catch(n=>au(e,n,t))}async function lu(e){const t=Br(e),n=bu(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;uu(t);)try{const e=await ol(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,hu(t,e)}catch(e){await au(t,e)}du(t)&&fu(t)}function uu(e){return nu(e)&&e.Ur.length<10}function hu(e,t){e.Ur.push(t);const n=bu(e);n.cr()&&n.br&&n.Pr(t.mutations)}function du(e){return nu(e)&&!bu(e).ar()&&e.Ur.length>0}function fu(e){bu(e).start()}async function pu(e){bu(e).Sr()}async function mu(e){const t=bu(e);for(const n of e.Ur)t.Pr(n.mutations)}async function gu(e,t,n){const r=e.Ur.shift(),s=Xa.from(r,t,n);await cu(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await lu(e)}async function yu(e,t){t&&bu(e).br&&await async function(e,t){if(co(n=t.code)&&n!==zr.ABORTED){const n=e.Ur.shift();bu(e).hr(),await cu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await lu(e)}var n}(e,t),du(e)&&fu(e)}async function vu(e,t){const n=Br(e);t?(n.Kr.delete(2),await Wl(n)):t||(n.Kr.add(2),await Kl(n),n.Wr.set("Unknown"))}function wu(e){return e.zr||(e.zr=function(e,t,n){const r=Br(e);return r.Cr(),new Bl(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:su.bind(null,e),Ci:iu.bind(null,e),Tr:ou.bind(null,e)}),e.jr.push(async t=>{t?(e.zr.hr(),tu(e)?eu(e):e.Wr.set("Unknown")):(await e.zr.stop(),ru(e))})),e.zr}function bu(e){return e.Hr||(e.Hr=function(e,t,n){const r=Br(e);return r.Cr(),new zl(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:pu.bind(null,e),Ci:yu.bind(null,e),Vr:mu.bind(null,e),vr:gu.bind(null,e)}),e.jr.push(async t=>{t?(e.Hr.hr(),await lu(e)):(await e.Hr.stop(),e.Ur.length>0&&(Mr("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))})),e.Hr}class _u{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new _u(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eu(e,t){if(Fr("AsyncQueue",`${t}: ${e}`),qa(e))return new Hr(zr.UNAVAILABLE,`${t}: ${e}`);throw e}class Su{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Cs.comparator(t.key,n.key):(e,t)=>Cs.comparator(e.key,t.key),this.keyedMap=wo(),this.sortedSet=new uo(this.comparator)}static emptySet(e){return new Su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Su))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Su;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Iu{constructor(){this.Jr=new uo(Cs.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):jr():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class Tu{constructor(e,t,n,r,s,i,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Tu(e,t,Su.emptySet(t),s,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_i(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Cu{constructor(){this.Xr=void 0,this.listeners=[]}}class ku{constructor(){this.queries=new Mc(e=>Ei(e),_i),this.onlineState="Unknown",this.Zr=new Set}}async function Au(e,t){const n=Br(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Cu),s)try{i.Xr=await n.onListen(r)}catch(e){const n=Eu(e,`Initialization of query '${Si(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.eo(n.onlineState),i.Xr&&t.no(i.Xr)&&Ru(n)}async function xu(e,t){const n=Br(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Nu(e,t){const n=Br(e);let r=!1;for(const s of t){const e=n.queries.get(s.query);if(e){for(const t of e.listeners)t.no(s)&&(r=!0);e.Xr=s}}r&&Ru(n)}function Ou(e,t,n){const r=Br(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function Ru(e){e.Zr.forEach(e=>{e.next()})}class Du{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Tu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Pu{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Lu{constructor(e){this.N=e}zn(e){return Ho(this.N,e)}Hn(e){return e.metadata.exists?Qo(this.N,e.document,!1):Bs.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return jo(e)}}class $u{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Mu(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Lu(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||So()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const s=Br(e);let i=So(),o=yo(),a=_o();for(const u of n){const e=t.zn(u.metadata.name);u.document&&(i=i.add(e)),o=o.insert(e,t.Hn(u)),a=a.insert(e,t.Jn(u.metadata.readTime))}const c=s.jn.newChangeBuffer({trackRemovals:!0}),l=await al(s,function(e){return wi(di(hs.fromString(`__bundle__/docs/${e}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",e=>il(e,c,o,os.min(),a).next(t=>(c.apply(e),t)).next(t=>s.ze.removeMatchingKeysForTargetId(e,l.targetId).next(()=>s.ze.addMatchingKeys(e,i,l.targetId)).next(()=>s.Qn.vn(e,t)).next(()=>t)))}(this.localStore,new Lu(this.N),this.documents,this.lo.id),t=this.wo(this.documents);for(const n of this.queries)await dl(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new Qc(Object.assign({},this.progress),e)}}function Mu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Fu{constructor(e){this.key=e}}class Vu{constructor(e){this.key=e}}class Uu{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=So(),this.mutatedKeys=So(),this.po=Ti(e),this.Eo=new Su(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new Iu,r=t?t.Eo:this.Eo;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a=fi(this.query)&&r.size===this.query.limit?r.last():null,c=pi(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=Ii(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ro(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.po(u,a)>0||c&&this.po(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),fi(this.query)||pi(this.query))for(;i.size>this.query.limit;){const e=fi(this.query)?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Eo:i,Ao:n,Ln:o,mutatedKeys:s}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const s=e.Ao.Yr();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jr()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const i=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==s.length||a?{snapshot:new Tu(this.query,e.Eo,r,s,e.mutatedKeys,0===o,a,!1),vo:i}:{vo:i}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Iu,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=So(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Vu(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new Fu(n))}),t}So(e){this._o=e.Gn,this.yo=So();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Tu.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class ju{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qu{constructor(e){this.key=e,this.Co=!1}}class Bu{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.No={},this.xo=new Mc(e=>Ei(e),_i),this.ko=new Map,this.$o=new Set,this.Oo=new uo(Cs.comparator),this.Fo=new Map,this.Mo=new pl,this.Lo={},this.Bo=new Map,this.Uo=Tc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function zu(e,t){const n=gh(e);let r,s;const i=n.xo.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Do();else{const e=await al(n.localStore,wi(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await Hu(n,t,r,"current"===i),n.isPrimaryClient&&Xl(n.remoteStore,e)}return s}async function Hu(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let s=t.view.Io(n);s.Ln&&(s=await ll(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,s)));const i=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i);return nh(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const s=await ll(e.localStore,t,!0),i=new Uu(t,s.Gn),o=i.Io(s.documents),a=ko.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=i.applyChanges(o,e.isPrimaryClient,a);nh(e,n,c.vo);const l=new ju(t,n,i);return e.xo.set(t,l),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),c.snapshot}async function Gu(e,t){const n=Br(e),r=n.xo.get(t),s=n.ko.get(r.targetId);if(s.length>1)return n.ko.set(r.targetId,s.filter(e=>!_i(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cl(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ql(n.remoteStore,r.targetId),eh(n,r.targetId)}).catch(Nc)):(eh(n,r.targetId),await cl(n.localStore,r.targetId,!0))}async function Yu(e,t){const n=Br(e);try{const e=await function(e,t){const n=Br(e),r=t.snapshotVersion;let s=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.jn.newChangeBuffer({trackRemovals:!0});s=n.Un;const o=[];t.targetChanges.forEach((t,i)=>{const a=s.get(i);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,i).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,i)));const c=t.resumeToken;if(c.approximateByteSize()>0){const l=a.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);s=s.insert(i,l),function(e,t,n){return qr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&o.push(n.ze.updateTargetData(e,l))}});let a=yo();if(t.documentUpdates.forEach((r,s)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(il(e,i,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(os.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Ma.waitFor(o).next(()=>i.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(qr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?qr(r.Co):e.removedDocuments.size>0&&(qr(r.Co),r.Co=!1))}),await ih(n,e,t)}catch(e){await Nc(e)}}function Wu(e,t,n){const r=Br(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const s=r.view.eo(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Br(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.listeners)s.eo(t)&&(r=!0)}),r&&Ru(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ku(e,t,n){const r=Br(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Fo.get(t),i=s&&s.key;if(i){let e=new uo(Cs.comparator);e=e.insert(i,Bs.newNoDocument(i,os.min()));const n=So().add(i),s=new Co(os.min(),new Map,new po(ns),e,n);await Yu(r,s),r.Oo=r.Oo.remove(i),r.Fo.delete(t),sh(r)}else await cl(r.localStore,t,!1).then(()=>eh(r,t,n)).catch(Nc)}async function Xu(e,t){const n=Br(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Br(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let o=Ma.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);qr(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(n.localStore,t);Zu(n,r,null),Ju(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ih(n,e)}catch(e){await Nc(e)}}async function Qu(e,t,n){const r=Br(e);try{const e=await function(e,t){const n=Br(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(qr(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);Zu(r,t,n),Ju(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ih(r,e)}catch(n){await Nc(n)}}function Ju(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function Zu(e,t,n){const r=Br(e);let s=r.Lo[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Lo[r.currentUser.toKey()]=s}}function eh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||th(e,t)})}function th(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Ql(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),sh(e))}function nh(e,t,n){for(const r of n)r instanceof Fu?(e.Mo.addReference(r.key,t),rh(e,r)):r instanceof Vu?(Mr("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||th(e,r.key)):jr()}function rh(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Mr("SyncEngine","New document in limbo: "+n),e.$o.add(r),sh(e))}function sh(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Cs(hs.fromString(t)),r=e.Uo.next();e.Fo.set(r,new qu(n)),e.Oo=e.Oo.insert(n,r),Xl(e.remoteStore,new Qa(wi(di(n.path)),r,2,Zr.T))}}async function ih(e,t,n){const r=Br(e),s=[],i=[],o=[];r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),s.push(e);const t=Zc.kn(a.targetId,e);i.push(t)}}))}),await Promise.all(o),r.No.Tr(s),await async function(e,t){const n=Br(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ma.forEach(t,t=>Ma.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ma.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!qa(e))throw e;Mr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}(r.localStore,i))}async function oh(e,t){const n=Br(e);if(!n.currentUser.isEqual(t)){Mr("SyncEngine","User change. New user:",t.toKey());const e=await rl(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new Hr(zr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ih(n,e.Wn)}}function ah(e,t){const n=Br(e),r=n.Fo.get(t);if(r&&r.Co)return So().add(r.key);{let e=So();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}async function ch(e,t){const n=Br(e),r=await ll(n.localStore,t.query,!0),s=t.view.So(r);return n.isPrimaryClient&&nh(n,t.targetId,s.vo),s}async function lh(e){const t=Br(e);return hl(t.localStore).then(e=>ih(t,e))}async function uh(e,t,n,r){const s=Br(e),i=await function(e,t){const n=Br(e),r=Br(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Ma.resolve(null)))}(s.localStore,t);null!==i?("pending"===n?await lu(s.remoteStore):"acknowledged"===n||"rejected"===n?(Zu(s,t,r||null),Ju(s,t),function(e,t){Br(Br(e).In).te(t)}(s.localStore,t)):jr(),await ih(s,i)):Mr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function hh(e,t,n){const r=Br(e),s=[],i=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=await al(r.localStore,wi(t[0]));for(const e of t){const t=r.xo.get(e),n=await ch(r,t);n.snapshot&&i.push(n.snapshot)}}else{const t=await ul(r.localStore,o);e=await al(r.localStore,t),await Hu(r,dh(t),o,!1)}s.push(e)}return r.No.Tr(i),s}function dh(e){return hi(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fh(e){const t=Br(e);return Br(Br(t.localStore).persistence).pn()}async function ph(e,t,n,r){const s=Br(e);if(s.qo)Mr("SyncEngine","Ignoring unexpected query state notification.");else if(s.ko.has(t))switch(n){case"current":case"not-current":{const e=await hl(s.localStore),r=Co.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await ih(s,e,r);break}case"rejected":await cl(s.localStore,t,!0),eh(s,t,r);break;default:jr()}}async function mh(e,t,n){const r=gh(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Mr("SyncEngine","Adding an already active target "+e);continue}const t=await ul(r.localStore,e),n=await al(r.localStore,t);await Hu(r,dh(t),n.targetId,!1),Xl(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&await cl(r.localStore,e,!1).then(()=>{Ql(r.remoteStore,e),eh(r,e)}).catch(Nc)}}function gh(e){const t=Br(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ah.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ku.bind(null,t),t.No.Tr=Nu.bind(null,t.eventManager),t.No.jo=Ou.bind(null,t.eventManager),t}function yh(e){const t=Br(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qu.bind(null,t),t}class vh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=Ul(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return nl(this.persistence,new el,e.initialUser,this.N)}Go(e){return new bl(El.Ns,this.N)}Wo(e){return new Rl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wh extends vh{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Br(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=qc(e);let n=os.min();return t.Kt({index:Ta.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=nc(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})}(this.localStore),await this.Jo.initialize(this,e),await yh(this.Jo.syncEngine),await lu(this.Jo.remoteStore),await this.persistence.nn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Ho(e){return nl(this.persistence,new el,e.initialUser,this.N)}zo(e){return new Dc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Xc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yc.withCacheSize(this.cacheSizeBytes):yc.DEFAULT;return new Yc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Fl(),Vl(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Rl}}class bh extends wh{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Jo.syncEngine;this.sharedClientState instanceof Ol&&(this.sharedClientState.syncEngine={_i:uh.bind(null,t),mi:ph.bind(null,t),gi:mh.bind(null,t),pn:fh.bind(null,t),wi:lh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn(async e=>{await async function(e,t){const n=Br(e);if(gh(n),yh(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await hh(n,e.toArray());n.qo=!0,await vu(n.remoteStore,!0);for(const r of t)Xl(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,s)=>{n.sharedClientState.isLocalQueryTarget(s)?e.push(s):t=t.then(()=>(eh(n,s),cl(n.localStore,s,!0))),Ql(n.remoteStore,s)}),await t,await hh(n,e),function(e){const t=Br(e);t.Fo.forEach((e,n)=>{Ql(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new uo(Cs.comparator)}(n),n.qo=!1,await vu(n.remoteStore,!1)}}(this.Jo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Wo(e){const t=Fl();if(!Ol.bt(t))throw new Hr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Xc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ol(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class _h{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Wu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oh.bind(null,this.syncEngine),await vu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ku}createDatastore(e){const t=Ul(e.databaseInfo.databaseId),n=new Ml(e.databaseInfo);return function(e,t,n){return new Hl(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>Wu(this.syncEngine,e,0),i=Pl.bt()?new Pl:new Dl,new Yl(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new Bu(e,t,n,r,s,i);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Br(e);Mr("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Kl(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}function Eh(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ih{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const e=await this.na();if(null===e)return null;const t=this.ta.decode(e),n=Number(t);isNaN(n)&&this.sa(`length string (${t}) is not valid number`);const r=await this.ia(n);return new Pu(JSON.parse(r),e.length+n)}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async na(){for(;this.ra()<0&&!(await this.oa()););if(0===this.buffer.length)return null;const e=this.ra();e<0&&this.sa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ia(e){for(;this.buffer.length<e;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const t=this.ta.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}async oa(){const e=await this.Zo.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Th{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Hr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Br(e),r=Wo(n.N)+"/documents",s={documents:t.map(e=>zo(n.N,e))},i=await n.Ki("BatchGetDocuments",r,s),o=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){qr(!!t.found);const n=Ho(e,t.found.name),r=jo(t.found.updateTime),s=new js({mapValue:{fields:t.found.fields}});return Bs.newFoundDocument(n,r,s)}(e,t):"missing"in t?function(e,t){qr(!!t.missing),qr(!!t.readTime);const n=Ho(e,t.missing),r=jo(t.readTime);return Bs.newNoDocument(n,r)}(e,t):jr()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());qr(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Cs.fromPath(t);this.mutations.push(new so(n,this.precondition(n)))}),await async function(e,t){const n=Br(e),r=Wo(n.N)+"/documents",s={writes:t.map(e=>Jo(n.N,e))};await n.Li("Commit",r,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jr();t=os.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zi.updateTime(t):zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(os.min()))throw new Hr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zi.updateTime(t)}return zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ch{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new jl(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi(async()=>{const e=new Th(this.datastore),t=this.ua(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.ha(e)}))}).catch(e=>{this.ha(e)})})}ua(e){try{const t=this.updateFunction(e);return!Ss(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!co(t)}return!1}}class kh{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Dr.UNAUTHENTICATED,this.clientId=ts.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,async e=>{Mr("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=Eu(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ah(e,t){e.asyncQueue.verifyOperationInProgress(),Mr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await rl(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function xh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Nh(e);Mr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=Br(e);n.asyncQueue.verifyOperationInProgress(),Mr("RemoteStore","RemoteStore received new credentials");const r=nu(n);n.Kr.add(3),await Kl(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Wl(n)}(t.remoteStore,e)),e.onlineComponents=t}async function Nh(e){return e.offlineComponents||(Mr("FirestoreClient","Using default OfflineComponentProvider"),await Ah(e,new vh)),e.offlineComponents}async function Oh(e){return e.onlineComponents||(Mr("FirestoreClient","Using default OnlineComponentProvider"),await xh(e,new _h)),e.onlineComponents}function Rh(e){return Nh(e).then(e=>e.persistence)}function Dh(e){return Nh(e).then(e=>e.localStore)}function Ph(e){return Oh(e).then(e=>e.remoteStore)}function Lh(e){return Oh(e).then(e=>e.syncEngine)}async function $h(e){const t=await Oh(e),n=t.eventManager;return n.onListen=zu.bind(null,t.syncEngine),n.onUnlisten=Gu.bind(null,t.syncEngine),n}function Mh(e,t,n={}){const r=new Gr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Sh({next:i=>{t.enqueueAndForget(()=>xu(e,o));const a=i.docs.has(n);!a&&i.fromCache?s.reject(new Hr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?s.reject(new Hr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),o=new Du(di(n.path),i,{includeMetadataChanges:!0,uo:!0});return Au(e,o)}(await $h(e),e.asyncQueue,t,n,r)),r.promise}function Fh(e,t,n={}){const r=new Gr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Sh({next:n=>{t.enqueueAndForget(()=>xu(e,o)),n.fromCache&&"server"===r.source?s.reject(new Hr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),o=new Du(n,i,{includeMetadataChanges:!0,uo:!0});return Au(e,o)}(await $h(e),e.asyncQueue,t,n,r)),r.promise}class Vh{constructor(e,t,n,r,s,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Uh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uh&&e.projectId===this.projectId&&e.database===this.database}}const jh=new Map;function qh(e,t,n){if(!n)throw new Hr(zr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Bh(e,t,n,r){if(!0===t&&!0===r)throw new Hr(zr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function zh(e){if(!Cs.isDocumentKey(e))throw new Hr(zr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Hh(e){if(Cs.isDocumentKey(e))throw new Hr(zr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":jr()}function Yh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hr(zr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(e);throw new Hr(zr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Wh(e,t){if(t<=0)throw new Hr(zr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Kh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Hr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kh({}),this._settingsFrozen=!1,e instanceof Uh?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(e.options.projectId)}(e))}get app(){if(!this._app)throw new Hr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Wr;switch(e.type){case"gapi":const t=e.client;return qr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Jr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jh.get(e);t&&(Mr("ComponentProvider","Removing Datastore"),jh.delete(e),t.terminate())}(this),Promise.resolve()}}class Qh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qh(this.firestore,e,this._key)}}class Jh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jh(this.firestore,e,this._query)}}class Zh extends Jh{constructor(e,t,n){super(e,t,di(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qh(this.firestore,null,new Cs(e))}withConverter(e){return new Zh(this.firestore,e,this._path)}}function ed(e,t,...n){if(e=(0,I.m9)(e),qh("collection","path",t),e instanceof Xh){const r=hs.fromString(t,...n);return Hh(r),new Zh(e,null,r)}{if(!(e instanceof Qh||e instanceof Zh))throw new Hr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(hs.fromString(t,...n));return Hh(r),new Zh(e.firestore,null,r)}}function td(e,t,...n){if(e=(0,I.m9)(e),1===arguments.length&&(t=ts.I()),qh("doc","path",t),e instanceof Xh){const r=hs.fromString(t,...n);return zh(r),new Qh(e,null,new Cs(r))}{if(!(e instanceof Qh||e instanceof Zh))throw new Hr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(hs.fromString(t,...n));return zh(r),new Qh(e.firestore,e instanceof Zh?e.converter:null,new Cs(r))}}function nd(e,t){return e=(0,I.m9)(e),t=(0,I.m9)(t),(e instanceof Qh||e instanceof Zh)&&(t instanceof Qh||t instanceof Zh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rd(e,t){return e=(0,I.m9)(e),t=(0,I.m9)(t),e instanceof Jh&&t instanceof Jh&&e.firestore===t.firestore&&_i(e._query,t._query)&&e.converter===t.converter}class sd{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new jl(this,"async_queue_retry"),this.Ea=()=>{const e=Vl();e&&Mr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Vl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Vl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new Gr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!qa(e))throw e;Mr("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi(()=>this.Aa())}}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=_u.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&jr()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function id(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class od{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ad extends Xh{constructor(e,t){super(e,t),this.type="firestore",this._queue=new sd,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ld(this),this._firestoreClient.terminate()}}function cd(e){return e._firestoreClient||ld(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ld(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Vh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new kh(e._credentials,e._queue,r)}function ud(e,t,n){const r=new Gr;return e.asyncQueue.enqueue(async()=>{try{await Ah(e,n),await xh(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===zr.FAILED_PRECONDITION||e.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function hd(e){if(e._initialized||e._terminated)throw new Hr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(ms.fromBase64String(e))}catch(e){throw new Hr(zr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fd(ms.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pd{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ns(this._lat,e._lat)||ns(this._long,e._long)}}const gd=/^__.*__$/;class yd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ji(e,this.data,t,this.fieldTransforms)}}class vd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jr()}}class bd{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Sa(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Ud(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(wd(this.Da)&&gd.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class _d{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Ul(e)}Ba(e,t,n,r=!1){return new bd({Da:e,methodName:t,La:n,path:fs.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ed(e){const t=e._freezeSettings(),n=Ul(e._databaseId);return new _d(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sd(e,t,n,r,s,i={}){const o=e.Ba(i.merge||i.mergeFields?2:0,t,n,s);$d("Data must be an object, but it was:",o,r);const a=Pd(r,o);let c,l;if(i.merge)c=new ps(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Md(t,r,n);if(!o.contains(s))throw new Hr(zr.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);jd(e,s)||e.push(s)}c=new ps(e),l=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=o.fieldTransforms;return new yd(new js(a),c,l)}class Id extends pd{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function Td(e,t,n){return new bd({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Cd extends pd{_toFieldTransform(e){return new qi(e.path,new Pi)}isEqual(e){return e instanceof Cd}}class kd extends pd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Td(this,e,!0),n=this.Ua.map(e=>Dd(e,t)),r=new Li(n);return new qi(e.path,r)}isEqual(e){return this===e}}class Ad extends pd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Td(this,e,!0),n=this.Ua.map(e=>Dd(e,t)),r=new Mi(n);return new qi(e.path,r)}isEqual(e){return this===e}}class xd extends pd{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Vi(e.N,xi(e.N,this.qa));return new qi(e.path,t)}isEqual(e){return this===e}}function Nd(e,t,n,r){const s=e.Ba(1,t,n);$d("Data must be an object, but it was:",s,r);const i=[],o=js.empty();cs(r,(e,r)=>{const a=Vd(t,e,n);r=(0,I.m9)(r);const c=s.$a(a);if(r instanceof Id)i.push(a);else{const e=Dd(r,c);null!=e&&(i.push(a),o.set(a,e))}});const a=new ps(i);return new vd(o,a,s.fieldTransforms)}function Od(e,t,n,r,s,i){const o=e.Ba(1,t,n),a=[Md(t,r,n)],c=[s];if(i.length%2!=0)throw new Hr(zr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(Md(t,i[d])),c.push(i[d+1]);const l=[],u=js.empty();for(let d=a.length-1;d>=0;--d)if(!jd(l,a[d])){const e=a[d];let t=c[d];t=(0,I.m9)(t);const n=o.$a(e);if(t instanceof Id)l.push(e);else{const r=Dd(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new ps(l);return new vd(u,h,o.fieldTransforms)}function Rd(e,t,n,r=!1){return Dd(n,e.Ba(r?4:3,t))}function Dd(e,t){if(Ld(e=(0,I.m9)(e)))return $d("Unsupported field value:",t,e),Pd(e,t);if(e instanceof pd)return function(e,t){if(!wd(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Dd(s,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,I.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xi(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=is.fromDate(e);return{timestampValue:Fo(t.N,n)}}if(e instanceof is){const n=new is(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fo(t.N,n)}}if(e instanceof md)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fd)return{bytesValue:Vo(t.N,e._byteString)};if(e instanceof Qh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:qo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${Gh(e)}`)}(e,t)}function Pd(e,t){const n={};return ls(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(e,(e,r)=>{const s=Dd(r,t.Na(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Ld(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof is||e instanceof md||e instanceof fd||e instanceof Qh||e instanceof pd)}function $d(e,t,n){if(!Ld(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Gh(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function Md(e,t,n){if((t=(0,I.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return Vd(e,t);throw Ud("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Fd=new RegExp("[~\\*/\\[\\]]");function Vd(e,t,n){if(t.search(Fd)>=0)throw Ud(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dd(...t.split("."))._internalPath}catch(r){throw Ud(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ud(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Hr(zr.INVALID_ARGUMENT,a+e+c)}function jd(e,t){return e.some(e=>e.isEqual(t))}class qd{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bd extends qd{data(){return super.data()}}function zd(e,t){return"string"==typeof t?Vd(e,t):t instanceof dd?t._internalPath:t._delegate._internalPath}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends qd{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Yd extends Gd{data(e={}){return super.data(e)}}class Wd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Yd(this._firestore,this._userDataWriter,n.key,n,new Hd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Yd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Hd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Yd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Kd(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jr()}}function Xd(e,t){return e instanceof Gd&&t instanceof Gd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Wd&&t instanceof Wd&&e._firestore===t._firestore&&rd(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Qd(e){if(pi(e)&&0===e.explicitOrderBy.length)throw new Hr(zr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}function Zd(e,...t){for(const n of t)e=n._apply(e);return e}class ef extends Jd{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Ed(e.firestore),n=function(e,t,n,r,s,i,o){let a;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Hr(zr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on FieldPath.documentId().`);if("in"===i||"not-in"===i){cf(o,i);const t=[];for(const n of o)t.push(af(r,e,n));a={arrayValue:{values:t}}}else a=af(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||cf(o,i),a=Rd(n,"where",o,"in"===i||"not-in"===i);const c=Ks.create(s,i,a);return function(e,t){if(t.v()){const n=gi(e);if(null!==n&&!n.isEqual(t.field))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=mi(e);null!==r&&lf(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Hr(zr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Jh(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new ui(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class tf extends Jd{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new oi(t,n);return function(e,t){if(null===mi(e)){const n=gi(e);null!==n&&lf(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Jh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ui(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class nf extends Jd{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Jh(e.firestore,e.converter,bi(e._query,this.Ga,this.za))}}class rf extends Jd{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=of(e,this.type,this.Ha,this.Ja);return new Jh(e.firestore,e.converter,function(e,t){return new ui(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sf extends Jd{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=of(e,this.type,this.Ha,this.Ja);return new Jh(e.firestore,e.converter,function(e,t){return new ui(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function of(e,t,n,r){if(n[0]=(0,I.m9)(n[0]),n[0]instanceof qd)return function(e,t,n,r,s){if(!r)throw new Hr(zr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const o of vi(e))if(o.field.isKeyField())i.push(Ps(t,r.key));else{const e=r.data.field(o.field);if(bs(e))throw new Hr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new si(i,s)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const s=Ed(e.firestore);return function(e,t,n,r,s,i){const o=e.explicitOrderBy;if(s.length>o.length)throw new Hr(zr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<s.length;c++){const i=s[c];if(o[c].field.isKeyField()){if("string"!=typeof i)throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof i}`);if(!yi(e)&&-1!==i.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(hs.fromString(i));if(!Cs.isDocumentKey(n))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new Cs(n);a.push(Ps(t,s))}else{const e=Rd(n,r,i);a.push(e)}}return new si(a,i)}(e._query,e.firestore._databaseId,s,t,n,r)}}function af(e,t,n){if("string"==typeof(n=(0,I.m9)(n))){if(""===n)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yi(t)&&-1!==n.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(hs.fromString(n));if(!Cs.isDocumentKey(r))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ps(e,new Cs(r))}if(n instanceof Qh)return Ps(e,n._key);throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function cf(e,t){if(!Array.isArray(e)||0===e.length)throw new Hr(zr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Hr(zr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function lf(e,t,n){if(!n.isEqual(t))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uf{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jr()}}convertObject(e,t){const n={};return cs(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new md(vs(e.latitude),vs(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_s(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Es(e));default:return null}}convertTimestamp(e){const t=ys(e);return new is(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=hs.fromString(e);qr(fa(n));const r=new Uh(n.get(1),n.get(3)),s=new Cs(n.popFirst(5));return r.isEqual(t)||Fr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function hf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class df extends uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qh(this.firestore,null,t)}}class ff{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ed(e)}set(e,t,n){this._verifyNotCommitted();const r=pf(e,this._firestore),s=hf(r.converter,t,n),i=Sd(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,zi.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const s=pf(e,this._firestore);let i;return i="string"==typeof(t=(0,I.m9)(t))||t instanceof dd?Od(this._dataReader,"WriteBatch.update",s._key,t,n,r):Nd(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(i.toMutation(s._key,zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pf(e,this._firestore);return this._mutations=this._mutations.concat(new ro(t._key,zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Hr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pf(e,t){if((e=(0,I.m9)(e)).firestore!==t)throw new Hr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mf extends uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qh(this.firestore,null,t)}}function gf(e,t,n){e=Yh(e,Qh);const r=Yh(e.firestore,ad),s=hf(e.converter,t,n);return wf(r,[Sd(Ed(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,zi.none())])}function yf(e,t,n,...r){e=Yh(e,Qh);const s=Yh(e.firestore,ad),i=Ed(s);let o;return o="string"==typeof(t=(0,I.m9)(t))||t instanceof dd?Od(i,"updateDoc",e._key,t,n,r):Nd(i,"updateDoc",e._key,t),wf(s,[o.toMutation(e._key,zi.exists(!0))])}function vf(e,...t){var n,r,s;e=(0,I.m9)(e);let i={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||id(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(id(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let c,l,u;if(e instanceof Qh)l=Yh(e.firestore,ad),u=di(e._key.path),c={next:n=>{t[o]&&t[o](bf(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Yh(e,Jh);l=Yh(n.firestore,ad),u=n._query;const r=new mf(l);c={next:e=>{t[o]&&t[o](new Wd(l,r,n,e))},error:t[o+1],complete:t[o+2]},Qd(e._query)}return function(e,t,n,r){const s=new Sh(r),i=new Du(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>Au(await $h(e),i)),()=>{s.Xo(),e.asyncQueue.enqueueAndForget(async()=>xu(await $h(e),i))}}(cd(l),u,a,c)}function wf(e,t){return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=yh(e);try{const e=await function(e,t){const n=Br(e),r=is.now(),s=t.reduce((e,t)=>e.add(t.key),So());let i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,s).next(s=>{i=s;const o=[];for(const e of t){const t=Ki(e,i.get(e.key));null!=t&&o.push(new Zi(e.key,t,qs(t.value.mapValue),zi.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(i),{batchId:e.batchId,changes:i}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new uo(ns)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await ih(r,e.changes),await lu(r.remoteStore)}catch(e){const t=Eu(e,"Failed to persist write");n.reject(t)}}(await Lh(e),t,n)),n.promise}(cd(e),t)}function bf(e,t,n){const r=n.docs.get(t._key),s=new mf(e);return new Gd(e,s,t._key,r,new Hd(n.hasPendingWrites,n.fromCache),t.converter)}class _f extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ed(e)}get(e){const t=pf(e,this._firestore),n=new df(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return jr();const r=e[0];if(r.isFoundDocument())return new qd(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new qd(this._firestore,n,t._key,null,t.converter);throw jr()})}set(e,t,n){const r=pf(e,this._firestore),s=hf(r.converter,t,n),i=Sd(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n,...r){const s=pf(e,this._firestore);let i;return i="string"==typeof(t=(0,I.m9)(t))||t instanceof dd?Od(this._dataReader,"Transaction.update",s._key,t,n,r):Nd(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,i),this}delete(e){const t=pf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pf(e,this._firestore),n=new mf(this._firestore);return super.get(e).then(e=>new Gd(this._firestore,n,t._key,e._document,new Hd(!1,!1),t.converter))}}function Ef(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hr("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Sf(){if("undefined"==typeof Uint8Array)throw new Hr("unimplemented","Uint8Arrays are not available in this environment.")}function If(){if("undefined"==typeof atob)throw new Hr("unimplemented","Blobs are unavailable in Firestore in this environment.")}Pr=_.SDK_VERSION,(0,_._registerComponent)(new E.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new ad(n,new Xr(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,_.registerVersion)("@firebase/firestore","3.0.2",void 0);class Tf{constructor(e){this._delegate=e}static fromBase64String(e){return If(),new Tf(fd.fromBase64String(e))}static fromUint8Array(e){return Sf(),new Tf(fd.fromUint8Array(e))}toBase64(){return If(),this._delegate.toBase64()}toUint8Array(){return Sf(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class kf{enableIndexedDbPersistence(e,t){return function(e,t){hd(e=Yh(e,ad));const n=cd(e),r=e._freezeSettings(),s=new _h;return ud(n,s,new wh(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){hd(e=Yh(e,ad));const t=cd(e),n=e._freezeSettings(),r=new _h;return ud(t,r,new bh(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Hr(zr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!Va.bt())return Promise.resolve();const t=e+"main";await Va.delete(t)}(Xc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class Af{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var s;const i=(e=Yh(e,Xh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Vr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dr.MOCK_USER;else{t=(0,I.Sg)(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Hr(zr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dr(i)}e._credentials=new Kr(new Yr(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Rh(e),n=await Ph(e);return t.setNetworkEnabled(!0),function(e){const t=Br(e);return t.Kr.delete(0),Wl(t)}(n)})}(cd(Yh(this._delegate,ad)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Rh(e),n=await Ph(e);return t.setNetworkEnabled(!1),async function(e){const t=Br(e);t.Kr.add(0),await Kl(t),t.Wr.set("Offline")}(n)})}(cd(Yh(this._delegate,ad)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Bh("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Br(e);nu(n.remoteStore)||Mr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Br(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Eu(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Lh(e),t)),t.promise}(cd(Yh(this._delegate,ad)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new Sh(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){Br(e).Zr.add(t),t.next()}(await $h(e),n)),()=>{n.Xo(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){Br(e).Zr.delete(t)}(await $h(e),n))}}(cd(Yh(this._delegate,ad)),id(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new Hr("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qf(this,ed(this._delegate,e))}catch(t){throw Pf(t,"collection()","Firestore.collection()")}}doc(e){try{return new Df(this,td(this._delegate,e))}catch(t){throw Pf(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vf(this,function(e,t){if(e=Yh(e,Xh),qh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hr(zr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jh(e,null,function(e){return new ui(hs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Pf(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new Nf(this,t)),function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return Oh(e).then(e=>e.datastore)}(e);new Ch(e.asyncQueue,r,t,n).run()}),n.promise}(cd(t=this._delegate),e=>n(new _f(t,e)));var t,n}batch(){return cd(this._delegate),new Of(new ff(this._delegate,e=>wf(this._delegate,e)))}loadBundle(e){return function(e,t){const n=cd(e=Yh(e,ad)),r=new od;return function(e,t,n,r){const s=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Ih(e,t)}(function(e,t){if(e instanceof Uint8Array)return Eh(e,t);if(e instanceof ArrayBuffer)return Eh(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ul(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=Br(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Br(e),r=jo(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Mu(r));const s=new $u(r,e.localStore,t.N);let i=await t.Qo();for(;i;){const e=await s.fo(i);e&&n._updateProgress(e),i=await t.Qo()}const o=await s.complete();await ih(e,o.Tn,void 0),await function(e,t){const n=Br(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Vr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await Lh(e),s,r)})}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=Br(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(await Dh(e),t))}(cd(t=Yh(t,ad)),n).then(e=>e?new Jh(t,null,e.query):null)).then(e=>e?new Vf(this,e):null);var t,n}}class xf extends uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tf(new fd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Df.forKey(t,this.firestore,null)}}class Nf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xf(e)}get(e){const t=Bf(e);return this._delegate.get(t).then(e=>new Mf(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Bf(e);return n?(Ef("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const s=Bf(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Bf(e);return this._delegate.delete(t),this}}class Of{constructor(e){this._delegate=e}set(e,t,n){const r=Bf(e);return n?(Ef("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const s=Bf(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Bf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rf{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Yd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ff(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Rf.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let s=r.get(t);return s||(s=new Rf(e,new xf(e),t),r.set(t,s)),s}}Rf.INSTANCES=new WeakMap;class Df{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xf(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Hr("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Df(t,new Qh(t._delegate,n,new Cs(e)))}static forKey(e,t,n){return new Df(t,new Qh(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qf(this.firestore,ed(this._delegate,e))}catch(t){throw Pf(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,I.m9)(e))instanceof Qh&&nd(this._delegate,e)}set(e,t){t=Ef("DocumentReference.set",t);try{return t?gf(this._delegate,e,t):gf(this._delegate,e)}catch(n){throw Pf(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?yf(this._delegate,e):yf(this._delegate,e,t,...n)}catch(r){throw Pf(r,"updateDoc()","DocumentReference.update()")}}delete(){return wf(Yh((e=this._delegate).firestore,ad),[new ro(e._key,zi.none())]);var e}onSnapshot(...e){const t=Lf(e),n=$f(e,e=>new Mf(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return vf(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Yh(e,Qh);const t=Yh(e.firestore,ad),n=cd(t),r=new mf(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=Br(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Hr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Eu(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Dh(e),t,n)),n.promise}(n,e._key).then(n=>new Gd(t,r,e._key,n,new Hd(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Yh(e,Qh);const t=Yh(e.firestore,ad);return Mh(cd(t),e._key,{source:"server"}).then(n=>bf(t,e,n))}(this._delegate):function(e){e=Yh(e,Qh);const t=Yh(e.firestore,ad);return Mh(cd(t),e._key).then(n=>bf(t,e,n))}(this._delegate),t.then(e=>new Mf(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Df(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}function Pf(e,t,n){return e.message=e.message.replace(t,n),e}function Lf(e){for(const t of e)if("object"==typeof t&&!Cf(t))return t;return{}}function $f(e,t){var n,r;let s;return s=Cf(e[0])?e[0]:Cf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{s.next&&s.next(t(e))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Mf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Df(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Xd(this._delegate,e._delegate)}}class Ff extends Mf{data(e){const t=this._delegate.data(e);return void 0!==t||jr(),t}}class Vf{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xf(e)}where(e,t,n){try{return new Vf(this.firestore,Zd(this._delegate,function(e,t,n){const r=t,s=zd("where",e);return new ef(s,r,n)}(e,t,n)))}catch(r){throw Pf(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vf(this.firestore,Zd(this._delegate,function(e,t="asc"){const n=t,r=zd("orderBy",e);return new tf(r,n)}(e,t)))}catch(n){throw Pf(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vf(this.firestore,Zd(this._delegate,(Wh("limit",t=e),new nf("limit",t,"F"))))}catch(n){throw Pf(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Vf(this.firestore,Zd(this._delegate,(Wh("limitToLast",t=e),new nf("limitToLast",t,"L"))))}catch(n){throw Pf(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new Vf(this.firestore,Zd(this._delegate,function(...e){return new rf("startAt",e,!0)}(...e)))}catch(t){throw Pf(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vf(this.firestore,Zd(this._delegate,function(...e){return new rf("startAfter",e,!1)}(...e)))}catch(t){throw Pf(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vf(this.firestore,Zd(this._delegate,function(...e){return new sf("endBefore",e,!0)}(...e)))}catch(t){throw Pf(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vf(this.firestore,Zd(this._delegate,function(...e){return new sf("endAt",e,!1)}(...e)))}catch(t){throw Pf(t,"endAt()","Query.endAt()")}}isEqual(e){return rd(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Yh(e,Jh);const t=Yh(e.firestore,ad),n=cd(t),r=new mf(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await ll(e,t,!0),s=new Uu(t,r.Gn),i=s.Io(r.documents),o=s.applyChanges(i,!1);n.resolve(o.snapshot)}catch(e){const r=Eu(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Dh(e),t,n)),n.promise}(n,e._query).then(n=>new Wd(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Yh(e,Jh);const t=Yh(e.firestore,ad),n=cd(t),r=new mf(t);return Fh(n,e._query,{source:"server"}).then(n=>new Wd(t,r,e,n))}(this._delegate):function(e){e=Yh(e,Jh);const t=Yh(e.firestore,ad),n=cd(t),r=new mf(t);return Qd(e._query),Fh(n,e._query).then(n=>new Wd(t,r,e,n))}(this._delegate),t.then(e=>new jf(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Lf(e),n=$f(e,e=>new jf(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return vf(this._delegate,t,n)}withConverter(e){return new Vf(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}class Uf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ff(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vf(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ff(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new Uf(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Ff(this._firestore,n))})}isEqual(e){return Xd(this._delegate,e._delegate)}}class qf extends Vf{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Df(this.firestore,e):null}doc(e){try{return new Df(this.firestore,void 0===e?td(this._delegate):td(this._delegate,e))}catch(t){throw Pf(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Yh(e.firestore,ad),r=td(e),s=hf(e.converter,t);return wf(n,[Sd(Ed(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,zi.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Df(this.firestore,e))}isEqual(e){return nd(this._delegate,e._delegate)}withConverter(e){return new qf(this.firestore,this._delegate.withConverter(e?Rf.getInstance(this.firestore,e):null))}}function Bf(e){return Yh(e,Qh)}class zf{constructor(...e){this._delegate=new dd(...e)}static documentId(){return new zf(fs.keyField().canonicalString())}isEqual(e){return(e=(0,I.m9)(e))instanceof dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hf{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Cd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Hf(e)}static delete(){const e=new Id("deleteField");return e._methodName="FieldValue.delete",new Hf(e)}static arrayUnion(...e){const t=function(...e){return new kd("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Hf(t)}static arrayRemove(...e){const t=function(...e){return new Ad("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Hf(t)}static increment(e){const t=new xd("increment",e);return t._methodName="FieldValue.increment",new Hf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gf={Firestore:Af,GeoPoint:md,Timestamp:is,Blob:Tf,Transaction:Nf,WriteBatch:Of,DocumentReference:Df,DocumentSnapshot:Mf,Query:Vf,QueryDocumentSnapshot:Ff,QuerySnapshot:jf,CollectionReference:qf,FieldPath:zf,FieldValue:Hf,setLogLevel:function(e){Lr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var Yf,Wf;Wf=(e,t)=>new Af(e,t,new kf),(Yf=b.Z).INTERNAL.registerComponent(new E.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return Wf(t,n)},"PUBLIC").setServiceProps(Object.assign({},Gf))),Yf.registerVersion("@firebase/firestore-compat","0.1.2");var Kf=n(8006),Xf=n(7841);function Qf(e,t){return function(e,t=s.z){return new i.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Jf(e,t){return Qf(e,t).pipe((0,p.U)(e=>({payload:e,type:"query"})))}function Zf(e,t){return Jf(e,t).pipe((0,f.O)(void 0),u(),(0,p.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,s)=>{const i=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));i&&JSON.stringify(i.doc.metadata)===JSON.stringify(t.metadata)||!i&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:s,newIndex:s,type:"modified",doc:t}})}),r}))}function ep(e,t,n){return Zf(e,n).pipe((0,m.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return tp(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return tp(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return tp(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,g.x)(),(0,p.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function tp(e,t,n,...r){const s=e.slice();return s.splice(t,n,...r),s}function np(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class rp{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Zf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,p.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,f.O)(void 0),u(),(0,y.h)(([e,t])=>t.length>0||!e),(0,p.U)(([e,t])=>t),c.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,m.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=np(e);return ep(this.query,t,this.afs.schedulers.outsideAngular).pipe(c.iC)}valueChanges(e={}){return Jf(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),c.iC)}get(e){return(0,o.D)(this.query.get(e)).pipe(c.iC)}add(e){return this.ref.add(e)}doc(e){return new sp(this.ref.doc(e),this.afs)}}class sp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:s}=up(n,t);return new rp(r,s,this.afs)}snapshotChanges(){return Qf(this.ref,this.afs.schedulers.outsideAngular).pipe((0,f.O)(void 0),u(),(0,p.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(c.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,p.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,o.D)(this.ref.get(e)).pipe(c.iC)}}class ip{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Zf(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,y.h)(e=>e.length>0),c.iC):Zf(this.query,this.afs.schedulers.outsideAngular).pipe(c.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,m.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=np(e);return ep(this.query,t,this.afs.schedulers.outsideAngular).pipe(c.iC)}valueChanges(e={}){return Jf(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),c.iC)}get(e){return(0,o.D)(this.query.get(e)).pipe(c.iC)}}const op=new r.OlP("angularfire2.enableFirestorePersistence"),ap=new r.OlP("angularfire2.firestore.persistenceSettings"),cp=new r.OlP("angularfire2.firestore.settings"),lp=new r.OlP("angularfire2.firestore.use-emulator");function up(e,t=(e=>e)){return{query:t(e),ref:e}}let hp=(()=>{class e{constructor(e,t,n,r,s,i,l,u,h,d,f,p,m,g,y,b){this.schedulers=l;const _=(0,v.on)(e,i,t),E=h;d&&(0,Kf.nw)(_,i,f,m,g,y,p,b),[this.firestore,this.persistenceEnabled$]=(0,c.cc)(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{const e=i.runOutsideAngular(()=>_.firestore());if(r&&e.settings(r),E&&e.useEmulator(...E),n&&!(0,w.PM)(s)){const t=()=>{try{return(0,o.D)(e.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,a.of)(!1)}};return[e,i.runOutsideAngular(t)]}return[e,(0,a.of)(!1)]},[r,E,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:s}=up(n,t),i=this.schedulers.ngZone.run(()=>r);return new rp(i,s,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new ip(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new sp(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v.Dh),r.LFG(v.xv,8),r.LFG(op,8),r.LFG(cp,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(c.HU),r.LFG(ap,8),r.LFG(lp,8),r.LFG(Kf.zQ,8),r.LFG(Kf.Qv,8),r.LFG(Kf.L6,8),r.LFG(Kf._Q,8),r.LFG(Kf.rT,8),r.LFG(Kf.lh,8),r.LFG(Kf.f7,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),dp=(()=>{class e{constructor(){Xf.Z.registerVersion("angularfire",c.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:op,useValue:!0},{provide:ap,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[hp]}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>c,on:()=>d,pX:()=>a});var r=n(3018),s=n(7841),i=n(9126);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(s,i)=>n.runOutsideAngular(()=>{var s;if(e[i])return(null===(s=null==r?void 0:r.spy)||void 0===s?void 0:s.get)&&r.spy.get(i,e[i]),e[i];if(o.indexOf(i)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const s=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(i,n,s),s})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class l{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=s.Z.apps.filter(e=>e&&e.name===i.name)[0]||n.runOutsideAngular(()=>s.Z.initializeApp(t,i));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new l(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:l,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){s.Z.registerVersion("angularfire",i.q4.full,"core"),s.Z.registerVersion("angularfire",i.q4.full,"app-compat"),s.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},9126:(e,t,n)=>{"use strict";n.d(t,{q4:()=>l,iC:()=>v,HU:()=>g,cc:()=>d});var r=n(3018);(0,n(5452).registerVersion)("firebase","9.0.2","app");var s=n(7771),i=n(3637),o=n(3342),a=n(3101),c=n(309);e=n.hmd(e);const l=new r.GfV("7.0.4"),u=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,s){const[,i,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(i)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(s,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${u?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:s,was:o})),i;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,s]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=s.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class m{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let g=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,i.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return y(),(t=y(),function(e){return(e=e.lift(new m(t.ngZone))).pipe((0,a.R)(t.outsideAngular),(0,c.QV)(t.insideAngular))})(e);var t}},665:(e,t,n)=>{"use strict";n.d(t,{qu:()=>ke,NI:()=>le,u:()=>_e,sg:()=>we,u5:()=>Te,JU:()=>f,a5:()=>V,JJ:()=>j,JL:()=>q,On:()=>pe,UX:()=>Ce,Q7:()=>Se,kI:()=>E,_Y:()=>me});var r=n(3018),s=n(8583),i=n(7574),o=n(9796),a=n(8002),c=n(1555),l=n(4402);function u(e,t){return new i.y(n=>{const r=e.length;if(0===r)return void n.complete();const s=new Array(r);let i=0,o=0;for(let a=0;a<r;a++){const c=(0,l.D)(e[a]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),s[a]=e},error:e=>n.error(e),complete:()=>{i++,i!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=s[n],e),{}):s),n.complete())}}))}})}let h=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),d=(()=>{class e extends h{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const f=new r.OlP("NgValueAccessor"),p={provide:f,useExisting:(0,r.Gpc)(()=>g),multi:!0},m=new r.OlP("CompositionEventMode");let g=(()=>{class e extends h{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(m,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([p]),r.qOj]}),e})();function y(e){return null==e||0===e.length}function v(e){return null!=e&&"number"==typeof e.length}const w=new r.OlP("NgValidators"),b=new r.OlP("NgAsyncValidators"),_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class E{static min(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return S(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return y(e.value)||_.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>y(t.value)||!v(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>v(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return I;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(y(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return N(e)}static composeAsync(e){return R(e)}}function S(e){return y(e.value)?{required:!0}:null}function I(e){return null}function T(e){return null!=e}function C(e){const t=(0,r.QGY)(e)?(0,l.D)(e):e;return(0,r.CqO)(t),t}function k(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function A(e,t){return t.map(t=>t(e))}function x(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function N(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return k(A(e,t))}}function O(e){return null!=e?N(x(e)):null}function R(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,o.k)(t))return u(t,null);if((0,c.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return u(e=1===e.length&&(0,o.k)(e[0])?e[0]:e,null).pipe((0,a.U)(e=>t(...e)))}return u(e,null)}(A(e,t).map(C)).pipe((0,a.U)(k))}}function D(e){return null!=e?R(x(e)):null}function P(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function L(e){return e._rawValidators}function $(e){return e._rawAsyncValidators}let M=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=O(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),F=(()=>{class e extends M{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class V extends M{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let j=(()=>{class e extends U{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(V,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),q=(()=>{class e extends U{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function B(e,t){return[...t.path,e]}function z(e,t){Y(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&K(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&K(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function H(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),W(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function G(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Y(e,t){const n=L(e);null!==t.validator?e.setValidators(P(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=$(e);null!==t.asyncValidator?e.setAsyncValidators(P(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const s=()=>e.updateValueAndValidity();G(t._rawValidators,s),G(t._rawAsyncValidators,s)}function W(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=L(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(e=>e!==t.validator);s.length!==r.length&&(n=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const r=$(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(e=>e!==t.asyncValidator);s.length!==r.length&&(n=!0,e.setAsyncValidators(s))}}}const r=()=>{};return G(t._rawValidators,r),G(t._rawAsyncValidators,r),n}function K(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function X(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Q(e,t){if(!t)return null;let n,r,s;return Array.isArray(t),t.forEach(e=>{e.constructor===g?n=e:Object.getPrototypeOf(e.constructor)===d?r=e:s=e}),s||r||n||null}function J(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Z="VALID",ee="INVALID",te="PENDING",ne="DISABLED";function re(e){return(ae(e)?e.validators:e)||null}function se(e){return Array.isArray(e)?O(e):e||null}function ie(e,t){return(ae(t)?t.asyncValidators:e)||null}function oe(e){return Array.isArray(e)?D(e):e||null}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ce{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=se(this._rawValidators),this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Z}get invalid(){return this.status===ee}get pending(){return this.status==te}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=se(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=oe(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=te,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ne,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Z,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Z&&this.status!==te||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:Z}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator=!0;const t=C(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ue?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof he&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(ee)?ee:Z}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ae(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class le extends ce{constructor(e=null,t,n){super(re(t),ie(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){J(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){J(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ue extends ce{constructor(e,t,n){super(re(t),ie(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof le?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class he extends ce{constructor(e,t,n){super(re(t),ie(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof le?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const de={provide:V,useExisting:(0,r.Gpc)(()=>pe)},fe=(()=>Promise.resolve(null))();let pe=(()=>{class e extends V{constructor(e,t,n,s){super(),this.control=new le,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),X(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?B(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){z(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fe.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;fe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,9),r.Y36(w,10),r.Y36(b,10),r.Y36(f,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([de]),r.qOj,r.TTD]}),e})(),me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const ye=new r.OlP("NgModelWithFormControlWarning"),ve={provide:F,useExisting:(0,r.Gpc)(()=>we)};let we=(()=>{class e extends F{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(W(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return z(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){H(e.control||null,e,!1),J(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(H(t||null,e),n instanceof le&&(z(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){Y(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return W(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Y(this.form,this),this._oldForm&&W(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(w,10),r.Y36(b,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ve]),r.qOj,r.TTD]}),e})();const be={provide:V,useExisting:(0,r.Gpc)(()=>_e)};let _e=(()=>{class e extends V{constructor(e,t,n,s,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),X(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return B(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,13),r.Y36(w,10),r.Y36(b,10),r.Y36(f,10),r.Y36(ye,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([be]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Ee={provide:w,useExisting:(0,r.Gpc)(()=>Se),multi:!0};let Se=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?S(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([Ee])]}),e})(),Ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ge]]}),e})(),Te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ie]}),e})(),Ce=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ye,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ie]}),e})(),ke=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,s=null,i=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(s=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(s=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ue(n,{asyncValidators:i,updateOn:r,validators:s})}control(e,t,n){return new le(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new he(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof le||e instanceof ue||e instanceof he?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:Ce}),e})()},6476:(e,t,n)=>{"use strict";n.d(t,{gz:()=>it,y6:()=>En,OD:()=>Z,eC:()=>me,wm:()=>Ln,wN:()=>yn,F0:()=>xn,rH:()=>Nn,Bz:()=>Bn,Hx:()=>$e});var r=n(8583),s=n(3018),i=n(4869),o=n(9796),a=n(7393);class c extends a.L{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class l extends a.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var u=n(7444),h=n(7574);function d(e,t,n,r,s=new l(e,n,r)){if(!s.closed)return t instanceof h.y?t.subscribe(s):(0,u.s)(t)(s)}var f=n(6693);const p={};class m{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new g(e,this.resultSelector))}}class g extends c{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(d(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,s=this.toRespond?r[n]===p?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var y=n(4402),v=n(9193);function w(e){return new h.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,y.D)(n):(0,v.c)()).subscribe(t)})}var b=n(5917),_=n(6215),E=n(3410),S=n(8071),I=n(2441),T=n(9765),C=n(5345);function k(e){return function(t){const n=new A(e),r=t.lift(n);return n.caught=r}}class A{constructor(e){this.selector=e}call(e,t){return t.subscribe(new x(e,this.selector,this.caught))}}class x extends C.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new C.IY(this);this.add(r);const s=(0,C.ft)(n,r);s!==r&&this.add(s)}}}var N=n(5435),O=n(7108);function R(e){return function(t){return 0===e?(0,v.c)():t.lift(new D(e))}}class D{constructor(e){if(this.total=e,this.total<0)throw new O.W}call(e,t){return t.subscribe(new P(e,this.total))}}class P extends a.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(r[s])}}e.complete()}}var L=n(4635),$=n(5242),M=n(4487),F=n(5319);class V{constructor(e){this.callback=e}call(e,t){return t.subscribe(new U(e,this.callback))}}class U extends a.L{constructor(e,t){super(e),this.add(new F.w(t))}}var j=n(8002),q=n(3190),B=n(5257),z=n(9761),H=n(2145),G=n(4612),Y=n(8049),W=n(9773),K=n(3342),X=n(1307),Q=n(3282);class J{constructor(e,t){this.id=e,this.url=t}}class Z extends J{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends J{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class te extends J{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ne extends J{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class re extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends J{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oe extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ae extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ce{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class le{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ue{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class ge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ye(e){return new ge(e)}function ve(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function we(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let i=0;i<r.length;i++){const t=r[i],n=e[i];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function be(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],!_e(e[s],t[s]))return!1;return!0}function _e(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Ee(e){return Array.prototype.concat.apply([],e)}function Se(e){return e.length>0?e[e.length-1]:null}function Ie(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Te(e){return(0,s.CqO)(e)?e:(0,s.QGY)(e)?(0,y.D)(Promise.resolve(e)):(0,b.of)(e)}const Ce={exact:function e(t,n,r){if(!Le(t.segments,n.segments))return!1;if(!Oe(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!t.children[s])return!1;if(!e(t.children[s],n.children[s],r))return!1}return!0},subset:xe},ke={exact:function(e,t){return be(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_e(e[n],t[n]))},ignored:()=>!0};function Ae(e,t,n){return Ce[n.paths](e.root,t.root,n.matrixParams)&&ke[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function xe(e,t,n){return Ne(e,t,t.segments,n)}function Ne(e,t,n,r){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!!Le(s,n)&&!t.hasChildren()&&!!Oe(s,n,r)}if(e.segments.length===n.length){if(!Le(e.segments,n))return!1;if(!Oe(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!xe(e.children[n],t.children[n],r))return!1}return!0}{const s=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!Le(e.segments,s)&&!!Oe(e.segments,s,r)&&!!e.children[me]&&Ne(e.children[me],t,i,r)}}function Oe(e,t,n){return t.every((t,r)=>ke[n](e[r].parameters,t.parameters))}class Re{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return Fe.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ie(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ve(this)}}class Pe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function Le(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class $e{}class Me{parse(e){const t=new Qe(e);return new Re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Ue(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${qe(t)}=${qe(e)}`).join("&"):`${qe(t)}=${qe(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Fe=new Me;function Ve(e){return e.segments.map(e=>Ge(e)).join("/")}function Ue(e,t){if(!e.hasChildren())return Ve(e);if(t){const t=e.children[me]?Ue(e.children[me],!1):"",n=[];return Ie(e.children,(e,t)=>{t!==me&&n.push(`${t}:${Ue(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Ie(e.children,(e,r)=>{r===me&&(n=n.concat(t(e,r)))}),Ie(e.children,(e,r)=>{r!==me&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===me?[Ue(e.children[me],!1)]:[`${n}:${Ue(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[me]?`${Ve(e)}/${t[0]}`:`${Ve(e)}/(${t.join("//")})`}}function je(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qe(e){return je(e).replace(/%3B/gi,";")}function Be(e){return je(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(e){return decodeURIComponent(e)}function He(e){return ze(e.replace(/\+/g,"%20"))}function Ge(e){return`${Be(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Be(e)}=${Be(t[e])}`).join("")}`;var t}const Ye=/^[^\/()?;=#]+/;function We(e){const t=e.match(Ye);return t?t[0]:""}const Ke=/^[^=?&#]+/,Xe=/^[^?&#]+/;class Qe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[me]=new De(e,t)),n}parseSegment(){const e=We(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pe(ze(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=We(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=We(this.remaining);e&&(n=e,this.capture(n))}e[ze(t)]=ze(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ke);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Xe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=He(t),s=He(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=We(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const i=this.parseChildren();t[s]=1===Object.keys(i).length?i[me]:new De([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Je{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ze(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ze(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=et(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return et(e,this._root).map(e=>e.value)}}function Ze(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ze(e,n);if(t)return t}return null}function et(e,t){if(e===t.value)return[t];for(const n of t.children){const r=et(e,n);if(r.length)return r.unshift(t),r}return[]}class tt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nt(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class rt extends Je{constructor(e,t){super(e),this.snapshot=t,lt(this,e)}toString(){return this.snapshot.toString()}}function st(e,t){const n=function(e,t){const n=new at([],{},{},"",{},me,t,null,e.root,-1,{});return new ct("",new tt(n,[]))}(e,t),r=new _.X([new Pe("",{})]),s=new _.X({}),i=new _.X({}),o=new _.X({}),a=new _.X(""),c=new it(r,s,o,a,i,me,t,n.root);return c.snapshot=n.root,new rt(new tt(c,[]),n)}class it{constructor(e,t,n,r,s,i,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,j.U)(e=>ye(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,j.U)(e=>ye(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ot(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class at{constructor(e,t,n,r,s,i,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ct extends Je{constructor(e,t){super(t),this.url=e,lt(this,t)}toString(){return ut(this._root)}}function lt(e,t){t.value._routerState=e,t.children.forEach(t=>lt(e,t))}function ut(e){const t=e.children.length>0?` { ${e.children.map(ut).join(", ")} } `:"";return`${e.value}${t}`}function ht(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,be(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),be(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!be(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),be(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dt(e,t){var n,r;return be(e.params,t.params)&&Le(n=e.url,r=t.url)&&n.every((e,t)=>be(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||dt(e.parent,t.parent))}function ft(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const s=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ft(e,t,r);return ft(e,t)})}(e,t,n);return new tt(r,s)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return pt(t,e),e}}const n=new it(new _.X((r=t.value).url),new _.X(r.params),new _.X(r.queryParams),new _.X(r.fragment),new _.X(r.data),r.outlet,r.component,r),s=t.children.map(t=>ft(e,t));return new tt(n,s)}var r}function pt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)pt(e.children[n],t.children[n])}function mt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gt(e){return"object"==typeof e&&null!=e&&e.outlets}function yt(e,t,n,r,s){let i={};return r&&Ie(r,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Re(n.root===e?t:vt(n.root,e,t),i,s)}function vt(e,t,n){const r={};return Ie(e.children,(e,s)=>{r[s]=e===t?n:vt(e,t,n)}),new De(e.segments,r)}class wt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&mt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(gt);if(r&&r!==Se(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function _t(e,t,n){if(e||(e=new De([],{})),0===e.segments.length&&e.hasChildren())return Et(e,t,n);const r=function(e,t,n){let r=0,s=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return i;const t=e.segments[s],o=n[r];if(gt(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(s>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ct(a,c,t))return i;r+=2}else{if(!Ct(a,{},t))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new De(e.segments.slice(0,r.pathIndex),{});return t.children[me]=new De(e.segments.slice(r.pathIndex),e.children),Et(t,0,s)}return r.match&&0===s.length?new De(e.segments,{}):r.match&&!e.hasChildren()?St(e,t,n):r.match?Et(e,0,s):St(e,t,n)}function Et(e,t,n){if(0===n.length)return new De(e.segments,{});{const r=function(e){return gt(e[0])?e[0].outlets:{[me]:e}}(n),s={};return Ie(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[r]=_t(e.children[r],t,n))}),Ie(e.children,(e,t)=>{void 0===r[t]&&(s[t]=e)}),new De(e.segments,s)}}function St(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){const i=n[s];if(gt(i)){const e=It(i.outlets);return new De(r,e)}if(0===s&&mt(n[0])){r.push(new Pe(e.segments[t].path,Tt(n[0]))),s++;continue}const o=gt(i)?i.outlets[me]:`${i}`,a=s<n.length-1?n[s+1]:null;o&&a&&mt(a)?(r.push(new Pe(o,Tt(a))),s+=2):(r.push(new Pe(o,{})),s++)}return new De(r,{})}function It(e){const t={};return Ie(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=St(new De([],{}),0,e))}),t}function Tt(e){const t={};return Ie(e,(e,n)=>t[n]=`${e}`),t}function Ct(e,t,n){return e==n.path&&be(t,n.parameters)}class kt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ht(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Ie(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=nt(e);for(const i of Object.keys(s))this.deactivateRouteAndItsChildren(s[i],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new fe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new he(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(ht(r),r===s)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),At(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=s,t.outlet&&t.outlet.activateWith(r,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function At(e){ht(e.value),e.children.forEach(At)}class xt{constructor(e,t){this.routes=e,this.module=t}}function Nt(e){return"function"==typeof e}function Ot(e){return e instanceof Re}const Rt=Symbol("INITIAL_VALUE");function Dt(){return(0,q.w)(e=>function(...e){let t,n;return(0,i.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,f.n)(e,n).lift(new m(t))}(e.map(e=>e.pipe((0,B.q)(1),(0,z.O)(Rt)))).pipe((0,H.R)((e,t)=>{let n=!1;return t.reduce((e,r,s)=>{if(e!==Rt)return e;if(r===Rt&&(n=!0),!n){if(!1===r)return r;if(s===t.length-1||Ot(r))return r}return e},e)},Rt),(0,N.h)(e=>e!==Rt),(0,j.U)(e=>Ot(e)?e:!0===e),(0,B.q)(1)))}let Pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[Rn]},encapsulation:2}),e})();function Lt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];$t(r,Mt(t,r))}}function $t(e,t){e.children&&Lt(e.children,t)}function Mt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Ft(e){const t=e.children&&e.children.map(Ft),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=Pt),n}function Vt(e){return e.outlet||me}function Ut(e,t){const n=e.filter(e=>Vt(e)===t);return n.push(...e.filter(e=>Vt(e)!==t)),n}const jt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},jt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||we)(n,e,t);if(!s)return Object.assign({},jt);const i={};Ie(s.posParams,(e,t)=>{i[t]=e.path});const o=s.consumed.length>0?Object.assign(Object.assign({},i),s.consumed[s.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:o,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Bt(e,t,n,r,s="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>zt(e,t,n)&&Vt(n)!==me)}(e,n,r)){const s=new De(t,function(e,t,n,r){const s={};s[me]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&Vt(i)!==me){const n=new De([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[Vt(i)]=n}return s}(e,t,r,new De(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>zt(e,t,n))}(e,n,r)){const i=new De(e.segments,function(e,t,n,r,s,i){const o={};for(const a of r)if(zt(e,n,a)&&!s[Vt(a)]){const n=new De([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,o[Vt(a)]=n}return Object.assign(Object.assign({},s),o)}(e,t,n,r,e.children,s));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new De(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function zt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ht(e,t,n,r){return!!(Vt(e)===r||r!==me&&zt(t,n,e))&&("**"===e.path||qt(t,e,n).matched)}function Gt(e,t,n){return 0===t.length&&!e.children[n]}class Yt{constructor(e){this.segmentGroup=e||null}}class Wt{constructor(e){this.urlTree=e}}function Kt(e){return new h.y(t=>t.error(new Yt(e)))}function Xt(e){return new h.y(t=>t.error(new Wt(e)))}function Qt(e){return new h.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Jt{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}apply(){const e=Bt(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,me).pipe((0,j.U)(e=>this.createUrlTree(Zt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(k(e=>{if(e instanceof Wt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Yt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,me).pipe((0,j.U)(t=>this.createUrlTree(Zt(t),e.queryParams,e.fragment))).pipe(k(e=>{if(e instanceof Yt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new De([],{[me]:e}):e;return new Re(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,j.U)(e=>new De([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return(0,y.D)(r).pipe((0,G.b)(r=>{const s=n.children[r],i=Ut(t,r);return this.expandSegmentGroup(e,i,s,r).pipe((0,j.U)(e=>({segment:e,outlet:r})))}),(0,H.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,N.h)((t,n)=>e(t,n,r)):M.y,R(1),n?(0,$.d)(t):(0,L.T)(()=>new E.K))}())}expandSegment(e,t,n,r,s,i){return(0,y.D)(n).pipe((0,G.b)(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,s,i).pipe(k(e=>{if(e instanceof Yt)return(0,b.of)(null);throw e}))),(0,Y.P)(e=>!!e),k((e,n)=>{if(e instanceof E.K||"EmptyError"===e.name){if(Gt(t,r,s))return(0,b.of)(new De([],{}));throw new Yt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,s,i,o){return Ht(r,t,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i):Kt(t):Kt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xt(s):this.lineralizeSegments(n,s).pipe((0,W.zg)(n=>{const s=new De(n,{});return this.expandSegment(e,s,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=qt(t,r,s);if(!o)return Kt(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Xt(u):this.lineralizeSegments(r,u).pipe((0,W.zg)(r=>this.expandSegment(e,t,n,r.concat(s.slice(c)),i,!1)))}matchSegmentAgainstRoute(e,t,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,b.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,j.U)(e=>(n._loadedConfig=e,new De(r,{})))):(0,b.of)(new De(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=qt(t,n,r);if(!i)return Kt(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,W.zg)(e=>{const r=e.module,i=e.routes,{segmentGroup:a,slicedSegments:l}=Bt(t,o,c,i),u=new De(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,i,u).pipe((0,j.U)(e=>new De(o,e)));if(0===i.length&&0===l.length)return(0,b.of)(new De(o,{}));const h=Vt(n)===s;return this.expandSegment(r,u,i,l,h?me:s,!0).pipe((0,j.U)(e=>new De(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,b.of)(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,b.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,W.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,j.U)(e=>(t._loadedConfig=e,e))):function(e){return new h.y(t=>t.error(ve(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,b.of)(new xt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,b.of)(!0);const s=r.map(r=>{const s=e.get(r);let i;if(function(e){return e&&Nt(e.canLoad)}(s))i=s.canLoad(t,n);else{if(!Nt(s))throw new Error("Invalid CanLoad guard");i=s(t,n)}return Te(i)});return(0,b.of)(s).pipe(Dt(),(0,K.b)(e=>{if(!Ot(e))return;const t=ve(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,j.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,b.of)(n);if(r.numberOfChildren>1||!r.children[me])return Qt(e.redirectTo);r=r.children[me]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new Re(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Ie(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[r]=t[s]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let i={};return Ie(t.children,(t,s)=>{i[s]=this.createSegmentGroup(e,t,n,r)}),new De(s,i)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Zt(e){const t={};for(const n of Object.keys(e.children)){const r=Zt(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[me]){const t=e.children[me];return new De(e.segments.concat(t.segments),t.children)}return e}(new De(e.segments,t))}class en{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tn{constructor(e,t){this.component=e,this.route=t}}function nn(e,t,n){const r=e._root;return sn(r,t?t._root:null,n,[r.value])}function rn(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function sn(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=nt(t);return e.children.forEach(e=>{!function(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Le(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Le(e.url,t.url)||!be(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(e,t)||!be(e.queryParams,t.queryParams);case"paramsChange":default:return!dt(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new en(r)):(i.data=o.data,i._resolvedData=o._resolvedData),sn(e,t,i.component?a?a.children:null:n,r,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new tn(a.outlet.component,o))}else o&&on(t,a,s),s.canActivateChecks.push(new en(r)),sn(e,null,i.component?a?a.children:null:n,r,s)}(e,i[e.value.outlet],n,r.concat([e.value]),s),delete i[e.value.outlet]}),Ie(i,(e,t)=>on(e,n.getContext(t),s)),s}function on(e,t,n){const r=nt(e),s=e.value;Ie(r,(e,r)=>{on(e,s.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new tn(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class an{}function cn(e){return new h.y(t=>t.error(e))}class ln{constructor(e,t,n,r,s,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=i}recognize(){const e=Bt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const n=new at([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tt(n,t),s=new ct(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=ot(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const r=t.children[s],i=Ut(e,s),o=this.processSegmentGroup(i,r,s);if(null===o)return null;n.push(...o)}const r=hn(n);return r.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const s of e){const e=this.processSegmentAgainstRoute(s,t,n,r);if(null!==e)return e}return Gt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Ht(e,t,n,r))return null;let s,i=[],o=[];if("**"===e.path){const r=n.length>0?Se(n).parameters:{};s=new at(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Vt(e),e.component,e,dn(t),fn(t)+n.length,mn(e))}else{const r=qt(t,e,n);if(!r.matched)return null;i=r.consumedSegments,o=n.slice(r.lastChild),s=new at(i,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Vt(e),e.component,e,dn(t),fn(t)+i.length,mn(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Bt(t,i,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new tt(s,e)]}if(0===a.length&&0===l.length)return[new tt(s,[])];const u=Vt(e)===r,h=this.processSegment(a,c,l,u?me:r);return null===h?null:[new tt(s,h)]}}function un(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hn(e){const t=[],n=new Set;for(const r of e){if(!un(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=hn(r.children);t.push(new tt(r.value,e))}return t.filter(e=>!n.has(e))}function dn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function fn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function pn(e){return e.data||{}}function mn(e){return e.resolve||{}}function gn(e){return(0,q.w)(t=>{const n=e(t);return n?(0,y.D)(n).pipe((0,j.U)(()=>t)):(0,b.of)(t)})}class yn{}class vn extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wn=new s.OlP("ROUTES");class bn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,j.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new xt(Ee(r.injector.get(wn,void 0,s.XFs.Self|s.XFs.Optional)).map(Ft),r)}),k(e=>{throw t._loader$=void 0,e}));return t._loader$=new I.c(n,()=>new T.xQ).pipe((0,X.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,y.D)(this.loader.load(e)):Te(e()).pipe((0,W.zg)(e=>e instanceof s.YKP?(0,b.of)(e):(0,y.D)(this.compiler.compileModuleAsync(e))))}}class _n{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new En,this.attachRef=null}}class En{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _n,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Sn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function In(e){throw e}function Tn(e,t,n){return t.parse("/")}function Cn(e,t){return(0,b.of)(null)}const kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},An={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xn=(()=>{class e{constructor(e,t,n,r,i,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new T.xQ,this.errorHandler=In,this.malformedUriErrorHandler=Tn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cn,afterPreactivation:Cn},this.urlHandlingStrategy=new Sn,this.routeReuseStrategy=new vn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(s.h0i),this.console=i.get(s.c2e);const l=i.get(s.R0b);this.isNgZoneEnabled=l instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Re(new De([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bn(o,a,e=>this.triggerEvent(new ce(e)),e=>this.triggerEvent(new le(e))),this.routerState=st(this.currentUrlTree,this.rootComponentType),this.transitions=new _.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,N.h)(e=>0!==e.id),(0,j.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,q.w)(e=>{let n=!1,r=!1;return(0,b.of)(e).pipe((0,K.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,q.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,b.of)(e).pipe((0,q.w)(e=>{const n=this.transitions.getValue();return t.next(new Z(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?v.E:Promise.resolve(e)}),(r=this.ngModule.injector,s=this.configLoader,i=this.urlSerializer,o=this.config,(0,q.w)(e=>function(e,t,n,r,s){return new Jt(e,t,n,r,s).apply()}(r,s,i,e.extractedUrl,o).pipe((0,j.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,K.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,s){return(0,W.zg)(i=>function(e,t,n,r,s="emptyOnly",i="legacy"){try{const o=new ln(e,t,n,r,s,i).recognize();return null===o?cn(new an):(0,b.of)(o)}catch(o){return cn(o)}}(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),r,s).pipe((0,j.U)(e=>Object.assign(Object.assign({},i),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,K.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new re(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,s,i,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:s,restoredState:i,extras:o}=e,a=new Z(n,this.serializeUrl(r),s,i);t.next(a);const c=st(r,this.rootComponentType).snapshot;return(0,b.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),v.E}),gn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),(0,K.b)(e=>{const t=new se(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,j.U)(e=>Object.assign(Object.assign({},e),{guards:nn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,W.zg)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?(0,b.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,y.D)(e).pipe((0,W.zg)(e=>function(e,t,n,r,s){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||0===i.length)return(0,b.of)(!0);const o=i.map(i=>{const o=rn(i,t,s);let a;if(function(e){return e&&Nt(e.canDeactivate)}(o))a=Te(o.canDeactivate(e,t,n,r));else{if(!Nt(o))throw new Error("Invalid CanDeactivate guard");a=Te(o(e,t,n,r))}return a.pipe((0,Y.P)())});return(0,b.of)(o).pipe(Dt())}(e.component,e.route,n,t,r)),(0,Y.P)(e=>!0!==e,!0))}(o,r,s,e).pipe((0,W.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,y.D)(t).pipe((0,G.b)(t=>(0,S.z)(function(e,t){return null!==e&&t&&t(new ue(e)),(0,b.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new de(e)),(0,b.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>w(()=>{const s=t.guards.map(s=>{const i=rn(s,t.node,n);let o;if(function(e){return e&&Nt(e.canActivateChild)}(i))o=Te(i.canActivateChild(r,e));else{if(!Nt(i))throw new Error("Invalid CanActivateChild guard");o=Te(i(r,e))}return o.pipe((0,Y.P)())});return(0,b.of)(s).pipe(Dt())}));return(0,b.of)(s).pipe(Dt())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,b.of)(!0);const s=r.map(r=>w(()=>{const s=rn(r,t,n);let i;if(function(e){return e&&Nt(e.canActivate)}(s))i=Te(s.canActivate(t,e));else{if(!Nt(s))throw new Error("Invalid CanActivate guard");i=Te(s(t,e))}return i.pipe((0,Y.P)())}));return(0,b.of)(s).pipe(Dt())}(e,t.route,n))),(0,Y.P)(e=>!0!==e,!0))}(r,i,e,t):(0,b.of)(n)),(0,j.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,K.b)(e=>{if(Ot(e.guardsResult)){const t=ve(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new ie(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,N.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),gn(e=>{if(e.guards.canActivateChecks.length)return(0,b.of)(e).pipe((0,K.b)(e=>{const t=new oe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,q.w)(e=>{let t=!1;return(0,b.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,W.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,b.of)(e);let i=0;return(0,y.D)(s).pipe((0,G.b)(e=>function(e,t,n,r){return function(e,t,n,r){const s=Object.keys(e);if(0===s.length)return(0,b.of)({});const i={};return(0,y.D)(s).pipe((0,W.zg)(s=>function(e,t,n,r){const s=rn(e,t,r);return Te(s.resolve?s.resolve(t,n):s(t,n))}(e[s],t,n,r).pipe((0,K.b)(e=>{i[s]=e}))),R(1),(0,W.zg)(()=>Object.keys(i).length===s.length?(0,b.of)(i):v.E))}(e._resolve,e,t,r).pipe((0,j.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ot(e,n).resolve),null)))}(e.route,t,n,r)),(0,K.b)(()=>i++),R(1),(0,W.zg)(t=>i===s.length?(0,b.of)(e):v.E))})),(0,K.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,K.b)(e=>{const t=new ae(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),gn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),(0,j.U)(e=>{const t=function(e,t,n){const r=ft(e,t._root,n?n._root:void 0);return new rt(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,K.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,j.U)(e=>(new kt(o,e.targetRouterState,e.currentRouterState,a).activate(i),e))),(0,K.b)({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null},e=>e.lift(new V(s))),k(n=>{if(r=!0,(s=n)&&s.ngNavigationCancelingError){const r=Ot(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const s=new te(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new ne(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}var s;return v.E}));var s,i,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,s={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(s.state=e)}this.scheduleNavigation(r,e,n,s)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Lt(e),this.config=e.map(Ft),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,queryParamsHandling:i,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:s;let l=null;switch(i){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,s){if(0===n.length)return yt(t.root,t.root,t,r,s);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Ie(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===s?(r.split("/").forEach((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new wt(n,t,r)}(n);if(i.toRoot())return yt(t.root,new De([],{}),t,r,s);const o=function(e,t,n){if(e.isAbsolute)return new bt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new bt(e,e===t.root,0)}const r=mt(e.commands[0])?0:1;return function(e,t,n){let r=e,s=t,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new bt(r,!1,s-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(i,t,e),a=o.processChildren?Et(o.segmentGroup,o.index,i.commands):_t(o.segmentGroup,o.index,i.commands);return yt(o.segmentGroup,a,t,r,s)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Ot(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},kn):!1===t?Object.assign({},An):t,Ot(e))return Ae(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Ae(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,s){var i,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==t&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;s?(u=s.resolve,h=s.reject,d=s.promise):d=new Promise((e,t)=>{u=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(i=this.browserPageId)&&void 0!==i?i:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new te(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.DyG),s.LFG($e),s.LFG(En),s.LFG(r.Ye),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),Nn=(()=>{class e{constructor(e,t,n,r,s){this.router=e,this.route=t,this.commands=[],this.onChanges=new T.xQ,null==n&&r.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:On(this.skipLocationChange),replaceUrl:On(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:On(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(xn),s.Y36(it),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})();function On(e){return""===e||!!e}let Rn=(()=>{class e{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=r||me,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,s=new Dn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(En),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Dn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===it?this.route:e===En?this.childContexts:this.parent.get(e,t)}}class Pn{}class Ln{preload(e,t){return t().pipe(k(()=>(0,b.of)(null)))}}class $n{preload(e,t){return(0,b.of)(null)}}let Mn=(()=>{class e{constructor(e,t,n,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new bn(t,n,t=>e.triggerEvent(new ce(t)),t=>e.triggerEvent(new le(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.h)(e=>e instanceof ee),(0,G.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,y.D)(n).pipe((0,Q.J)(),(0,j.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,b.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,W.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(xn),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(Pn))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),Fn=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ee&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pe&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new pe(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(xn),s.LFG(r.EM),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const Vn=new s.OlP("ROUTER_CONFIGURATION"),Un=new s.OlP("ROUTER_FORROOT_GUARD"),jn=[r.Ye,{provide:$e,useClass:Me},{provide:xn,useFactory:function(e,t,n,r,s,i,o,a={},c,l){const u=new xn(null,e,t,n,r,s,i,Ee(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[$e,En,r.Ye,s.zs3,s.v3s,s.Sil,wn,Vn,[class{},new s.FiY],[yn,new s.FiY]]},En,{provide:it,useFactory:function(e){return e.routerState.root},deps:[xn]},{provide:s.v3s,useClass:s.EAV},Mn,$n,Ln,{provide:Vn,useValue:{enableTracing:!1}}];function qn(){return new s.PXZ("Router",xn)}let Bn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[jn,Yn(t),{provide:Un,useFactory:Gn,deps:[[xn,new s.FiY,new s.tp0]]},{provide:Vn,useValue:n||{}},{provide:r.S$,useFactory:Hn,deps:[r.lw,[new s.tBr(r.mr),new s.FiY],Vn]},{provide:Fn,useFactory:zn,deps:[xn,r.EM,Vn]},{provide:Pn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:$n},{provide:s.PXZ,multi:!0,useFactory:qn},[Wn,{provide:s.ip1,multi:!0,useFactory:Kn,deps:[Wn]},{provide:Qn,useFactory:Xn,deps:[Wn]},{provide:s.tb,multi:!0,useExisting:Qn}]]}}static forChild(t){return{ngModule:e,providers:[Yn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(Un,8),s.LFG(xn,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})();function zn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Fn(e,t,n)}function Hn(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Gn(e){return"guarded"}function Yn(e){return[{provide:s.deG,multi:!0,useValue:e},{provide:wn,multi:!0,useValue:e}]}let Wn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new T.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(xn),r=this.injector.get(Vn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,b.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Vn),n=this.injector.get(Mn),r=this.injector.get(Fn),i=this.injector.get(xn),o=this.injector.get(s.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function Kn(e){return e.appInitializer.bind(e)}function Xn(e){return e.bootstrapListener.bind(e)}const Qn=new s.OlP("Router Initializer")},4486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(4685),s=n(6034),i=n(5452),o=n(300);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,i._addComponent)(e,new s.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(e,t=i._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,i._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,i._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(s,o={}){const a=i.initializeApp(s,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:s,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(i._registerComponent(t)&&"PUBLIC"===t.type){const i=(e=s())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(i,t.serviceProps),n[a]=i,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:i}};function s(e){if(!(0,r.r3)(t,e=e||i._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),s.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=l;(0,i.registerVersion)("@firebase/app-compat","0.1.1",void 0);const d=h},5452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>i.ZR,SDK_VERSION:()=>_,_DEFAULT_ENTRY_NAME:()=>l,_addComponent:()=>f,_addOrOverwriteComponent:()=>p,_apps:()=>h,_clearComponents:()=>v,_components:()=>d,_getProvider:()=>g,_registerComponent:()=>m,_removeServiceInstance:()=>y,deleteApp:()=>T,getApp:()=>S,getApps:()=>I,initializeApp:()=>E,onLog:()=>k,registerVersion:()=>C,setLogLevel:()=>A});var r=n(6034),s=n(300),i=n(4685);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const a="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",u={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},h=new Map,d=new Map;function f(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function p(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(d.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;d.set(t,e);for(const n of h.values())f(n,e);return!0}function g(e,t){return e.container.getProvider(t)}function y(e,t,n=l){g(e,t).clearInstance(n)}function v(){d.clear()}const w=new i.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const _="9.0.0";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),s=n.name;if("string"!=typeof s||!s)throw w.create("bad-app-name",{appName:String(s)});const o=h.get(s);if(o){if((0,i.vZ)(e,o.options)&&(0,i.vZ)(n,o.config))return o;throw w.create("duplicate-app",{appName:s})}const a=new r.H0(s);for(const r of d.values())a.addComponent(r);const c=new b(e,n,a);return h.set(s,c),c}function S(e=l){const t=h.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function I(){return Array.from(h.values())}async function T(e){const t=e.name;h.has(t)&&(h.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function C(e,t,n){var s;let i=null!==(s=u[e])&&void 0!==s?s:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new r.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function k(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function A(e){(0,s.Ub)(e)}m(new r.wA("platform-logger",e=>new o(e),"PRIVATE")),C(a,"0.7.0",void 0),C("fire-js","")},6034:(e,t,n)=>{"use strict";n.d(t,{wA:()=>i,H0:()=>c});var r=n(4762),s=n(4685),i=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var s=(0,r.XA)(this.instancesDeferred.entries()),i=s.next();!i.done;i=s.next()){var a=(0,r.CR)(i.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){t={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var s=e.options,i=void 0===s?{}:s,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var c=(0,r.XA)(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var u=(0,r.CR)(l.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);var i=this.instances.get(r);return i&&e(i,r),function(){s.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,s,i=this.onInitCallbacks.get(t);if(i)try{for(var o=(0,r.XA)(i),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(l){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,s=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:s}),this.instances.set(n,i),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(a){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},300:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}var s;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>f});var i=[],o=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={})),o))(),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((s={})[o.DEBUG]="log",s[o.VERBOSE]="log",s[o.INFO]="info",s[o.WARN]="warn",s[o.ERROR]="error",s),u=function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=l[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+i+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){i.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var s=[],i=2;i<arguments.length;i++)s[i-2]=arguments[i];var a=s.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:s,type:t.name})}},r=0,s=i;r<s.length;r++)n(s[r])}},4685:(e,t,n)=>{"use strict";n.d(t,{BH:()=>l,LL:()=>S,ZR:()=>E,tV:()=>a,r3:()=>C,Sg:()=>u,ne:()=>D,vZ:()=>A,ZB:()=>c,pd:()=>R,m9:()=>$,z$:()=>h,jU:()=>p,ru:()=>m,d:()=>y,xb:()=>k,w1:()=>v,hl:()=>_,uI:()=>d,UG:()=>f,b$:()=>g,G6:()=>b,Mn:()=>w,xO:()=>N,zd:()=>O});var r=n(4762),s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],s=0;s<e.length;s+=3){var i=e[s],o=s+1<e.length,a=o?e[s+1]:0,c=s+2<e.length,l=c?e[s+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(u=64)),r.push(n[i>>2],n[(3&i)<<4|a>>4],n[u],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){var i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){var o=((7&s)<<18|(63&(i=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{i=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],s=0;s<e.length;){var i=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0,a=++s<e.length?n[e.charAt(s)]:64,c=++s<e.length?n[e.charAt(s)]:64;if(++s,null==i||null==o||null==a||null==c)throw Error();r.push(i<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){var t=s(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=c(e[n],t[n]));return e}var l=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function m(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return h().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"indexedDB"in self&&null!=indexedDB}var E=function(e){function t(n,r,s){var i=e.call(this,r)||this;return i.code=n,i.customData=s,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,S.prototype.create),i}return(0,r.ZT)(t,e),t}(Error),S=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},s=this.service+"/"+e,i=this.errors[e],o=i?I(i,r):"Error",a=this.serviceName+": "+o+" ("+s+").",c=new E(s,a,r);return c},e}();function I(e,t){return e.replace(T,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),s=0,i=n;s<i.length;s++){if(!r.includes(u=i[s]))return!1;var o=e[u],a=t[u];if(x(o)&&x(a)){if(!A(o,a))return!1}else if(o!==a)return!1}for(var c=0,l=r;c<l.length;c++){var u;if(!n.includes(u=l[c]))return!1}return!0}function x(e){return null!==e&&"object"==typeof e}function N(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,s=Object.entries(e);r<s.length;r++){var i=s[r];n(i[0],i[1])}return t.length?"&"+t.join("&"):""}function O(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function R(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){var n=new P(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var s,i,o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(s=l^a&(c^l),i=1518500249):(s=a^c^l,i=1859775393):r<60?(s=a&c|l&(a|c),i=2400959708):(s=a^c^l,i=3395469782);var h=(o<<5|o>>>27)+s+u+i+n[r]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,s=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<t;)if(s[i]=e[r],++r,++i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var s=24;s>=0;s-=8)e[r]=this.chain_[n]>>s&255,++r;return e}}();var P=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,s=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var s=r[n];if(s in e&&"function"==typeof e[s])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{s.finalError?r.error(s.finalError):r.complete()}catch(e){}}),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function L(){}function $(e){return e&&e._delegate?e._delegate:e}},8945:(e,t,n)=>{"use strict";function r(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function s(e,t){return function(n,r){t(n,r,e)}}function i(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}n.d(t,{w:()=>q,dr:()=>ce,oU:()=>le,cs:()=>rt,YG:()=>ue,Sm:()=>he,PM:()=>de,FN:()=>fe,Zi:()=>pe,gZ:()=>me,nz:()=>ge,hM:()=>ye,wI:()=>ve,W2:()=>we,jY:()=>be,Gu:()=>_e,gu:()=>Ee,pK:()=>Se,Ie:()=>Ie,Q$:()=>Te,q_:()=>Ce,yh:()=>ke,jP:()=>et,Nd:()=>Ae,VI:()=>xe,yq:()=>Ne,ZU:()=>Oe,UN:()=>nt,wd:()=>Re,sr:()=>De,Pc:()=>bt,r4:()=>yt,as:()=>z,j9:()=>X});var o=n(3018),a=n(665),c=n(8583),l=n(6476),u=n(4086),h=(n(9554),n(7405),n(7807)),d=n(9461),f=n(7585),p=n(2377),m=n(4001),g=n(5554),y=n(7053),v=(n(960),n(3150)),w=n(7574),b=n(9796),_=n(9105),E=n(8002);function S(e,t,n,r){return(0,_.m)(n)&&(r=n,n=void 0),r?S(e,t,n).pipe((0,E.U)(e=>(0,b.k)(e)?r(...e):r(e))):new w.y(r=>{I(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function I(e,t,n,r,s){let i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,s),i=()=>r.removeEventListener(t,n,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),i=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),i=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let i=0,o=e.length;i<o;i++)I(e[i],t,n,r,s)}r.add(i)}var T=n(9765),C=n(6215),k=n(5435),A=n(3190),x=n(7519);const N=f.i,O=["*"],R=["outlet"],D=[[["","slot","top"]],"*"],P=["[slot=top]","*"],L=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let $=(()=>{class e{constructor(e,t){this.injector=e,this.el=t,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,M(this.el)}handleChangeEvent(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),M(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),M(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(a.a5)}catch(n){}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>M(this.el)));const t=e.control;t&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(e=>{if(t[e]){const n=t[e].bind(t);t[e]=(...e)=>{n(...e),M(this.el)}}})}}return e.\u0275fac=function(e){o.$Z()},e.\u0275dir=o.lG2({type:e,hostBindings:function(e,t){1&e&&o.NdJ("ionBlur",function(e){return t._handleBlurEvent(e.target)})}}),r([(0,o.L6J)("ionBlur",["$event.target"])],e.prototype,"_handleBlurEvent",null),e})();const M=e=>{L(()=>{const t=e.nativeElement,n=F(t);V(t,n);const r=t.closest("ion-item");r&&V(r,n)})},F=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const e=t.item(r);null!==e&&U(e,"ng-")&&n.push(`ion-${e.substr(3)}`)}return n},V=(e,t)=>{const n=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(e=>n.remove(e)),t.forEach(e=>n.add(e))},U=(e,t)=>e.substr(0,t.length)===t;var j;let q=j=class extends ${constructor(e,t){super(e,t)}writeValue(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,M(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}};var B;q.\u0275fac=function(e){return new(e||q)(o.Y36(o.zs3),o.Y36(o.SBq))},q.\u0275dir=o.lG2({type:q,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:j,multi:!0}]),o.qOj]}),q.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],q.prototype,"_handleIonChange",null);let z=B=class extends ${constructor(e,t){super(e,t)}_handleIonChange(e){this.handleChangeEvent(e,e.value)}registerOnChange(e){super.registerOnChange(t=>{e(""===t?null:parseFloat(t))})}};var H;z.\u0275fac=function(e){return new(e||z)(o.Y36(o.zs3),o.Y36(o.SBq))},z.\u0275dir=o.lG2({type:z,selectors:[["ion-input","type","number"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:B,multi:!0}]),o.qOj]}),z.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],z.prototype,"_handleIonChange",null);let G=H=class extends ${constructor(e,t){super(e,t)}_handleIonSelect(e){this.handleChangeEvent(e,e.checked)}};var Y;G.\u0275fac=function(e){return new(e||G)(o.Y36(o.zs3),o.Y36(o.SBq))},G.\u0275dir=o.lG2({type:G,selectors:[["ion-radio"]],hostBindings:function(e,t){1&e&&o.NdJ("ionSelect",function(e){return t._handleIonSelect(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:H,multi:!0}]),o.qOj]}),G.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionSelect",["$event.target"])],G.prototype,"_handleIonSelect",null);let W=Y=class extends ${constructor(e,t){super(e,t)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}};var K;W.\u0275fac=function(e){return new(e||W)(o.Y36(o.zs3),o.Y36(o.SBq))},W.\u0275dir=o.lG2({type:W,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleChangeEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:Y,multi:!0}]),o.qOj]}),W.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],W.prototype,"_handleChangeEvent",null);let X=K=class extends ${constructor(e,t){super(e,t)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}};X.\u0275fac=function(e){return new(e||X)(o.Y36(o.zs3),o.Y36(o.SBq))},X.\u0275dir=o.lG2({type:X,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleInputEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:K,multi:!0}]),o.qOj]}),X.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],X.prototype,"_handleInputEvent",null);let Q=class{constructor(e,t){this.doc=e,this.backButton=new T.xQ,this.keyboardDidShow=new T.xQ,this.keyboardDidHide=new T.xQ,this.pause=new T.xQ,this.resume=new T.xQ,this.resize=new T.xQ,t.run(()=>{let n;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(e,n){return this.subscribe(r=>r.register(e,e=>t.run(()=>n(e))))},Z(this.pause,e,"pause"),Z(this.resume,e,"resume"),Z(this.backButton,e,"ionBackButton"),Z(this.resize,this.win,"resize"),Z(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Z(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(e=>{n=e}),this.win&&this.win.cordova?e.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(e){return(0,f.a)(this.win,e)}platforms(){return(0,f.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return J(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(e){const t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};Q.\u0275fac=function(e){return new(e||Q)(o.LFG(c.K0),o.LFG(o.R0b))},Q.\u0275prov=o.Yz7({token:Q,factory:function(e){return Q.\u0275fac(e)},providedIn:"root"}),Q.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Q((0,o.LFG)(c.K0),(0,o.LFG)(o.R0b))},token:Q,providedIn:"root"}),Q=r([s(0,(0,o.tBr)(c.K0))],Q);const J=(e,t)=>{t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Z=(e,t,n)=>{t&&t.addEventListener(n,t=>{e.next(null!=t?t.detail:void 0)})};let ee=class{constructor(e,t,n,r){this.location=t,this.serializer=n,this.router=r,this.direction=ne,this.animated=re,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(e=>{if(e instanceof l.OD){const t=e.restoredState?e.restoredState.navigationId:e.id;this.guessDirection=t<this.lastNavId?"back":"forward",this.guessAnimation=e.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?e.id:t}}),e.backButton.subscribeWithPriority(0,e=>{this.pop(),e()})}navigateForward(e,t={}){return this.setDirection("forward",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateBack(e,t={}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateRoot(e,t={}){return this.setDirection("root",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return i(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,t,n,r){this.direction=e,this.animated=te(e,t,n),this.animationBuilder=r}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let e,t="root";const n=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=ne,this.animated=re,this.animationBuilder=void 0,{direction:t,animation:e,animationBuilder:n}}navigate(e,t){if(Array.isArray(e))return this.router.navigate(e,t);{const n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object.assign({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)}}};ee.\u0275fac=function(e){return new(e||ee)(o.LFG(Q),o.LFG(c.Ye),o.LFG(l.Hx),o.LFG(l.F0,8))},ee.\u0275prov=o.Yz7({token:ee,factory:function(e){return ee.\u0275fac(e)},providedIn:"root"}),ee.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ee((0,o.LFG)(Q),(0,o.LFG)(c.Ye),(0,o.LFG)(l.Hx),(0,o.LFG)(l.F0,8))},token:ee,providedIn:"root"}),ee=r([s(3,(0,o.FiY)())],ee);const te=(e,t,n)=>{if(!1!==t)return void 0!==n?n:"forward"===e||"back"===e?e:"root"===e&&!0===t?"forward":void 0},ne="auto",re=void 0,se=(e,t)=>{const n=e.prototype;t.forEach(e=>{Object.defineProperty(n,e,{get(){return this.el[e]},set(t){this.z.runOutsideAngular(()=>this.el[e]=t)}})})},ie=(e,t)=>{const n=e.prototype;t.forEach(e=>{n[e]=function(){const t=arguments;return this.z.runOutsideAngular(()=>this.el[e].apply(this.el,t))}})},oe=(e,t,n)=>{n.forEach(n=>e[n]=S(t,n))};function ae(e){return function(t){return e.inputs&&se(t,e.inputs),e.methods&&ie(t,e.methods),t}}let ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-app"]],ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),le=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],e),e})(),ue=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),he=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["collapse"]})],e),e})(),de=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),fe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["mode"]})],e),e})(),pe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode","translucent"]})],e),e})(),me=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode"]})],e),e})(),ge=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],e),e})(),ye=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","disabled","mode","outline"]})],e),e})(),ve=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],e),e})(),we=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),be=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["fixed"]})],e),e})(),_e=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["collapse","mode","translucent"]})],e),e})(),Ee=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Se=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Ie=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),Te=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode","position"]})],e),e})(),Ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),ke=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","lines","mode"]})],e),e})(),Ae=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-row"]],ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),xe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Ne=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),Oe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Re=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","size"]})],e),e})(),De=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:O,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode"]})],e),e})(),Pe=class{get(e,t){const n=$e();return n?n.get(e,t):null}getBoolean(e,t){const n=$e();return!!n&&n.getBoolean(e,t)}getNumber(e,t){const n=$e();return n?n.getNumber(e,t):0}set(e,t){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=$e();n&&n.set(e,t)}};Pe.\u0275fac=function(e){return new(e||Pe)},Pe.\u0275prov=o.Yz7({token:Pe,factory:function(e){return Pe.\u0275fac(e)},providedIn:"root"}),Pe.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Pe},token:Pe,providedIn:"root"});const Le=new o.OlP("USERCONFIG"),$e=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null};class Me{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Fe=(()=>{let e=class{constructor(e,t){this.zone=e,this.appRef=t}create(e,t,n){return new Ve(e,t,n,this.appRef,this.zone)}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b),o.LFG(o.z2F))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class Ve{constructor(e,t,n,r,s){this.resolver=e,this.injector=t,this.location=n,this.appRef=r,this.zone=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,n,r){return this.zone.run(()=>new Promise(s=>{s(Ue(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,n,r))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(e=>{const n=this.elRefMap.get(t);if(n){n.destroy(),this.elRefMap.delete(t);const e=this.elEventsMap.get(t);e&&(e(),this.elEventsMap.delete(t))}e()}))}}const Ue=(e,t,n,r,s,i,a,c,l,u,h)=>{const d=t.resolveComponentFactory(l),f=o.zs3.create({providers:ze(u),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),m=p.instance,g=p.location.nativeElement;if(u&&Object.assign(m,u),h)for(const o of h)g.classList.add(o);const y=qe(e,m,g);return c.appendChild(g),r||s.attachView(p.hostView),p.changeDetectorRef.reattach(),i.set(g,p),a.set(g,y),g},je=[m.L,m.a,m.b,m.c,m.d],qe=(e,t,n)=>e.run(()=>{const e=je.filter(e=>"function"==typeof t[e]).map(e=>{const r=n=>t[e](n.detail);return n.addEventListener(e,r),()=>n.removeEventListener(e,r)});return()=>e.forEach(e=>e())}),Be=new o.OlP("NavParamsToken"),ze=e=>[{provide:Be,useValue:e},{provide:Me,useFactory:He,deps:[Be]}],He=e=>new Me(e),Ge=(e,t)=>((e=e.filter(e=>e.stackId!==t.stackId)).push(t),e),Ye=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},We=(e,t)=>{if(!e)return;const n=Ke(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},Ke=e=>e.split("/").map(e=>e.trim()).filter(e=>""!==e),Xe=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class Qe{constructor(e,t,n,r,s,i){this.containerEl=t,this.router=n,this.navCtrl=r,this.zone=s,this.location=i,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Ke(e):void 0}createView(e,t){const n=Ye(this.router,t),r=e&&e.location&&e.location.nativeElement,s=qe(this.zone,e.instance,r);return{id:this.nextId++,stackId:We(this.tabsPrefix,n),unlistenEvents:s,element:r,ref:e,url:n}}getExistingView(e){const t=Ye(this.router,e),n=this.views.find(e=>e.url===t);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(e){const t=this.navCtrl.consumeTransition();let{direction:n,animation:r,animationBuilder:s}=t;const i=this.activeView,o=((e,t)=>!t||e.stackId!==t.stackId)(e,i);o&&(n="back",r=void 0);const a=this.views.slice();let c;const l=this.router;l.getCurrentNavigation?c=l.getCurrentNavigation():l.navigations&&l.navigations.value&&(c=l.navigations.value),c&&c.extras&&c.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const u=this.views.includes(e),h=this.insertView(e,n);u||e.ref.changeDetectorRef.detectChanges();const d=e.animationBuilder;return void 0!==s||"back"!==n||o||void 0===d||(s=d),i&&(i.animationBuilder=s),this.zone.runOutsideAngular(()=>this.wait(()=>(i&&i.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,i,r,this.canGoBack(1),!1,s).then(()=>Je(e,h,a,this.location)).then(()=>({enteringView:e,direction:n,animation:r,tabSwitch:o})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(t);if(n.length<=e)return Promise.resolve(!1);const r=n[n.length-e-1];let s=r.url;const i=r.savedData;if(i){const e=i.get("primary");e&&e.route&&e.route._routerState&&e.route._routerState.snapshot&&e.route._routerState.snapshot.url&&(s=e.route._routerState.snapshot.url)}const{animationBuilder:o}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(s,Object.assign({},r.savedExtras,{animation:o})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),n=t[t.length-2],r=n.animationBuilder;return this.wait(()=>this.transition(n,e,"back",this.canGoBack(2),!0,r))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ze(this.activeView,this.views,this.views,this.location)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Xe),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((e,t,n)=>"root"===n?Ge(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):Ge(e,t))(e,t))(this.views,e,t),this.views.slice()}transition(e,t,n,r,s,i){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const o=e?e.element:void 0,a=t?t.element:void 0,c=this.containerEl;return o&&o!==a&&(o.classList.add("ion-page"),o.classList.add("ion-page-invisible"),o.parentElement!==c&&c.appendChild(o),c.commit)?c.commit(o,a,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:s,animationBuilder:i}):Promise.resolve(!1)}wait(e){return i(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const Je=(e,t,n,r)=>"function"==typeof requestAnimationFrame?new Promise(s=>{requestAnimationFrame(()=>{Ze(e,t,n,r),s()})}):Promise.resolve(),Ze=(e,t,n,r)=>{n.filter(e=>!t.includes(e)).forEach(Xe),t.forEach(t=>{const n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){const e=t.element;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}})};let et=(()=>{let e=class{constructor(e,t,n,r,s,i,a,c,u,h,d,f,p){this.parentContexts=e,this.location=t,this.resolver=n,this.config=i,this.navCtrl=a,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new C.X(null),this.stackEvents=new o.vpe,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.nativeEl=u.nativeElement,this.name=r||l.eC,this.tabsPrefix="true"===s?Ye(h,f):void 0,this.stackCtrl=new Qe(this.tabsPrefix,this.nativeEl,h,a,d,c),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:e=>this.stackCtrl.endBackTransition(e)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,p.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,t){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const e=this.getContext();this.activatedView.savedData=new Map(e.children.contexts);const t=this.activatedView.savedData.get("primary");if(t&&e.route&&(t.route=Object.assign({},e.route)),this.activatedView.savedExtras={},e.route){const t=e.route.snapshot;this.activatedView.savedExtras.queryParams=t.queryParams,this.activatedView.savedExtras.fragment=t.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=e;let r=this.stackCtrl.getExistingView(e);if(r){n=this.activated=r.ref;const t=r.savedData;t&&(this.getContext().children.contexts=t),this.updateActivatedRouteProxy(n.instance,e)}else{const s=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new C.X(null),a=this.createActivatedRouteProxy(o,e),c=new tt(a,i,this.location.injector);n=this.activated=this.location.createComponent(s,this.location.length,c),o.next(n.instance),r=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(n.instance,a),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:e})}this.activatedView=r,this.stackCtrl.setActive(r).then(e=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(e)})}canGoBack(e=1,t){return this.stackCtrl.canGoBack(e,t)}pop(e=1,t){return this.stackCtrl.pop(e,t)}getLastUrl(e){const t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,t){const n=new l.gz;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n}proxyObservable(e,t){return e.pipe((0,k.h)(e=>!!e),(0,A.w)(e=>this.currentActivatedRoute$.pipe((0,k.h)(t=>null!==t&&t.component===e),(0,A.w)(e=>e&&e.activatedRoute[t]),(0,x.x)())))}updateActivatedRouteProxy(e,t){const n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.y6),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.$8M("tabs"),o.Y36(Pe),o.Y36(ee),o.Y36(c.Ye),o.Y36(o.SBq),o.Y36(l.F0),o.Y36(o.R0b),o.Y36(l.gz),o.Y36(e,12))},e.\u0275dir=o.lG2({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r([(0,o.r_U)()],e.prototype,"stackEvents",void 0),r([(0,o.r_U)("activate")],e.prototype,"activateEvents",void 0),r([(0,o.r_U)("deactivate")],e.prototype,"deactivateEvents",void 0),e=r([s(3,(0,o.ahi)("name")),s(4,(0,o.FiY)()),s(4,(0,o.ahi)("tabs")),s(12,(0,o.tp0)()),s(12,(0,o.FiY)())],e),e})();class tt{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===l.gz?this.route:e===l.y6?this.childContexts:this.parent.get(e,t)}}let nt=(()=>{let e=class{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new o.vpe,this.ionTabsDidChange=new o.vpe}onPageSelected(e){const t=e.enteringView.stackId;e.tabSwitch&&void 0!==t&&(this.tabBar&&(this.tabBar.selectedTab=t),this.ionTabsWillChange.emit({tab:t}),this.ionTabsDidChange.emit({tab:t}))}select(e){const t=this.outlet.getActiveStackId()===e,n=`${this.outlet.tabsPrefix}/${e}`;if(t){const t=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(t).url===n)return;const r=this.outlet.getRootView(e);return this.navCtrl.navigateRoot(n,Object.assign({},r&&n===r.url&&r.savedExtras,{animated:!0,animationDirection:"back"}))}{const t=this.outlet.getLastRouteView(e);return this.navCtrl.navigateRoot(t&&t.url||n,Object.assign({},t&&t.savedExtras,{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(ee))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-tabs"]],contentQueries:function(e,t,n){if(1&e&&o.Suo(n,Ne,5),2&e){let e;o.iGM(e=o.CRH())&&(t.tabBar=e.first)}},viewQuery:function(e,t){if(1&e&&o.Gf(R,5,et),2&e){let e;o.iGM(e=o.CRH())&&(t.outlet=e.first)}},hostBindings:function(e,t){1&e&&o.NdJ("ionTabButtonClick",function(e){return t.select(e.detail.tab)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:P,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,t){1&e&&(o.F$t(D),o.Hsn(0),o.TgZ(1,"div",0),o.TgZ(2,"ion-router-outlet",1,2),o.NdJ("stackEvents",function(e){return t.onPageSelected(e)}),o.qZA(),o.qZA(),o.Hsn(4,1))},directives:[et],styles:["[_nghost-%COMP%] {\n      display: flex;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n\n      flex-direction: column;\n\n      width: 100%;\n      height: 100%;\n\n      contain: layout size style;\n      z-index: $z-index-page-container;\n    }\n    .tabs-inner[_ngcontent-%COMP%] {\n      position: relative;\n\n      flex: 1;\n\n      contain: layout size style;\n    }"]}),r([(0,o.i9L)("outlet",{read:et,static:!1})],e.prototype,"outlet",void 0),r([(0,o.aQ5)(Ne,{static:!1})],e.prototype,"tabBar",void 0),r([(0,o.r_U)()],e.prototype,"ionTabsWillChange",void 0),r([(0,o.r_U)()],e.prototype,"ionTabsDidChange",void 0),r([(0,o.L6J)("ionTabButtonClick",["$event.detail.tab"])],e.prototype,"select",null),e})(),rt=(()=>{let e=class{constructor(e,t,n){this.routerOutlet=e,this.navCtrl=t,this.config=n}onClick(e){const t=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet&&this.routerOutlet.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=t&&(this.navCtrl.navigateBack(t,{animation:this.routerAnimation}),e.preventDefault())}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(et,8),o.Y36(ee),o.Y36(Pe))},e.\u0275dir=o.lG2({type:e,selectors:[["ion-back-button"]],hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t.onClick(e)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),r([(0,o.L6J)("click",["$event"])],e.prototype,"onClick",null),e=r([s(0,(0,o.FiY)())],e),e})();class st{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,n){return this.ctrl.dismiss(e,t,n)}getTop(){return this.ctrl.getTop()}}let it=class extends st{constructor(){super(y.b)}};it.\u0275fac=function(e){return new(e||it)},it.\u0275prov=o.Yz7({token:it,factory:function(e){return it.\u0275fac(e)},providedIn:"root"}),it.ngInjectableDef=(0,o.Yz7)({factory:function(){return new it},token:it,providedIn:"root"});let ot=class extends st{constructor(){super(y.a)}};ot.\u0275fac=function(e){return new(e||ot)},ot.\u0275prov=o.Yz7({token:ot,factory:function(e){return ot.\u0275fac(e)},providedIn:"root"}),ot.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ot},token:ot,providedIn:"root"});let at=class extends st{constructor(){super(y.l)}};at.\u0275fac=function(e){return new(e||at)},at.\u0275prov=o.Yz7({token:at,factory:function(e){return at.\u0275fac(e)},providedIn:"root"}),at.ngInjectableDef=(0,o.Yz7)({factory:function(){return new at},token:at,providedIn:"root"});let ct=class{open(e){return g.m.open(e)}close(e){return g.m.close(e)}toggle(e){return g.m.toggle(e)}enable(e,t){return g.m.enable(e,t)}swipeGesture(e,t){return g.m.swipeGesture(e,t)}isOpen(e){return g.m.isOpen(e)}isEnabled(e){return g.m.isEnabled(e)}get(e){return g.m.get(e)}getOpen(){return g.m.getOpen()}getMenus(){return g.m.getMenus()}};ct.\u0275fac=function(e){return new(e||ct)},ct.\u0275prov=o.Yz7({token:ct,factory:function(e){return ct.\u0275fac(e)},providedIn:"root"}),ct.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ct},token:ct,providedIn:"root"});let lt=class extends st{constructor(){super(y.p)}};lt.\u0275fac=function(e){return new(e||lt)},lt.\u0275prov=o.Yz7({token:lt,factory:function(e){return lt.\u0275fac(e)},providedIn:"root"}),lt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new lt},token:lt,providedIn:"root"});let ut=(()=>{let e=class extends st{constructor(e,t,n){super(y.m),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(Fe),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),ht=(()=>{let e=class extends st{constructor(e,t,n){super(y.c),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(Fe),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),dt=class extends st{constructor(){super(y.t)}};dt.\u0275fac=function(e){return new(e||dt)},dt.\u0275prov=o.Yz7({token:dt,factory:function(e){return dt.\u0275fac(e)},providedIn:"root"}),dt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new dt},token:dt,providedIn:"root"});let ft=class{read(e){pt().read(e)}write(e){pt().write(e)}};ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275prov=o.Yz7({token:ft,factory:function(e){return ft.\u0275fac(e)},providedIn:"root"}),ft.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ft},token:ft,providedIn:"root"});const pt=()=>{const e="undefined"!=typeof window?window:null;if(null!=e){const t=e.Ionic;return t&&t.queue?t.queue:{read:t=>e.requestAnimationFrame(t),write:t=>e.requestAnimationFrame(t)}}return{read:e=>e(),write:e=>e()}};let mt=class{create(e){return(0,u.c)(e)}easingTime(e,t,n,r,s){return(0,h.g)(e,t,n,r,s)}};mt.\u0275fac=function(e){return new(e||mt)},mt.\u0275prov=o.Yz7({token:mt,factory:function(e){return mt.\u0275fac(e)},providedIn:"root"}),mt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new mt},token:mt,providedIn:"root"});let gt=class{constructor(e){this.zone=e}create(e,t=!1){return t&&Object.getOwnPropertyNames(e).forEach(t=>{if("function"==typeof e[t]){const n=e[t];e[t]=(...e)=>this.zone.run(()=>n(...e))}}),(0,d.createGesture)(e)}};gt.\u0275fac=function(e){return new(e||gt)(o.LFG(o.R0b))},gt.\u0275prov=o.Yz7({token:gt,factory:function(e){return gt.\u0275fac(e)},providedIn:"root"}),gt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new gt((0,o.LFG)(o.R0b))},token:gt,providedIn:"root"});class yt{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const n=e.params,r=t.params,s=Object.keys(n),i=Object.keys(r);if(s.length!==i.length)return!1;for(const o of s)if(r[o]!==n[o])return!1;return!0}}const vt=(e,t,r)=>()=>{const s=t.defaultView;if(s&&"undefined"!=typeof window){(s.Ionic=s.Ionic||{}).config=Object.assign({},e,{_zoneGate:e=>r.run(e)});const i="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var e=[];if("undefined"!=typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push(n.e(6748).then(n.t.bind(n,5141,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||e.push(n.e(2214).then(n.t.bind(n,7656,23)))}return Promise.all(e)}().then(()=>{return e={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:L,jmp:e=>r.runOutsideAngular(e),ael(e,t,n,r){e[i](t,n,r)},rel(e,t,n,r){e.removeEventListener(t,n,r)}},"undefined"==typeof window?Promise.resolve():(v.C&&v.C.supports&&v.C.supports("color","var(--c)")?(0,v.a)():n.e(1843).then(n.t.bind(n,5902,23)).then(()=>(v.p.$cssShim$=v.w.__cssshim)?v.p.$cssShim$.i():0)).then(()=>(N(),(0,v.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[2,"click","onClick"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),e)));var e})}};var wt;let bt=wt=class{static forRoot(e){return{ngModule:wt,providers:[{provide:Le,useValue:e},{provide:o.ip1,useFactory:vt,multi:!0,deps:[Le,c.K0,o.R0b]}]}}};bt.\u0275fac=function(e){return new(e||bt)},bt.\u0275mod=o.oAB({type:bt}),bt.\u0275inj=o.cJS({providers:[Fe,ut,ht],imports:[[c.ez]]})},4086:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var r=n(2377);let s;const i=e=>{if(void 0===s){const t=void 0!==e.style.webkitAnimationName;s=void 0===e.style.animationName&&t?"-webkit-":""}return s},o=(e,t,n)=>{const r=t.startsWith("animation")?i(e):"";e.style.setProperty(r+t,n)},a=(e,t)=>{const n=t.startsWith("animation")?i(e):"";e.style.removeProperty(n+t)},c=[],l=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},u=e=>{let t,n,s,u,h,d,f,p,m,g,y,v,w,b=[],_=[],E=[],S=!1,I={},T=[],C=[],k={},A=0,x=!1,N=!1,O=!0,R=!1,D=!0;const P=e,L=[],$=[],M=[],F=[],V=[],U=[],j=[],q=[],B=[],z=[],H="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&H,Y=(e,t)=>((t&&t.oneTimeCallback?$:L).push({c:e,o:t}),w),W=()=>{if(G)z.forEach(e=>{e.cancel()}),z.length=0;else{const e=M.slice();(0,r.r)(()=>{e.forEach(e=>{a(e,"animation-name"),a(e,"animation-duration"),a(e,"animation-timing-function"),a(e,"animation-iteration-count"),a(e,"animation-delay"),a(e,"animation-play-state"),a(e,"animation-fill-mode"),a(e,"animation-direction")})})}},K=()=>{V.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),V.length=0},X=()=>void 0!==h?h:f?f.getFill():"both",Q=()=>void 0!==m?m:void 0!==d?d:f?f.getDirection():"normal",J=()=>x?"linear":void 0!==s?s:f?f.getEasing():"linear",Z=()=>N?0:void 0!==g?g:void 0!==n?n:f?f.getDuration():0,ee=()=>void 0!==u?u:f?f.getIterations():1,te=()=>void 0!==y?y:void 0!==t?t:f?f.getDelay():0,ne=()=>{0!==A&&(A--,0===A&&((()=>{ue(),q.forEach(e=>e()),B.forEach(e=>e());const e=O?1:0,t=T,n=C,r=k;M.forEach(e=>{const s=e.classList;t.forEach(e=>s.add(e)),n.forEach(e=>s.remove(e));for(const t in r)r.hasOwnProperty(t)&&o(e,t,r[t])}),L.forEach(t=>t.c(e,w)),$.forEach(t=>t.c(e,w)),$.length=0,D=!0,O&&(R=!0),O=!0})(),f&&f.animationFinish()))},re=(t=!0)=>{(()=>{U.forEach(e=>e()),j.forEach(e=>e());const e=_,t=E,n=I;M.forEach(r=>{const s=r.classList;e.forEach(e=>s.add(e)),t.forEach(e=>s.remove(e));for(const e in n)n.hasOwnProperty(e)&&o(r,e,n[e])})})(),b.length>0&&(G?(M.forEach(e=>{const t=e.animate(b,{id:P,delay:te(),duration:Z(),easing:J(),iterations:ee(),fill:X(),direction:Q()});t.pause(),z.push(t)}),z.length>0&&(z[0].onfinish=()=>{ne()})):((t=!0)=>{K();const n=((s=b).forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];if("easing"===t)e["animation-timing-function"]=n,delete e[t];else{const r=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();r!==t&&(e[r]=n,delete e[t])}}}),s);var s;M.forEach(s=>{if(n.length>0){const a=((e=[])=>e.map(e=>{const t=e.offset,n=[];for(const r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${e[r]};`);return`${100*t}% { ${n.join(" ")} }`}).join(" "))(n);v=void 0!==e?e:(e=>{let t=c.indexOf(e);return t<0&&(t=c.push(e)-1),`ion-animation-${t}`})(a);const l=((e,t,n)=>{const r=(e=>{const t=e.getRootNode();return t.head||t})(n),s=i(n),o=r.querySelector("#"+e);if(o)return o;const a=(n.ownerDocument||document).createElement("style");return a.id=e,a.textContent=`@${s}keyframes ${e} { ${t} } @${s}keyframes ${e}-alt { ${t} }`,r.appendChild(a),a})(v,a,s);V.push(l),o(s,"animation-duration",`${Z()}ms`),o(s,"animation-timing-function",J()),o(s,"animation-delay",`${te()}ms`),o(s,"animation-fill-mode",X()),o(s,"animation-direction",Q());const u=ee()===1/0?"infinite":ee().toString();o(s,"animation-iteration-count",u),o(s,"animation-play-state","paused"),t&&o(s,"animation-name",`${l.id}-alt`),(0,r.r)(()=>{o(s,"animation-name",l.id||null)})}})})(t)),S=!0},se=e=>{if(e=Math.min(Math.max(e,0),.9999),G)z.forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+Z()*e,t.pause()});else{const t=`-${Z()*e}ms`;M.forEach(e=>{b.length>0&&(o(e,"animation-delay",t),o(e,"animation-play-state","paused"))})}},ie=e=>{z.forEach(e=>{e.effect.updateTiming({delay:te(),duration:Z(),easing:J(),iterations:ee(),fill:X(),direction:Q()})}),void 0!==e&&se(e)},oe=(e=!0,t)=>{(0,r.r)(()=>{M.forEach(n=>{o(n,"animation-name",v||null),o(n,"animation-duration",`${Z()}ms`),o(n,"animation-timing-function",J()),o(n,"animation-delay",void 0!==t?`-${t*Z()}ms`:`${te()}ms`),o(n,"animation-fill-mode",X()||null),o(n,"animation-direction",Q()||null);const s=ee()===1/0?"infinite":ee().toString();o(n,"animation-iteration-count",s),e&&o(n,"animation-name",`${v}-alt`),(0,r.r)(()=>{o(n,"animation-name",v||null)})})})},ae=(e=!1,t=!0,n)=>(e&&F.forEach(r=>{r.update(e,t,n)}),G?ie(n):oe(t,n),w),ce=()=>{S&&(G?z.forEach(e=>{e.pause()}):M.forEach(e=>{o(e,"animation-play-state","paused")}))},le=()=>{p=void 0,ne()},ue=()=>{p&&clearTimeout(p)},he=e=>new Promise(t=>{e&&e.sync&&(N=!0,Y(()=>N=!1,{oneTimeCallback:!0})),S||re(),R&&(G?(se(0),ie()):oe(),R=!1),D&&(A=F.length+1,D=!1),Y(()=>t(),{oneTimeCallback:!0}),F.forEach(e=>{e.play()}),G?(z.forEach(e=>{e.play()}),0!==b.length&&0!==M.length||ne()):(()=>{if(ue(),(0,r.r)(()=>{M.forEach(e=>{b.length>0&&o(e,"animation-play-state","running")})}),0===b.length||0===M.length)ne();else{const e=te()||0,t=Z()||0,n=ee()||1;isFinite(n)&&(p=setTimeout(le,e+t*n+100)),((e,t)=>{let n;const s={passive:!0},i=t=>{e===t.target&&(n&&n(),ue(),(0,r.r)(()=>{M.forEach(e=>{a(e,"animation-duration"),a(e,"animation-delay"),a(e,"animation-play-state")}),(0,r.r)(ne)}))};e&&(e.addEventListener("webkitAnimationEnd",i,s),e.addEventListener("animationend",i,s),n=()=>{e.removeEventListener("webkitAnimationEnd",i,s),e.removeEventListener("animationend",i,s)})})(M[0])}})()}),de=(e,t)=>{const n=b[0];return void 0===n||void 0!==n.offset&&0!==n.offset?b=[{offset:0,[e]:t},...b]:n[e]=t,w};return w={parentAnimation:f,elements:M,childAnimations:F,id:P,animationFinish:ne,from:de,to:(e,t)=>{const n=b[b.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?b=[...b,{offset:1,[e]:t}]:n[e]=t,w},fromTo:(e,t,n)=>de(e,t).to(e,n),parent:e=>(f=e,w),play:he,pause:()=>(F.forEach(e=>{e.pause()}),ce(),w),stop:()=>{F.forEach(e=>{e.stop()}),S&&(W(),S=!1),x=!1,N=!1,D=!0,m=void 0,g=void 0,y=void 0,A=0,R=!1,O=!0},destroy:e=>(F.forEach(t=>{t.destroy(e)}),(e=>{W(),e&&K()})(e),M.length=0,F.length=0,b.length=0,L.length=0,$.length=0,S=!1,D=!0,w),keyframes:e=>(b=e,w),addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(w),F.push(t);else e.parent(w),F.push(e);return w},addElement:e=>{if(null!=e)if(1===e.nodeType)M.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)M.push(e[t]);else console.error("Invalid addElement value");return w},update:ae,fill:e=>(h=e,ae(!0),w),direction:e=>(d=e,ae(!0),w),iterations:e=>(u=e,ae(!0),w),duration:e=>(G||0!==e||(e=1),n=e,ae(!0),w),easing:e=>(s=e,ae(!0),w),delay:e=>(t=e,ae(!0),w),getWebAnimations:()=>z,getKeyframes:()=>b,getFill:X,getDirection:Q,getDelay:te,getIterations:ee,getEasing:J,getDuration:Z,afterAddRead:e=>(q.push(e),w),afterAddWrite:e=>(B.push(e),w),afterClearStyles:(e=[])=>{for(const t of e)k[t]="";return w},afterStyles:(e={})=>(k=e,w),afterRemoveClass:e=>(C=l(C,e),w),afterAddClass:e=>(T=l(T,e),w),beforeAddRead:e=>(U.push(e),w),beforeAddWrite:e=>(j.push(e),w),beforeClearStyles:(e=[])=>{for(const t of e)I[t]="";return w},beforeStyles:(e={})=>(I=e,w),beforeRemoveClass:e=>(E=l(E,e),w),beforeAddClass:e=>(_=l(_,e),w),onFinish:Y,progressStart:(e=!1,t)=>(F.forEach(n=>{n.progressStart(e,t)}),ce(),x=e,S?ae(!1,!0,t):re(),w),progressStep:e=>(F.forEach(t=>{t.progressStep(e)}),se(e),w),progressEnd:(e,t,n)=>(x=!1,F.forEach(r=>{r.progressEnd(e,t,n)}),void 0!==n&&(g=n),R=!1,O=!0,0===e?(m="reverse"===Q()?"normal":"reverse","reverse"===m&&(O=!1),G?(ae(),se(1-t)):(y=(1-t)*Z()*-1,ae(!1,!1))):1===e&&(G?(ae(),se(t)):(y=t*Z()*-1,ae(!1,!1))),void 0!==e&&(Y(()=>{g=void 0,m=void 0,y=void 0},{oneTimeCallback:!0}),f||he()),w)}}},7807:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r=(e,t,n,r,o)=>i(e[1],t[1],n[1],r[1],o).map(i=>s(e[0],t[0],n[0],r[0],i)),s=(e,t,n,r,s)=>s*(3*t*Math.pow(s-1,2)+s*(-3*n*s+3*n+r*s))-e*Math.pow(s-1,3),i=(e,t,n,r,s)=>o((r-=s)-3*(n-=s)+3*(t-=s)-(e-=s),3*n-6*t+3*e,3*t-3*e,e).filter(e=>e>=0&&e<=1),o=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const s=(3*(n/=e)-(t/=e)*t)/3,i=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===s)return[Math.pow(-i,1/3)];if(0===i)return[Math.sqrt(-s),-Math.sqrt(-s)];const o=Math.pow(i/2,2)+Math.pow(s/3,3);if(0===o)return[Math.pow(i/2,.5)-t/3];if(o>0)return[Math.pow(-i/2+Math.sqrt(o),1/3)-Math.pow(i/2+Math.sqrt(o),1/3)-t/3];const a=Math.sqrt(Math.pow(-s/3,3)),c=Math.acos(-i/(2*Math.sqrt(Math.pow(-s/3,3)))),l=2*Math.pow(a,1/3);return[l*Math.cos(c/3)-t/3,l*Math.cos((c+2*Math.PI)/3)-t/3,l*Math.cos((c+4*Math.PI)/3)-t/3]}},960:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});class r{constructor(e,t,n,r,s){this.id=t,this.name=n,this.disableScroll=s,this.priority=1e6*r+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class s{constructor(e,t,n,r){this.id=t,this.disable=n,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const i="backdrop-no-scroll",o=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new s(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(e=>{s=Math.max(s,e)}),s===n){this.capturedId=t,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(i)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(i)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}},3087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:()=>o,OVERLAY_BACK_BUTTON_PRIORITY:()=>i,blockHardwareBackButton:()=>r,startHardwareBackButton:()=>s});const r=()=>{document.addEventListener("backbutton",()=>{})},s=()=>{const e=document;let t=!1;e.addEventListener("backbutton",()=>{if(t)return;let n=0,r=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){r.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(s);const i=()=>{if(r.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(t=>{t.priority>=e.priority&&(e=t)}),t=!0,r=r.filter(t=>t.id!==e.id),(async e=>{try{if(e&&e.handler){const t=e.handler(i);null!=t&&await t}}catch(t){console.error(t)}})(e).then(()=>t=!1)}};i()})},i=100,o=99},2377:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>o,c:()=>r,d:()=>h,e:()=>d,f:()=>v,g:()=>a,h:()=>u,i:()=>s,j:()=>f,k:()=>l,l:()=>p,m:()=>y,n:()=>w,o:()=>m,p:()=>g,r:()=>c});const r=(e,t)=>{e.componentOnReady?e.componentOnReady().then(e=>t(e)):c(()=>t(e))},s=(e,t=[])=>{const n={};return t.forEach(t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))}),n},i=(e,t,n,r)=>{if("undefined"!=typeof window){const s=window,i=s&&s.Ionic&&s.Ionic.config;if(i){const s=i.get("_ael");if(s)return s(e,t,n,r);if(i._ael)return i._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},o=(e,t,n,r)=>{if("undefined"!=typeof window){const s=window,i=s&&s.Ionic&&s.Ionic.config;if(i){const s=i.get("_rel");if(s)return s(e,t,n,r);if(i._rel)return i._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},a=(e,t=e)=>e.shadowRoot||t,c=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),l=e=>!!e.shadowRoot&&!!e.attachShadow,u=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},h=(e,t)=>{let n;const r=e.getAttribute("aria-labelledby"),s=e.id;let i=null!==r&&""!==r.trim()?r:t+"-lbl",o=null!==r&&""!==r.trim()?document.getElementById(r):u(e);return o?(null===r&&(o.id=i),n=o.textContent,o.setAttribute("aria-hidden","true")):""!==s.trim()&&(o=document.querySelector(`label[for="${s}"]`),o&&(""!==o.id?i=o.id:o.id=i=`${s}-lbl`,n=o.textContent)),{label:o,labelId:i,labelText:n}},d=(e,t,n,r,s)=>{if(e||l(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=s,e.name=n,e.value=r||""}},f=(e,t,n)=>Math.max(e,Math.min(t,n)),p=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},m=e=>e.timeStamp||Date.now(),g=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},y=e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},v=(e,t)=>{const n=e._original||e;return{_original:e,emit:w(n.emit.bind(n),t)}},w=(e,t=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}}},5554:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var r=n(3087),s=n(2377),i=n(7585),o=n(4086);const a=e=>(0,o.c)().duration(e?400:300),c=e=>{let t,n;const r=e.width+8,s=(0,o.c)(),c=(0,o.c)();e.isEndSide?(t=r+"px",n="0px"):(t=-r+"px",n="0px"),s.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${n})`);const l="ios"===(0,i.b)(e),u=l?.2:.25;return c.addElement(e.backdropEl).fromTo("opacity",.01,u),a(l).addAnimation([s,c])},l=e=>{let t,n;const r=(0,i.b)(e),s=e.width;e.isEndSide?(t=-s+"px",n=s+"px"):(t=s+"px",n=-s+"px");const c=(0,o.c)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),l=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),u=(0,o.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return a("ios"===r).addAnimation([c,l,u])},u=e=>{const t=(0,i.b)(e),n=e.width*(e.isEndSide?-1:1)+"px",r=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return a("ios"===t).addAnimation(r)},h=(()=>{const e=new Map,t=[],n=async e=>(await p(),"start"===e||"end"===e?f(t=>t.side===e&&!t.disabled)||f(t=>t.side===e):null!=e?f(t=>t.menuId===e):f(e=>!e.disabled)||(t.length>0?t[0].el:void 0)),i=async()=>(await p(),h()),o=(t,n)=>{e.set(t,n)},a=e=>{const n=e.side;t.filter(t=>t.side===n&&t!==e).forEach(e=>e.disabled=!0)},h=()=>f(e=>e._isOpen),d=()=>t.some(e=>e.isAnimating),f=e=>{const n=t.find(e);if(void 0!==n)return n.el},p=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(e=>new Promise(t=>(0,s.c)(e,t))));return o("reveal",u),o("push",l),o("overlay",c),"undefined"!=typeof document&&document.addEventListener("ionBackButton",e=>{const t=h();t&&e.detail.register(r.MENU_BACK_BUTTON_PRIORITY,()=>t.close())}),{registerAnimation:o,get:n,getMenus:async()=>(await p(),t.map(e=>e.el)),getOpen:i,isEnabled:async e=>{const t=await n(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const r=await n(t);return r&&(r.swipeGesture=e),r},isAnimating:async()=>(await p(),d()),isOpen:async e=>{if(null!=e){const t=await n(e);return void 0!==t&&t.isOpen()}return void 0!==await i()},enable:async(e,t)=>{const r=await n(t);return r&&(r.disabled=!e),r},toggle:async e=>{const t=await n(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?n(e):i());return void 0!==t&&t.close()},open:async e=>{const t=await n(e);return!!t&&t.open()},_getOpenSync:h,_createAnimation:(t,n)=>{const r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:e=>{t.indexOf(e)<0&&(e.disabled||a(e),t.push(e))},_unregister:e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:async(e,t,n)=>{if(d())return!1;if(t){const t=await i();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,n)},_setActiveMenu:a}})()},9461:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:()=>r.G,createGesture:()=>c});var r=n(960);const s=(e,t,n,r)=>{const s=i(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let o,a;return e.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(o="addEventListener",a="removeEventListener"),e[o](t,n,s),()=>{e[a](t,n,s)}},i=e=>{if(void 0===o)try{const t=Object.defineProperty({},"passive",{get:()=>{o=!0}});e.addEventListener("optsTest",()=>{},t)}catch(t){o=!1}return!!o};let o;const a=e=>e instanceof Document?e:e.ownerDocument,c=e=>{let t=!1,n=!1,i=!0,o=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),d=c.canStart,f=c.onWillStart,p=c.onStart,m=c.onEnd,g=c.notCaptured,y=c.onMove,v=c.threshold,w=c.passive,b=c.blurOnStart,_={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},E=((e,t,n)=>{const r=n*(Math.PI/180),s="x"===e,i=Math.cos(r),o=t*t;let a=0,c=0,l=!1,u=0;return{start(e,t){a=e,c=t,u=0,l=!0},detect(e,t){if(!l)return!1;const n=e-a,r=t-c,h=n*n+r*r;if(h<o)return!1;const d=Math.sqrt(h),f=(s?n:r)/d;return u=f>i?1:f<-i?-1:0,l=!1,!0},isGesture:()=>0!==u,getDirection:()=>u}})(c.direction,c.threshold,c.maxAngle),S=r.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),I=()=>{t&&(o=!1,y&&y(_))},T=()=>!(S&&!S.capture()||(t=!0,i=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime,f?f(_).then(C):C(),0)),C=()=>{b&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;null!==e&&e.blur&&e.blur()}})(),p&&p(_),i=!0},k=()=>{t=!1,n=!1,o=!1,i=!0,S.release()},A=e=>{const n=t,r=i;k(),r&&(l(_,e),n?m&&m(_):g&&g(_))},x=((e,t,n,r,i)=>{let o,c,l,u,h,d,f,p=0;const m=r=>{p=Date.now()+2e3,t(r)&&(!c&&n&&(c=s(e,"touchmove",n,i)),l||(l=s(r.target,"touchend",y,i)),u||(u=s(r.target,"touchcancel",y,i)))},g=r=>{p>Date.now()||t(r)&&(!d&&n&&(d=s(a(e),"mousemove",n,i)),f||(f=s(a(e),"mouseup",v,i)))},y=e=>{w(),r&&r(e)},v=e=>{b(),r&&r(e)},w=()=>{c&&c(),l&&l(),u&&u(),c=l=u=void 0},b=()=>{d&&d(),f&&f(),d=f=void 0},_=()=>{w(),b()},E=(t=!0)=>{t?(o||(o=s(e,"touchstart",m,i)),h||(h=s(e,"mousedown",g,i))):(o&&o(),h&&h(),o=h=void 0,_())};return{enable:E,stop:_,destroy:()=>{E(!1),r=n=t=void 0}}})(c.el,e=>{const t=h(e);return!(n||!i)&&(u(e,_),_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime=t,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=e,(!d||!1!==d(_))&&(S.release(),!!S.start()&&(n=!0,0===v?T():(E.start(_.startX,_.startY),!0))))},e=>{t?!o&&i&&(o=!0,l(_,e),requestAnimationFrame(I)):(l(_,e),E.detect(_.currentX,_.currentY)&&(E.isGesture()&&T()||N()))},A,{capture:!1,passive:w}),N=()=>{k(),x.stop(),g&&g(_)};return{enable(e=!0){e||(t&&A(void 0),k()),x.enable(e)},destroy(){S.destroy(),x.destroy()}}},l=(e,t)=>{if(!t)return;const n=e.currentX,r=e.currentY,s=e.currentTime;u(t,e);const i=e.currentX,o=e.currentY,a=(e.currentTime=h(t))-s;if(a>0&&a<100){const t=(o-r)/a;e.velocityX=(i-n)/a*.7+.3*e.velocityX,e.velocityY=.7*t+.3*e.velocityY}e.deltaX=i-e.startX,e.deltaY=o-e.startY,e.event=t},u=(e,t)=>{let n=0,r=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,r=e.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},h=e=>e.timeStamp||Date.now()},3150:(e,t,n)=>{"use strict";n.d(t,{B:()=>qe,C:()=>d,H:()=>L,a:()=>g,b:()=>Ee,c:()=>je,e:()=>re,f:()=>Ue,g:()=>N,h:()=>D,i:()=>ne,j:()=>he,k:()=>Se,p:()=>p,r:()=>Ce,s:()=>x,w:()=>h});let r,s,i,o=!1,a=!1,c=!1,l=!1,u=!1;const h="undefined"!=typeof window?window:{},d=h.CSS,f=h.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},m=(()=>(f.head.attachShadow+"").indexOf("[native")>-1)(),g=e=>Promise.resolve(e),y=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1})(),v=(e,t,n,r)=>{n&&n.map(([n,r,s])=>{const i=b(e,n),o=w(t,s),a=_(n);p.ael(i,r,o,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>p.rel(i,r,o,a))})},w=(e,t)=>n=>{try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){xe(r)}},b=(e,t)=>4&t?f:8&t?h:16&t?f.body:e,_=e=>0!=(2&e),E="s-id",S="c-id",I="http://www.w3.org/1999/xlink",T=new WeakMap,C=(e,t,n)=>{let r=Re.get(e);y&&n?(r=r||new CSSStyleSheet,r.replace(t)):r=t,Re.set(e,r)},k=(e,t,n,r)=>{let s=A(t,n),i=Re.get(s);if(e=11===e.nodeType?e:f,i)if("string"==typeof i){let n,o=T.get(e=e.head||e);if(o||T.set(e,o=new Set),!o.has(s)){if(e.host&&(n=e.querySelector(`[sty-id="${s}"]`)))n.innerHTML=i;else{if(p.$cssShim$){n=p.$cssShim$.createHostStyle(r,s,i,!!(10&t.$flags$));const e=n["s-sc"];e&&(s=e,o=null)}else n=f.createElement("style"),n.innerHTML=i;e.insertBefore(n,e.querySelector("link"))}o&&o.add(s)}}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return s},A=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),x=e=>De.push(e),N=e=>Te(e).$modeName$,O={},R=e=>"object"==(e=typeof e)||"function"===e,D=(e,t,...n)=>{let r=null,s=null,i=null,o=!1,a=!1,c=[];const l=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?l(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof e&&!R(r))&&(r=String(r)),o&&a?c[c.length-1].$text$+=r:c.push(o?P(null,r):r),a=o)};if(l(n),t){t.key&&(s=t.key),t.name&&(i=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,c,$);const u=P(e,null);return u.$attrs$=t,c.length>0&&(u.$children$=c),u.$key$=s,u.$name$=i,u},P=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),L={},$={forEach:(e,t)=>e.map(M).forEach(t),map:(e,t)=>e.map(M).map(t).map(F)},M=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),F=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),D(e.vtag,t,...e.vchildren||[])}const t=P(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},V=(e,t,n,r,s,i)=>{if(n!==r){let a=Ae(e,t),c=t.toLowerCase();if("class"===t){const t=e.classList,s=j(n),i=j(r);t.remove(...s.filter(e=>e&&!i.includes(e))),t.add(...i.filter(e=>e&&!s.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(a||"o"!==t[0]||"n"!==t[1]){const l=R(r);if((a||l&&null!==r)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{let s=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==s||(e[t]=s)}}catch(o){}let u=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(t=c,u=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(u?e.removeAttributeNS(I,t):e.removeAttribute(t)):(!a||4&i||s)&&!l&&(r=!0===r?"":r,u?e.setAttributeNS(I,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):Ae(h,c)?c.slice(2):c[2]+t.slice(3),n&&p.rel(e,t,n,!1),r&&p.ael(e,t,r,!1)}},U=/\s/,j=e=>e?e.split(U):[],q=(e,t,n,r)=>{const s=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||O,o=t.$attrs$||O;for(r in i)r in o||V(s,r,i[r],void 0,n,t.$flags$);for(r in o)V(s,r,i[r],o[r],n,t.$flags$)},B=(e,t,n,a)=>{let u,h,d,p=t.$children$[n],m=0;if(o||(c=!0,"slot"===p.$tag$&&(r&&a.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)u=p.$elm$=f.createTextNode(p.$text$);else if(1&p.$flags$)u=p.$elm$=f.createTextNode("");else{if(l||(l="svg"===p.$tag$),u=p.$elm$=f.createElementNS(l?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),l&&"foreignObject"===p.$tag$&&(l=!1),q(null,p,l),null!=r&&u["s-si"]!==r&&u.classList.add(u["s-si"]=r),p.$children$)for(m=0;m<p.$children$.length;++m)h=B(e,p,m,u),h&&u.appendChild(h);"svg"===p.$tag$?l=!1:"foreignObject"===u.tagName&&(l=!0)}return u["s-hn"]=i,3&p.$flags$&&(u["s-sr"]=!0,u["s-cr"]=s,u["s-sn"]=p.$name$||"",d=e&&e.$children$&&e.$children$[n],d&&d.$tag$===p.$tag$&&e.$elm$&&z(e.$elm$,!1)),u},z=(e,t)=>{p.$flags$|=1;const n=e.childNodes;for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==i&&e["s-ol"]&&(K(e).insertBefore(e,W(e)),e["s-ol"].remove(),e["s-ol"]=void 0,c=!0),t&&z(e,t)}p.$flags$&=-2},H=(e,t,n,r,s,o)=>{let a,c=e["s-cr"]&&e["s-cr"].parentNode||e;for(c.shadowRoot&&c.tagName===i&&(c=c.shadowRoot);s<=o;++s)r[s]&&(a=B(null,n,s,e),a&&(r[s].$elm$=a,c.insertBefore(a,W(t))))},G=(e,t,n,r,s)=>{for(;t<=n;++t)(r=e[t])&&(s=r.$elm$,te(r),a=!0,s["s-ol"]?s["s-ol"].remove():z(s,!0),s.remove())},Y=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),W=e=>e&&e["s-ol"]||e,K=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,X=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,s=t.$children$,i=t.$tag$,o=t.$text$;let a;null===o?(l="svg"===i||"foreignObject"!==i&&l,"slot"===i||q(e,t,l),null!==r&&null!==s?((e,t,n,r)=>{let s,i,o=0,a=0,c=0,l=0,u=t.length-1,h=t[0],d=t[u],f=r.length-1,p=r[0],m=r[f];for(;o<=u&&a<=f;)if(null==h)h=t[++o];else if(null==d)d=t[--u];else if(null==p)p=r[++a];else if(null==m)m=r[--f];else if(Y(h,p))X(h,p),h=t[++o],p=r[++a];else if(Y(d,m))X(d,m),d=t[--u],m=r[--f];else if(Y(h,m))"slot"!==h.$tag$&&"slot"!==m.$tag$||z(h.$elm$.parentNode,!1),X(h,m),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++o],m=r[--f];else if(Y(d,p))"slot"!==h.$tag$&&"slot"!==m.$tag$||z(d.$elm$.parentNode,!1),X(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--u],p=r[++a];else{for(c=-1,l=o;l<=u;++l)if(t[l]&&null!==t[l].$key$&&t[l].$key$===p.$key$){c=l;break}c>=0?(i=t[c],i.$tag$!==p.$tag$?s=B(t&&t[a],n,c,e):(X(i,p),t[c]=void 0,s=i.$elm$),p=r[++a]):(s=B(t&&t[a],n,a,e),p=r[++a]),s&&K(h.$elm$).insertBefore(s,W(h.$elm$))}o>u?H(e,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&G(t,o,u)})(n,r,t,s):null!==s?(null!==e.$text$&&(n.textContent=""),H(n,null,t,s,0,s.length-1)):null!==r&&G(r,0,r.length-1),l&&"svg"===i&&(l=!1)):(a=n["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(n.data=o)},Q=e=>{let t,n,r,s,i,o,a=e.childNodes;for(n=0,r=a.length;n<r;n++)if(t=a[n],1===t.nodeType){if(t["s-sr"])for(i=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(o=a[s].nodeType,a[s]["s-hn"]!==t["s-hn"]||""!==i){if(1===o&&i===a[s].getAttribute("slot")){t.hidden=!0;break}}else if(1===o||3===o&&""!==a[s].textContent.trim()){t.hidden=!0;break}Q(t)}},J=[],Z=e=>{let t,n,r,s,i,o,c=0,l=e.childNodes,u=l.length;for(;c<u;c++){if(t=l[c],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,s=t["s-sn"],o=r.length-1;o>=0;o--)n=r[o],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(ee(n,s)?(i=J.find(e=>e.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||s,i?i.$slotRefNode$=t:J.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&J.map(e=>{ee(e.$nodeToRelocate$,n["s-sn"])&&(i=J.find(e=>e.$nodeToRelocate$===n),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))})):J.some(e=>e.$nodeToRelocate$===n)||J.push({$nodeToRelocate$:n}));1===t.nodeType&&Z(t)}},ee=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,te=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(te)},ne=e=>Te(e).$hostElement$,re=(e,t,n)=>{const r=ne(e);return{emit:e=>se(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},se=(e,t,n)=>{const r=p.ce(t,n);return e.dispatchEvent(r),r},ie=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},oe=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return ie(e,e.$ancestorComponent$),je(()=>ae(e,t));e.$flags$|=512},ae=(e,t)=>{const n=e.$lazyInstance$;let r;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([e,t])=>fe(n,e,t)),e.$queuedListeners$=null),r=fe(n,"componentWillLoad")),r=pe(r,()=>fe(n,"componentWillRender")),pe(r,()=>ce(e,n,t))},ce=async(e,t,n)=>{const r=e.$hostElement$,s=r["s-rc"];n&&(e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=k(m&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&r&&(n["s-sc"]=s,n.classList.add(s+"-h"),2&r&&n.classList.add(s+"-s"))})(e),le(e,t),p.$cssShim$&&p.$cssShim$.updateHost(r),s&&(s.map(e=>e()),r["s-rc"]=void 0);{const t=r["s-p"],n=()=>ue(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},le=(e,t,n)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const n=e.$hostElement$,l=e.$cmpMeta$,u=e.$vnode$||P(null,null),h=(d=t)&&d.$tag$===L?t:D(null,null,t);var d;if(i=n.tagName,l.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},l.$attrsToReflect$.map(([e,t])=>h.$attrs$[t]=n[e])),h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=u.$elm$=n.shadowRoot||n,r=n["s-sc"],s=n["s-cr"],o=m&&0!=(1&l.$flags$),a=!1,X(u,h),p.$flags$|=1,c){let e,t,n,r,s,i;Z(h.$elm$);let o=0;for(;o<J.length;o++)e=J[o],t=e.$nodeToRelocate$,t["s-ol"]||(n=f.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t));for(o=0;o<J.length;o++)if(e=J[o],t=e.$nodeToRelocate$,e.$slotRefNode$){for(r=e.$slotRefNode$.parentNode,s=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(i=n["s-nr"],i&&i["s-sn"]===t["s-sn"]&&r===i.parentNode&&(i=i.nextSibling,!i||!i["s-nr"])){s=i;break}(!s&&r!==t.parentNode||t.nextSibling!==s)&&t!==s&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),r.insertBefore(t,s))}else 1===t.nodeType&&(t.hidden=!0)}a&&Q(h.$elm$),p.$flags$&=-2,J.length=0})(e,t)}catch(l){xe(l,e.$hostElement$)}return null},ue=e=>{const t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$?fe(n,"componentDidUpdate"):(e.$flags$|=64,me(t),fe(n,"componentDidLoad"),e.$onReadyResolve$(t),r||de()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Ve(()=>oe(e,!1)),e.$flags$&=-517},he=e=>{{const t=Te(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&oe(t,!1),n}},de=e=>{me(f.documentElement),Ve(()=>se(h,"appload",{detail:{namespace:"ionic"}}))},fe=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){xe(r)}},pe=(e,t)=>e&&e.then?e.then(t):t(),me=e=>e.classList.add("hydrated"),ge=(e,t,n,r,s,i,o)=>{let a,c,l,u;if(1===i.nodeType){for(a=i.getAttribute(S),a&&(c=a.split("."),c[0]!==o&&"0"!==c[0]||(l={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:i.tagName.toLowerCase(),$elm$:i,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(l),i.removeAttribute(S),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,e=l,r&&"0"===l.$depth$&&(r[l.$index$]=l.$elm$))),u=i.childNodes.length-1;u>=0;u--)ge(e,t,n,r,s,i.childNodes[u],o);if(i.shadowRoot)for(u=i.shadowRoot.childNodes.length-1;u>=0;u--)ge(e,t,n,r,s,i.shadowRoot.childNodes[u],o)}else if(8===i.nodeType)c=i.nodeValue.split("."),c[1]!==o&&"0"!==c[1]||(a=c[0],l={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:i,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(l.$elm$=i.nextSibling,l.$elm$&&3===l.$elm$.nodeType&&(l.$text$=l.$elm$.textContent,t.push(l),i.remove(),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,r&&"0"===l.$depth$&&(r[l.$index$]=l.$elm$))):l.$hostId$===o&&("s"===a?(l.$tag$="slot",i["s-sn"]=c[5]?l.$name$=c[5]:"",i["s-sr"]=!0,r&&(l.$elm$=f.createElement(l.$tag$),l.$name$&&l.$elm$.setAttribute("name",l.$name$),i.parentNode.insertBefore(l.$elm$,i),i.remove(),"0"===l.$depth$&&(r[l.$index$]=l.$elm$)),n.push(l),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l):"r"===a&&(r?i.remove():(s["s-cr"]=i,i["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=P(null,i.textContent);t.$elm$=i,t.$index$="0",e.$children$=[t]}},ye=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)ye(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)ye(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},ve=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),s=e.prototype;if(r.map(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(s,e,{get(){return t=e,Te(this).$instanceValues$.get(t);var t},set(n){((e,t,n,r)=>{const s=Te(this),i=s.$hostElement$,o=s.$instanceValues$.get(t),a=s.$flags$,c=s.$lazyInstance$;var l,u;if(u=r.$members$[t][0],n=null==(l=n)||R(l)?l:4&u?"false"!==l&&(""===l||!!l):2&u?parseFloat(l):1&u?String(l):l,!(8&a&&void 0!==o||n===o)&&(s.$instanceValues$.set(t,n),c)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map(e=>{try{c[e](n,o,t)}catch(r){xe(r,i)}})}2==(18&a)&&oe(s,!1)}})(0,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(s,e,{value(...t){const n=Te(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const n=new Map;s.attributeChangedCallback=function(e,t,r){p.jmp(()=>{const t=n.get(e);this[t]=(null!==r||"boolean"!=typeof this[t])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,r])=>{const s=r[1]||e;return n.set(s,e),512&r[0]&&t.$attrsToReflect$.push([e,s]),s})}}return e},we=e=>{fe(e,"connectedCallback")},be=e=>{if(0==(1&p.$flags$)){const t=Te(e),r=t.$cmpMeta$,s=()=>{};if(1&t.$flags$)v(e,t,r.$listeners$),we(t.$lazyInstance$);else{let s;if(t.$flags$|=1,s=e.getAttribute(E),s){if(m&&1&r.$flags$){const t=k(e.shadowRoot,r,e.getAttribute("s-mode"));e.classList.remove(t+"-h",t+"-s")}((e,t,n,r)=>{const s=e.shadowRoot,i=[],o=s?[]:null,a=r.$vnode$=P(t,null);p.$orgLocNodes$||ye(f.body,p.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute(E),ge(a,i,[],o,e,e,n),i.map(e=>{const n=e.$hostId$+"."+e.$nodeId$,r=p.$orgLocNodes$.get(n),i=e.$elm$;r&&m&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),s||(i["s-hn"]=t,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),p.$orgLocNodes$.delete(n)}),s&&o.map(e=>{e&&s.appendChild(e)})})(e,r.$tagName$,s,t)}s||12&r.$flags$&&_e(e);{let n=e;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){ie(t,t.$ancestorComponent$=n);break}}r.$members$&&Object.entries(r.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),Ve(()=>(async(e,t,r,s,i)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(i=Oe(r)).then){const e=()=>{};i=await i,e()}i.isProxied||(r.$watchers$=i.watchers,ve(i,r,2),i.isProxied=!0);const e=()=>{};t.$flags$|=8;try{new i(t)}catch(c){xe(c)}t.$flags$&=-9,t.$flags$|=128,e(),we(t.$lazyInstance$)}if(i.style){let s=i.style;"string"!=typeof s&&(s=s[t.$modeName$=(e=>De.map(t=>t(e)).find(e=>!!e))(e)]);const o=A(r,t.$modeName$);if(!Re.has(o)){const e=()=>{};8&r.$flags$&&(s=await n.e(8810).then(n.bind(n,8810)).then(e=>e.scopeCss(s,o,!1))),C(o,s,!!(1&r.$flags$)),e()}}}const o=t.$ancestorComponent$,a=()=>oe(t,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()})(e,t,r))}s()}},_e=e=>{const t=e["s-cr"]=f.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Ee=(e,t={})=>{const n=[],r=t.exclude||[],s=h.customElements,i=f.head,o=i.querySelector("meta[charset]"),a=f.createElement("style"),c=[],l=f.querySelectorAll("[sty-id]");let u,d=!0,g=0;for(Object.assign(p,t),p.$resourcesUrl$=new URL(t.resourcesUrl||"./",f.baseURI).href,p.$flags$|=2;g<l.length;g++)C(l[g].getAttribute("sty-id"),l[g].innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0);e.map(e=>e[1].map(t=>{const i={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};i.$members$=t[2],i.$listeners$=t[3],i.$attrsToReflect$=[],i.$watchers$={},!m&&1&i.$flags$&&(i.$flags$|=8);const o=i.$tagName$,a=class extends HTMLElement{constructor(e){super(e),ke(e=this,i),1&i.$flags$&&(m?e.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){u&&(clearTimeout(u),u=null),d?c.push(this):p.jmp(()=>be(this))}disconnectedCallback(){p.jmp(()=>(e=>{if(0==(1&p.$flags$)){const t=Te(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0),p.$cssShim$&&p.$cssShim$.removeHost(e),fe(n,"disconnectedCallback")}})(this))}componentOnReady(){return Te(this).$onReadyPromise$}};i.$lazyBundleId$=e[0],r.includes(o)||s.get(o)||(n.push(o),s.define(o,ve(a,i,1)))})),a.innerHTML=n+"{visibility:hidden}.hydrated{visibility:inherit}",a.setAttribute("data-styles",""),i.insertBefore(a,o?o.nextSibling:i.firstChild),d=!1,c.length?c.map(e=>e.connectedCallback()):p.jmp(()=>u=setTimeout(de,30))},Se=e=>{const t=new URL(e,p.$resourcesUrl$);return t.origin!==h.location.origin?t.href:t.pathname},Ie=new WeakMap,Te=e=>Ie.get(e),Ce=(e,t)=>Ie.set(t.$lazyInstance$=e,t),ke=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(e=>n.$onInstanceResolve$=e),n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],v(e,n,t.$listeners$),Ie.set(e,n)},Ae=(e,t)=>t in e,xe=(e,t)=>(0,console.error)(e,t),Ne=new Map,Oe=(e,t,r)=>{const s=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleId$,o=Ne.get(i);return o?o[s]:n(863)(`./${i}.entry.js`).then(e=>(Ne.set(i,e),e[s]),xe)},Re=new Map,De=[],Pe=[],Le=[],$e=(e,t)=>n=>{e.push(n),u||(u=!0,t&&4&p.$flags$?Ve(Fe):p.raf(Fe))},Me=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){xe(t)}e.length=0},Fe=()=>{Me(Pe),Me(Le),(u=Pe.length>0)&&p.raf(Fe)},Ve=e=>g().then(e),Ue=$e(Pe,!1),je=$e(Le,!0),qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},4001:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,a:()=>o,b:()=>a,c:()=>c,d:()=>l,e:()=>I,g:()=>k,l:()=>E,s:()=>T,t:()=>u});var r=n(3150),s=n(2377);const i="ionViewWillEnter",o="ionViewDidEnter",a="ionViewWillLeave",c="ionViewDidLeave",l="ionViewWillUnload",u=e=>new Promise((t,n)=>{(0,r.c)(()=>{h(e),d(e).then(n=>{n.animation&&n.animation.destroy(),f(e),t(n)},t=>{f(e),n(t)})})}),h=e=>{const t=e.enteringEl,n=e.leavingEl;C(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),T(t,!1),t.style.setProperty("pointer-events","none"),n&&(T(n,!1),n.style.setProperty("pointer-events","none"))},d=async e=>{const t=await p(e);return t&&r.B.isBrowser?m(t,e):g(e)},f=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await Promise.resolve().then(n.bind(n,9554))).iosTransitionAnimation:(await Promise.resolve().then(n.bind(n,7405))).mdTransitionAnimation},m=async(e,t)=>{await y(t,!0);const n=e(t.baseEl,t);b(t.enteringEl,t.leavingEl);const r=await w(n,t);return t.progressCallback&&t.progressCallback(void 0),r&&_(t.enteringEl,t.leavingEl),{hasCompleted:r,animation:n}},g=async e=>{const t=e.enteringEl,n=e.leavingEl;return await y(e,!1),b(t,n),_(t,n),{hasCompleted:!0}},y=async(e,t)=>{const n=(void 0!==e.deepWait?e.deepWait:t)?[I(e.enteringEl),I(e.leavingEl)]:[S(e.enteringEl),S(e.leavingEl)];await Promise.all(n),await v(e.viewIsReady,e.enteringEl)},v=async(e,t)=>{e&&await e(t)},w=(e,t)=>{const n=t.progressCallback,r=new Promise(t=>{e.onFinish(e=>t(1===e))});return n?(e.progressStart(!0),n(e)):e.play(),r},b=(e,t)=>{E(t,a),E(e,i)},_=(e,t)=>{E(e,o),E(t,c)},E=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},S=e=>e?new Promise(t=>(0,s.c)(e,t)):Promise.resolve(),I=async e=>{const t=e;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(I))}},T=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},C=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},k=e=>e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e},7585:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>E,c:()=>v,g:()=>s,i:()=>S});var r=n(3150);const s=e=>o(e),i=(e,t)=>("string"==typeof e&&(t=e,e=void 0),s(e).includes(t)),o=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=a(e),t.forEach(t=>e.document.documentElement.classList.add(`plt-${t}`))),t},a=e=>Object.keys(g).filter(t=>g[t](e)),c=e=>!!p(e,/iPad/i)||!(!p(e,/Macintosh/i)||!u(e)),l=e=>p(e,/android|sink/i),u=e=>m(e,"(any-pointer:coarse)"),h=e=>d(e)||f(e),d=e=>!!(e.cordova||e.phonegap||e.PhoneGap),f=e=>{const t=e.Capacitor;return!(!t||!t.isNative)},p=(e,t)=>t.test(e.navigator.userAgent),m=(e,t)=>e.matchMedia(t).matches,g={ipad:c,iphone:e=>p(e,/iPhone/i),ios:e=>p(e,/iPhone|iPod/i)||c(e),android:l,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),s=Math.max(t,n);return r>390&&r<520&&s>620&&s<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),s=Math.max(t,n);return c(e)||(e=>l(e)&&!p(e,/mobile/i))(e)||r>460&&r<820&&s>780&&s<1400},cordova:d,capacitor:f,electron:e=>p(e,/electron/i),pwa:e=>!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone),mobile:u,mobileweb:e=>u(e)&&!h(e),desktop:e=>!u(e),hybrid:h};class y{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const v=new y,w="ionic:",b="ionic-persist-config";let _;const E=e=>e&&(0,r.g)(e)||_,S=(e={})=>{if("undefined"==typeof window)return;const t=window.document,n=window,s=n.Ionic=n.Ionic||{};o(n);const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem(b);return null!==t?JSON.parse(t):{}}catch(t){return{}}})(n)),{persistConfig:!1}),s.config),(e=>{const t={};return e.location.search.slice(1).split("&").map(e=>e.split("=")).map(([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)]).filter(([e])=>"ionic:"===e.substr(0,w.length)).map(([e,t])=>[e.slice(w.length),t]).forEach(([e,n])=>{t[e]=n}),t})(n)),e);v.reset(a),v.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem(b,JSON.stringify(t))}catch(n){return}})(n,a),s.config=v,s.mode=_=v.get("mode",t.documentElement.getAttribute("mode")||(i(n,"ios")?"ios":"md")),v.set("mode",_),t.documentElement.setAttribute("mode",_),t.documentElement.classList.add(_),v.getBoolean("_testing")&&v.set("animated",!1);const c=e=>e.tagName&&e.tagName.startsWith("ION-"),l=e=>["ios","md"].includes(e);(0,r.s)(e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;c(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return _})}},9554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{iosTransitionAnimation:()=>h,shadow:()=>o});var r=n(4086),s=n(4001);n(3150);const i=e=>document.querySelector(`${e}.ion-cloned-element`),o=e=>e.shadowRoot||e,a=e=>{const t="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=t){const e=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=e?e.querySelector(n):null}return e.querySelector(n)},c=(e,t)=>{const n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs");let r=[];if(null!=n){const e=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=e&&(r=e.querySelectorAll("ion-buttons"))}else r=e.querySelectorAll("ion-buttons");for(const s of r){const e=s.closest("ion-header"),n=e&&!e.classList.contains("header-collapse-condense-inactive"),r=s.querySelector("ion-back-button"),i=s.classList.contains("buttons-collapse"),o="start"===s.slot||""===s.slot;if(null!==r&&o&&(i&&n&&t||!i))return r}return null},l=(e,t,n,s,a,c)=>{const l=t?`calc(100% - ${c.right+4}px)`:c.left-4+"px",u=t?"7px":"-7px",h=t?"-4px":"4px",d=t?"-4px":"4px",f=t?"right":"left",p=t?"left":"right",m=n?[{offset:0,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${u}, ${a.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${u}, ${a.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`}],g=n?[{offset:0,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`}],y=(0,r.c)(),v=(0,r.c)(),w=i("ion-back-button"),b=o(w).querySelector(".button-text"),_=o(w).querySelector("ion-icon");w.text=s.text,w.mode=s.mode,w.icon=s.icon,w.color=s.color,w.disabled=s.disabled,w.style.setProperty("display","block"),w.style.setProperty("position","fixed"),v.addElement(_),y.addElement(b),y.beforeStyles({"transform-origin":`${f} center`}).beforeAddWrite(()=>{s.style.setProperty("display","none"),w.style.setProperty(f,l)}).afterAddWrite(()=>{s.style.setProperty("display",""),w.style.setProperty("display","none"),w.style.removeProperty(f)}).keyframes(m),v.beforeStyles({"transform-origin":`${p} center`}).keyframes(g),e.addAnimation([y,v])},u=(e,t,n,s,o,a)=>{const c=t?`calc(100% - ${o.right}px)`:`${o.left}px`,l=t?"-18px":"18px",u=t?"right":"left",h=n?[{offset:0,opacity:0,transform:`translate3d(${l}, ${a.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${l}, ${a.top-4}px, 0) scale(0.5)`}],d=i("ion-title"),f=(0,r.c)();d.innerText=s.innerText,d.size=s.size,d.color=s.color,f.addElement(d),f.beforeStyles({"transform-origin":`${u} center`,height:"46px",display:"",position:"relative",[u]:c}).beforeAddWrite(()=>{s.style.setProperty("display","none")}).afterAddWrite(()=>{s.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(h),e.addAnimation(f)},h=(e,t)=>{try{const n="cubic-bezier(0.32,0.72,0,1)",i="opacity",h="transform",d="0%",f=.8,p="rtl"===e.ownerDocument.dir,m=p?"-99.5%":"99.5%",g=p?"33%":"-33%",y=t.enteringEl,v=t.leavingEl,w="back"===t.direction,b=y.querySelector(":scope > ion-content"),_=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),E=y.querySelectorAll(":scope > ion-header > ion-toolbar"),S=(0,r.c)(),I=(0,r.c)();if(S.addElement(y).duration(t.duration||540).easing(t.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),v&&e){const t=(0,r.c)();t.addElement(e),S.addAnimation(t)}if(b||0!==E.length||0!==_.length?(I.addElement(b),I.addElement(_)):I.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),S.addAnimation(I),w?I.beforeClearStyles([i]).fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(i,f,1):I.beforeClearStyles([i]).fromTo("transform",`translateX(${m})`,`translateX(${d})`),b){const e=o(b).querySelector(".transition-effect");if(e){const t=e.querySelector(".transition-cover"),n=e.querySelector(".transition-shadow"),s=(0,r.c)(),o=(0,r.c)(),a=(0,r.c)();s.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),o.addElement(t).beforeClearStyles([i]).fromTo(i,0,.1),a.addElement(n).beforeClearStyles([i]).fromTo(i,.03,.7),s.addAnimation([o,a]),I.addAnimation([s])}}const T=y.querySelector("ion-header.header-collapse-condense"),{forward:C,backward:k}=((e,t,n,r,s)=>{const i=c(r,n),o=a(s),h=a(r),d=c(s,n),f=null!==i&&null!==o&&!n,p=null!==h&&null!==d&&n;if(f){const r=o.getBoundingClientRect(),s=i.getBoundingClientRect();u(e,t,n,o,r,s),l(e,t,n,i,r,s)}else if(p){const r=h.getBoundingClientRect(),s=d.getBoundingClientRect();u(e,t,n,h,r,s),l(e,t,n,d,r,s)}return{forward:f,backward:p}})(S,p,w,y,v);if(E.forEach(e=>{const t=(0,r.c)();t.addElement(e),S.addAnimation(t);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const s=(0,r.c)(),a=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),c=e.closest("ion-header"),l=c&&c.classList.contains("header-collapse-condense-inactive");let u;u=a.filter(w?e=>{const t=e.classList.contains("buttons-collapse");return t&&!l||!t}:e=>!e.classList.contains("buttons-collapse")),s.addElement(u);const h=(0,r.c)();h.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const f=(0,r.c)();f.addElement(o(e).querySelector(".toolbar-background"));const y=(0,r.c)(),v=e.querySelector("ion-back-button");if(v&&y.addElement(v),t.addAnimation([n,s,h,f,y]),s.fromTo(i,.01,1),h.fromTo(i,.01,1),w)l||n.fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(i,.01,1),h.fromTo("transform",`translateX(${g})`,`translateX(${d})`),y.fromTo(i,.01,1);else if(T||n.fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(i,.01,1),h.fromTo("transform",`translateX(${m})`,`translateX(${d})`),f.beforeClearStyles([i,"transform"]),(null==c?void 0:c.translucent)?f.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):f.fromTo(i,.01,"var(--opacity)"),C||y.fromTo(i,.01,1),v&&!C){const e=(0,r.c)();e.addElement(o(v).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),t.addAnimation(e)}}),v){const e=(0,r.c)(),t=v.querySelector(":scope > ion-content"),n=v.querySelectorAll(":scope > ion-header > ion-toolbar"),a=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(t||0!==n.length||0!==a.length?(e.addElement(t),e.addElement(a)):e.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),S.addAnimation(e),w){e.beforeClearStyles([i]).fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)");const t=(0,s.g)(v);S.afterAddWrite(()=>{"normal"===S.getDirection()&&t.style.setProperty("display","none")})}else e.fromTo("transform",`translateX(${d})`,`translateX(${g})`).fromTo(i,1,f);if(t){const n=o(t).querySelector(".transition-effect");if(n){const t=n.querySelector(".transition-cover"),s=n.querySelector(".transition-shadow"),o=(0,r.c)(),a=(0,r.c)(),c=(0,r.c)();o.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(t).beforeClearStyles([i]).fromTo(i,.1,0),c.addElement(s).beforeClearStyles([i]).fromTo(i,.7,.03),o.addAnimation([a,c]),e.addAnimation([o])}}n.forEach(e=>{const t=(0,r.c)();t.addElement(e);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const s=(0,r.c)(),a=e.querySelectorAll("ion-buttons,[menuToggle]"),c=e.closest("ion-header"),l=c&&c.classList.contains("header-collapse-condense-inactive"),u=Array.from(a).filter(e=>{const t=e.classList.contains("buttons-collapse");return t&&!l||!t});s.addElement(u);const f=(0,r.c)(),m=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");m.length>0&&f.addElement(m);const y=(0,r.c)();y.addElement(o(e).querySelector(".toolbar-background"));const v=(0,r.c)(),b=e.querySelector("ion-back-button");if(b&&v.addElement(b),t.addAnimation([n,s,f,v,y]),S.addAnimation(t),v.fromTo(i,.99,0),s.fromTo(i,.99,0),f.fromTo(i,.99,0),w){if(l||n.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)").fromTo(i,.99,0),f.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)"),y.beforeClearStyles([i,"transform"]),(null==c?void 0:c.translucent)?y.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):y.fromTo(i,"var(--opacity)",0),b&&!k){const e=(0,r.c)();e.addElement(o(b).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(p?-124:124)+"px"})`),t.addAnimation(e)}}else l||n.fromTo("transform",`translateX(${d})`,`translateX(${g})`).fromTo(i,.99,0).afterClearStyles([h,i]),f.fromTo("transform",`translateX(${d})`,`translateX(${g})`).afterClearStyles([h,i]),v.afterClearStyles([i]),n.afterClearStyles([i]),s.afterClearStyles([i])})}return S}catch(n){throw n}}},7405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mdTransitionAnimation:()=>i});var r=n(4086),s=n(4001);n(3150);const i=(e,t)=>{const n="back"===t.direction,i=t.leavingEl,o=(0,s.g)(t.enteringEl),a=o.querySelector("ion-toolbar"),c=(0,r.c)();if(c.addElement(o).fill("both").beforeRemoveClass("ion-page-invisible"),n?c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration(t.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),a){const e=(0,r.c)();e.addElement(a),c.addAnimation(e)}if(i&&n){c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const e=(0,r.c)();e.addElement((0,s.g)(i)).onFinish(t=>{1===t&&e.elements.length>0&&e.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),c.addAnimation(e)}return c}},7053:(e,t,n)=>{"use strict";n.d(t,{B:()=>P,a:()=>l,b:()=>u,c:()=>p,d:()=>I,e:()=>g,f:()=>C,g:()=>x,h:()=>a,i:()=>O,l:()=>h,m:()=>d,p:()=>f,s:()=>D,t:()=>m});var r=n(7585),s=n(3087),i=n(2377);let o=0;const a=new WeakMap,c=e=>({create:t=>y(e,t),dismiss:(t,n,r)=>_(document,t,n,e,r),getTop:async()=>E(document,e)}),l=c("ion-alert"),u=c("ion-action-sheet"),h=c("ion-loading"),d=c("ion-modal"),f=c("ion-picker"),p=c("ion-popover"),m=c("ion-toast"),g=e=>{"undefined"!=typeof document&&b(document);const t=o++;e.overlayIndex=t,e.hasAttribute("id")||(e.id=`ion-overlay-${t}`)},y=(e,t)=>"undefined"!=typeof customElements?customElements.whenDefined(e).then(()=>{const n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,t),k(document).appendChild(n),new Promise(e=>(0,i.c)(n,e))}):Promise.resolve(),v='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',w="input:not([type=hidden]), textarea, button, select",b=e=>{0===o&&(o=1,e.addEventListener("focus",t=>((e,t)=>{const n=E(t),r=e.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{const e=(0,i.g)(n);if(!e.contains(r))return;const s=e.querySelector(".ion-overlay-wrapper");if(!s)return;if(s.contains(r))n.lastFocus=r;else{const e=n.lastFocus;((e,t)=>{let n=e.querySelector(v);const r=n&&n.shadowRoot;r&&(n=r.querySelector(w)||n),n?n.focus():t.focus()})(s,n),e===t.activeElement&&((e,t)=>{const n=Array.from(e.querySelectorAll(v));let r=n.length>0?n[n.length-1]:null;const s=r&&r.shadowRoot;s&&(r=s.querySelector(w)||r),r?r.focus():t.focus()})(s,n),n.lastFocus=t.activeElement}}})(t,e),!0),e.addEventListener("ionBackButton",t=>{const n=E(e);n&&n.backdropDismiss&&t.detail.register(s.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,P))}),e.addEventListener("keyup",t=>{if("Escape"===t.key){const t=E(e);t&&t.backdropDismiss&&t.dismiss(void 0,P)}}))},_=(e,t,n,r,s)=>{const i=E(e,r,s);return i?i.dismiss(t,n):Promise.reject("overlay does not exist")},E=(e,t,n)=>{const r=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)))(e,t);return void 0===n?r[r.length-1]:r.find(e=>e.id===n)},S=(e=!1)=>{const t=k(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},I=async(e,t,n,s,i)=>{if(e.presented)return;S(!0),e.presented=!0,e.willPresent.emit();const o=(0,r.b)(e),a=e.enterAnimation?e.enterAnimation:r.c.get(t,"ios"===o?n:s);await A(e,a,e.el,i)&&e.didPresent.emit(),"ION-TOAST"!==e.el.tagName&&T(e.el),e.keyboardClose&&e.el.focus()},T=async e=>{let t=document.activeElement;if(!t)return;const n=t&&t.shadowRoot;n&&(t=n.querySelector(w)||t),await e.onDidDismiss(),t.focus()},C=async(e,t,n,s,i,o,c)=>{if(!e.presented)return!1;S(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n});const l=(0,r.b)(e),u=e.leaveAnimation?e.leaveAnimation:r.c.get(s,"ios"===l?i:o);"gesture"!==n&&await A(e,u,e.el,c),e.didDismiss.emit({data:t,role:n}),a.delete(e)}catch(l){console.error(l)}return e.el.remove(),!0},k=e=>e.querySelector("ion-app")||e.body,A=async(e,t,n,s)=>{n.classList.remove("overlay-hidden");const i=t(n.shadowRoot||e.el,s);e.animated&&r.c.getBoolean("animated",!0)||i.duration(0),e.keyboardClose&&i.beforeAddWrite(()=>{const e=n.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()});const o=a.get(e)||[];return a.set(e,[...o,i]),await i.play(),!0},x=(e,t)=>{let n;const r=new Promise(e=>n=e);return N(e,t,e=>{n(e.detail)}),r},N=(e,t,n)=>{const r=s=>{(0,i.b)(e,t,r),n(s)};(0,i.a)(e,t,r)},O=e=>"cancel"===e||e===P,R=e=>e(),D=(e,t)=>{if("function"==typeof e)return r.c.get("_zoneGate",R)(()=>{try{return e(t)}catch(n){console.error(n)}})},P="backdrop"},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(4486);r.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(e,t,n)=>{"use strict";n.r(t);var r=n(4486),s=n(4685),i=n(5452),o=n(4762),a=n(300),c=n(6034);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},u=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new a.Yd("@firebase/auth");function d(e,...t){h.logLevel<=a.in.ERROR&&h.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw y(e,...t)}function p(e,...t){return y(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function g(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function b(e,t){e||w(t)}const _=new Map;function E(e){b(e instanceof Function,"Expected a class definition");let t=_.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_.set(e,t),t)}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(I()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},N=new C(3e4,6e4);function O(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function R(e,t,n,r,i={}){return D(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=new(A.headers());return c.set("Content-Type","application/json"),c.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&c.set("X-Firebase-Locale",e.languageCode),A.fetch()(L(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function D(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new $(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw M(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);f(e,a)}}catch(i){if(i instanceof s.ZR)throw i;f(e,"network-request-failed")}}async function P(e,t,n,r,s={}){const i=await R(e,t,n,r,s);return"mfaPendingCredential"in i&&f(e,"multi-factor-auth-required",{serverResponse:i}),i}function L(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?k(e.config,s):`${e.config.apiScheme}://${s}`}class ${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"timeout")),N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function M(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=p(e,t,r);return s.customData._tokenResponse=n,s}function F(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function U(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(i){return d("Caught error parsing JWT payload as JSON",i),null}}async function j(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof s.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class B{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=F(this.lastLoginAt),this.creationTime=F(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function z(e){var t;const n=e.auth,r=await e.getIdToken(),s=await j(e,async function(e,t){return R(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));v(null==s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],c=(l=a,[...e.providerData.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var l;const u=!!e.isAnonymous&&!(e.email&&i.passwordHash||(null==c?void 0:c.length)),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new B(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=U(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await D(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=L(e,r,"/v1/token",`key=${i}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new H;return n&&(v("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(v("number"==typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return w("not implemented")}}function G(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Y{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=(0,o._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.metadata=new B(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await j(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,s.m9)(e),r=await n.getIdToken(t),i=U(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:F(V(i.auth_time)),issuedAtTime:F(V(i.iat)),expirationTime:F(V(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,s.m9)(e);await z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Y(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await j(this,async function(e,t){return R(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:b,isAnonymous:_,providerData:E,stsTokenManager:S}=t;v(w&&S,e,"internal-error");const I=H.fromJSON(this.name,S);v("string"==typeof w,e,"internal-error"),G(u,e.name),G(h,e.name),v("boolean"==typeof b,e,"internal-error"),v("boolean"==typeof _,e,"internal-error"),G(d,e.name),G(f,e.name),G(p,e.name),G(m,e.name),G(g,e.name),G(y,e.name);const T=new Y({uid:w,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new H;r.updateFromServerResponse(t);const s=new Y({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await z(s),s}}const W=(()=>{class e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function K(e,t,n){return`firebase:${e}:${t}:${n}`}class X{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=K(this.userKey,r.apiKey,s),this.fullPersistenceKey=K("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Y._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new X(E(W),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||E(W);const i=K(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(i);if(t){const n=Y._fromJSON(e,t);l!==s&&(o=n),s=l;break}}catch(c){}const a=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&a.length?(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(c){}})),new X(s,e,n)):new X(s,e,n)}}function Q(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(te(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(re(t))return"Blackberry";if(se(t))return"Webos";if(Z(t))return"Safari";if((t.includes("chrome/")||ee(t))&&!t.includes("edge/"))return"Chrome";if(ne(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function J(e=(0,s.z$)()){return/firefox\//i.test(e)}function Z(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ee(e=(0,s.z$)()){return/crios\//i.test(e)}function te(e=(0,s.z$)()){return/iemobile/i.test(e)}function ne(e=(0,s.z$)()){return/android/i.test(e)}function re(e=(0,s.z$)()){return/blackberry/i.test(e)}function se(e=(0,s.z$)()){return/webos/i.test(e)}function ie(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function oe(e=(0,s.z$)()){return ie(e)||ne(e)||se(e)||re(e)||/windows phone/i.test(e)||te(e)}function ae(e,t=[]){let n;switch(e){case"Browser":n=Q((0,s.z$)());break;case"Worker":n=`${Q((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${r}`}class ce{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ue(this),this.idTokenSubscription=new ue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue(async()=>{var n;this._deleted||(this.persistenceManager=await X.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e)):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,i=await this.tryRedirectSignIn(e);r&&r!==s||!(null==i?void 0:i.user)||(n=i.user)}return n?n._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await z(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,s.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(E(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&E(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[E(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return v(i,this,"internal-error"),i.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function le(e){return(0,s.m9)(e)}class ue{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function he(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function de(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function pe(e,t){return R(e,"POST","/v1/accounts:resetPassword",O(e,t))}async function me(e,t){return R(e,"POST","/v1/accounts:update",t)}async function ge(e,t){return R(e,"POST","/v1/accounts:sendOobCode",O(e,t))}class ye extends fe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPassword",O(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ve(e,t){return P(e,"POST","/v1/accounts:signInWithIdp",O(e,t))}class we extends fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new we(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=(0,o._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new we(n,r);return Object.assign(i,s),i}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}const be={USER_NOT_FOUND:"user-not-found"};class _e extends fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _e({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _e({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await P(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),be)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new _e({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class Ee{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);v(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new Ee(t)}catch(n){return null}}}let Se=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ee.parseLink(t);return v(n,"argument-error"),ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Ie{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Te extends Ie{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ce extends Te{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),we._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ce.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ce.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:s,nonce:i,providerId:o}=e;if(!(n||r||t||s))return null;if(!o)return null;try{return new Ce(o)._credential({idToken:t,accessToken:n,rawNonce:i,pendingToken:s})}catch(a){return null}}}let ke=(()=>{class e extends Te{constructor(){super("facebook.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),Ae=(()=>{class e extends Te{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(s){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),xe=(()=>{class e extends Te{constructor(){super("github.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class Ne extends fe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:s}=t;return n&&r&&s&&n===r?new Ne(n,s):null}static _create(e,t){return new Ne(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Oe=(()=>{class e extends Te{constructor(){super("twitter.com")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(s){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();async function Re(e,t){return P(e,"POST","/v1/accounts:signUp",O(e,t))}class De{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await Y._fromIdTokenResponse(e,n,r),i=Pe(n);return new De({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pe(n);return new De({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Le extends s.ZR{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(s=e.tenantId)&&void 0!==s?s:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Le(e,t,n,r)}}function $e(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Le._fromErrorAndOperation(e,n,t,r);throw n})}function Me(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function Fe(e,t,n=!1){const r=await j(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return De._forOperation(e,"link",r)}async function Ve(e,t,n){await z(t);const r=!1===e?"provider-already-linked":"no-such-provider";v(Me(t.providerData).has(n)===e,t.auth,r)}async function Ue(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await j(e,$e(r,s,t,e),n);v(i.idToken,r,"internal-error");const o=U(i.idToken);v(o,r,"internal-error");const{sub:a}=o;return v(e.uid===a,r,"user-mismatch"),De._forOperation(e,s,i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&f(r,"user-mismatch"),i}}async function je(e,t,n=!1){const r="signIn",s=await $e(e,r,t),i=await De._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function qe(e,t){return je(le(e),t)}async function Be(e,t){const n=(0,s.m9)(e);return await Ve(!1,n,t.providerId),Fe(n,t)}async function ze(e,t){return Ue((0,s.m9)(e),t)}class He{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ge._fromServerResponse(e,t):f(e,"internal-error")}}class Ge extends He{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ge(t)}}function Ye(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function We(e,t){const n=(0,s.m9)(e),r=await pe(n,{oobCode:t}),i=r.requestType;switch(v(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=He._fromServerResponse(le(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Ke(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const i=await j(e,me(r,s));await e._updateTokensIfNecessary(i,!0)}class Xe{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Qe extends Xe{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Je extends Xe{constructor(e,t){super(e,"facebook.com",t)}}class Ze extends Qe{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class et extends Xe{constructor(e,t){super(e,"google.com",t)}}class tt extends Qe{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,s=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},i=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=U(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Xe(i,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Je(i,s);case"github.com":return new Ze(i,s);case"google.com":return new et(i,s);case"twitter.com":return new tt(i,s,e.screenName||null);case"custom":case"anonymous":return new Xe(i,null);default:return new Xe(i,r,s)}}(n)}class rt{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new rt("enroll",e)}static _fromMfaPendingCredential(e){return new rt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return rt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return rt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class st{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=le(e),r=(t.serverResponse.mfaInfo||[]).map(e=>He._fromServerResponse(n,e));v(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=rt._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new st(s,r,async e=>{const r=await e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await De._fromIdTokenResponse(n,t.operationType,i);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),De._forOperation(t.user,t.operationType,i);default:f(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}class it{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>He._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new it(e)}async getSession(){return rt._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),s=await j(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await j(this.user,(s=this.user.auth,i={idToken:n,mfaEnrollmentId:t},R(s,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:s.tenantId},i))));var s,i;this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}}}const ot=new WeakMap,at="__sak";class ct{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(at,"1"),this.storage.removeItem(at),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const lt=(()=>{class e extends ct{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return Z(e)||ie(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=oe(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}return e.type="LOCAL",e})(),ut=(()=>{class e extends ct{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let ht=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,s)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function dt(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class ft{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const c=dt("",20);r.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(l),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function pt(){return window}function mt(){return void 0!==pt().WorkerGlobalScope&&"function"==typeof pt().importScripts}const gt="firebaseLocalStorageDb",yt="firebaseLocalStorage",vt="fbase_key";class wt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bt(e,t){return e.transaction([yt],t?"readwrite":"readonly").objectStore(yt)}function _t(){const e=indexedDB.open(gt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(yt,{keyPath:vt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(yt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gt);return new wt(e).toPromise()}(),t(await _t()))})})}async function Et(e,t,n){const r=bt(e,!0).put({[vt]:t,value:n});return new wt(r).toPromise()}function St(e,t){const n=bt(e,!0).delete(t);return new wt(n).toPromise()}const It=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _t()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ht._getInstance(mt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ft(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _t();return await Et(e,at,"1"),await St(e,at),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Et(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=bt(e,!1).get(t),r=await new wt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>St(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=bt(e,!1).getAll();return new wt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Tt(e){return new Promise((t,n)=>{const r=document.createElement("script");var s,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==i?i:document).appendChild(r)})}function Ct(e){return`__${e}${Math.floor(1e6*Math.random())}`}const kt=1e12;class At{constructor(e){this.auth=e,this.counter=kt,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new xt(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||kt;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||kt))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;return null===(t=this._widgets.get(e||kt))||void 0===t||t.execute(),""}}class xt{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nt=Ct("rcb"),Ot=new C(3e4,6e4);class Rt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pt().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(pt().grecaptcha):new Promise((n,r)=>{const i=pt().setTimeout(()=>{r(p(e,"network-request-failed"))},Ot.get());pt()[Nt]=()=>{pt().clearTimeout(i),delete pt()[Nt];const s=pt().grecaptcha;if(!s)return void r(p(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Tt(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Nt,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(p(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!pt().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dt{async load(e){return new At(e)}clearedOneInstance(){}}const Pt="recaptcha",Lt={theme:"light",type:"image"};class $t{constructor(e,t=Object.assign({},Lt),n){this.parameters=t,this.type=Pt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=le(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dt:new Rt,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=pt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){v(I()&&!mt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await R(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);v(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mt{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_e._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ft(e,t,n){var r;const s=await n.verify();try{let i;if(v("string"==typeof s,e,"argument-error"),v(n.type===Pt,e,"argument-error"),i="string"==typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i)return v("enroll"===t.type,e,"internal-error"),(await function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(await function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",O(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}let Vt=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=le(t)}verifyPhoneNumber(e,t){return Ft(this.auth,e,(0,s.m9)(t))}static credential(e,t){return _e._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?_e._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function Ut(e,t){return t?E(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class jt extends fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ve(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ve(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ve(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qt(e){return je(e.auth,new jt(e),e.bypassAuthState)}function Bt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Ue(n,new jt(e),e.bypassAuthState)}async function zt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Fe(n,new jt(e),e.bypassAuthState)}class Ht{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qt;case"linkViaPopup":case"linkViaRedirect":return zt;case"reauthViaPopup":case"reauthViaRedirect":return Bt;default:f(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gt=new C(2e3,1e4);let Yt=(()=>{class e extends Ht{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=dt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Gt.get())};e()}}return e.currentPopupAction=null,e})();const Wt=new Map;class Kt extends Ht{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jt(t),r="true"===await Qt(e)._get(n);return await Qt(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Xt(e,t){return Qt(e)._set(Jt(t),"true")}function Qt(e){return E(e._redirectPersistence)}function Jt(e){return K("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t,n=!1){const r=le(e),s=Ut(r,t),i=new Kt(r,s,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function en(e){const t=dt(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class tn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!rn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nn(e))}saveEventToCache(e){this.cachedEventUids.add(nn(e)),this.lastProcessedEventTime=Date.now()}}function nn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function rn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function sn(e,t={}){return R(e,"GET","/v1/projects",t)}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,an=/^https?/;function cn(e){const t=S(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!an.test(n))return!1;if(on.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ln=new C(3e4,6e4);function un(){const e=pt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let hn=null;function dn(e){return hn=hn||function(e){return new Promise((t,n)=>{var r,s,i;function o(){un(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{un(),n(p(e,"network-request-failed"))},timeout:ln.get()})}if(null===(s=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=pt().gapi)||void 0===i?void 0:i.load)){const t=Ct("iframefcb");return pt()[t]=()=>{gapi.load?o():n(p(e,"network-request-failed"))},Tt(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw hn=null,e})}(e),hn}const fn=new C(5e3,15e3),pn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},o=mn.get(e.config.apiHost);o&&(r.eid=o);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}const yn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wn(e,t,n,r,o,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:i.SDK_VERSION,eventId:o};if(t instanceof Ie){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Te){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const s of Object.keys(l))void 0===l[s]&&delete l[s];return`${function({config:e}){return e.emulator?k(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(l).slice(1)}`}const bn="webStorageSupport";class _n extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new _n(e)}_finalizeEnroll(e,t,n){return function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var En;class Sn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function In(){return window}En="Browser",(0,i._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=n.options;return(e=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:s,clientPlatform:En,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ae(En)},i=new ce(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(i,t),i})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,i._registerComponent)(new c.wA("auth-internal",e=>{return t=le(e.getProvider("auth").getImmediate()),new Sn(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.registerVersion)("@firebase/auth","0.17.2",void 0);class Tn extends tn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function Cn(e){const t=await An()._get(xn(e));return t&&await An()._remove(xn(e)),t}function kn(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function An(){return E(lt)}function xn(e){return K("authEvent",e.config.apiKey,e.name)}function Nn(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function On(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:p("no-auth-event")}}function Rn(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Dn(e=(0,s.z$)()){return!("file:"!==Rn()&&"ionic:"!==Rn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pn(){try{const e=self.localStorage,t=dt();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ln()&&(0,s.hl)()}return!1}function Ln(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return("http:"===Rn()||"https:"===Rn()||(0,s.ru)()||Dn())&&!((0,s.b$)()||(0,s.UG)())&&Pn()&&!Ln()}function Mn(){return Dn()&&"undefined"!=typeof document}const Fn={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=v,Un="persistence";async function jn(e){await e._initializationPromise;const t=qn(),n=K(Un,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function qn(){return"undefined"!=typeof window?window:null}const Bn=v;class zn{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ut,this._completeRedirectFn=Zt}async _openPopup(e,t,n,r){var i;return b(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},yn),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(c=ee(u)?"_blank":n),J(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new vn(null);const d=window.open(t||"",c,h);v(d,e,"popup-blocked");try{d.focus()}catch(f){}return new vn(d)}(e,wn(e,t,n,S(),r),dt())}async _openRedirect(e,t,n,r){var s;return await this._originValidation(e),s=wn(e,t,n,S(),r),pt().location.href=s,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await dn(e),n=pt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:gn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=p(e,"network-request-failed"),i=pt().setTimeout(()=>{r(s)},fn.get());function o(){pt().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(s)})}))}(e),n=new tn(e);return t.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bn,{type:bn},n=>{var r;const s=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==s&&t(!!s),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await sn(e);for(const r of t)try{if(cn(r))return}catch(n){}f(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oe()||Z()||ie()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=ut,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zt}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Tn(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,s,i,o,a,c,l,u;const h=In();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(i=null===(s=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===s?void 0:s.browsertab)||void 0===i?void 0:i.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Wt.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:kn(),postBody:null,tenantId:e.tenantId,error:p(e,"no-auth-event")}}(e,n,r);await function(e,t){return An()._set(xn(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:s}=In();b(t.sessionId,"AuthEvent did not contain a session ID");const i=await async function(e){const t=function(e){if(b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return ie()?o.ibi=s.packageName:ne()?o.apn=s.packageName:f(e,"operation-not-supported-in-this-environment"),s.displayName&&(o.appDisplayName=s.displayName),o.sessionId=i,wn(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,o,t);return async function(e,t,n){const{cordova:r}=In();let s=()=>{};try{await new Promise((i,o)=>{let a=null;function c(){var e;i();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(p(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ne()&&document.addEventListener("visibilitychange",u,!1),s=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{s()}}(e,i,await function(e){const{cordova:t}=In();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=In(),n={};ie()?n.iosBundleId=t.packageName:ne()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),await sn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:s}=In(),i=setTimeout(async()=>{await Cn(e),t.onEvent(On())},500),o=async n=>{clearTimeout(i);const r=await Cn(e);let s=null;r&&(null==n?void 0:n.url)&&(s=function(e,t){var n,r;const s=function(e){const t=Nn(e),n=t.link?decodeURIComponent(t.link):void 0,r=Nn(n).link,s=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Nn(s).link||s||r||n||e}(t);if(s.includes("/__/auth/callback")){const t=Nn(s),i=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==i?void 0:i.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?p(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}(r,n.url)),t.onEvent(s||On())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,c=`${s.packageName.toLowerCase()}://`;In().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"==typeof a)try{a(e)}catch(t){console.error(t)}}}}),this.underlyingResolver=null,this._redirectPersistence=ut,this._completeRedirectFn=Zt}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Mn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bn(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Mn()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Hn(e){return e.unwrap()}function Gn(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Vt.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=Ae;break;case"facebook.com":r=ke;break;case"github.com":r=xe;break;case"twitter.com":r=Oe;break;default:const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:i,pendingToken:o,nonce:a}=t;return s||i||e||o?o?n.startsWith("saml.")?Ne._create(n,o):we._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:s}):new Ce(n).credential({idToken:e,accessToken:s,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}async function Yn(e,t){let n;try{n=await t}catch(a){throw a instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Kn(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return v(t.operationType,r,"argument-error"),v(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),st._fromError(r,i)}(e,t));else if(r){const e=Gn(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,a),a}const{operationType:r,user:i}=n;return{operationType:r,credential:(o=n,Gn(o)),additionalUserInfo:nt(n),user:Xn.getOrCreate(i)};var o}async function Wn(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Yn(e,n.confirm(t))}}class Kn{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Yn(Hn(this.auth),this.resolver.resolveSignIn(e))}}class Xn{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return ot.has(t)||ot.set(t,it._fromUser(t)),ot.get(t)}(e)}static getOrCreate(e){return Xn.USER_MAP.has(e)||Xn.USER_MAP.set(e,new Xn(e)),Xn.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Yn(this.auth,Be(this._delegate,e))}async linkWithPhoneNumber(e,t){return Wn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);await Ve(!1,r,"phone");const i=await Ft(r.auth,t,(0,s.m9)(n));return new Mt(i,e=>Be(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return Yn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Ie);const i=Ut(r.auth,n);return new Yt(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zn))}async linkWithRedirect(e){return await jn(le(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Ie);const i=Ut(r.auth,n);await Ve(!1,r,t.providerId),await Xt(i,r.auth);const o=await en(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,zn)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Yn(this.auth,ze(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Wn(this.auth,async function(e,t,n){const r=(0,s.m9)(e),i=await Ft(r.auth,t,(0,s.m9)(n));return new Mt(i,e=>ze(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Yn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Ie);const i=Ut(r.auth,n);return new Yt(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zn))}async reauthenticateWithRedirect(e){return await jn(le(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Ie);const i=Ut(r.auth,n);await Xt(i,r.auth);const o=await en(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,zn)}sendEmailVerification(e){return async function(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ye(n.auth,r,t);const{email:i}=await async function(e,t){return ge(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=(0,s.m9)(e);await Ve(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return R(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Me(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Ke((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ke((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Fe((0,s.m9)(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await j(r,async function(e,t){return R(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ye(r.auth,i,n);const{email:o}=await async function(e,t){return ge(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xn.USER_MAP=new WeakMap;const Qn=v;let Jn=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Qn(n,"invalid-api-key",{appName:e.name});let r=[W];if("undefined"!=typeof window){r=function(e,t){const n=qn();if(!(null==n?void 0:n.sessionStorage))return[];const r=K(Un,e,t);switch(n.sessionStorage.getItem(r)){case Fn.NONE:return[W];case Fn.LOCAL:return[It,ut];case Fn.SESSION:return[ut];default:return[]}}(n,e.name);for(const e of[It,lt,ut])r.includes(e)||r.push(e)}Qn(n,"invalid-api-key",{appName:e.name});const s="undefined"!=typeof window?zn:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:s}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=le(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null==n?void 0:n.disableWarnings),i=he(t),{host:o,port:a}=function(e){const t=he(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:de(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:de(t)}}}(t);r.config.emulator={url:`${i}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(s)}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return R(e,"POST","/v1/accounts:update",O(e,t))}((0,s.m9)(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return We(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await pe((0,s.m9)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Yn(this._delegate,async function(e,t,n){const r=le(e),s=await Re(r,{returnSecureToken:!0,email:t,password:n}),i=await De._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:I()?S():"http://localhost"},{signinMethods:r}=await async function(e,t){return R(e,"POST","/v1/accounts:createAuthUri",O(e,t))}((0,s.m9)(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ee.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}async getRedirectResult(){Qn($n(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await le(e)._initializationPromise,Zt(e,t,!1)}(this._delegate,zn);return e?Yn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){le(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:s,complete:i}=Zn(e,t,n);return this._delegate.onAuthStateChanged(r,s,i)}onIdTokenChanged(e,t,n){const{next:r,error:s,complete:i}=Zn(e,t,n);return this._delegate.onIdTokenChanged(r,s,i)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,r,"argument-error"),n&&Ye(r,i,n),await async function(e,t){return ge(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ye(r,i,n),await async function(e,t){return ge(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Vn(Object.values(Fn).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Vn(t!==Fn.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Vn(t===Fn.NONE,e,"unsupported-persistence-type"):Ln()?Vn(t===Fn.NONE||t===Fn.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Vn(t===Fn.NONE||Pn(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Fn.SESSION:t=ut;break;case Fn.LOCAL:t=await E(It)._isAvailable()?It:lt;break;case Fn.NONE:t=W;break;default:return f("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Yn(this._delegate,async function(e){var t;const n=le(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new De({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Re(n,{returnSecureToken:!0}),s=await De._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}(this._delegate))}signInWithCredential(e){return Yn(this._delegate,qe(this._delegate,e))}signInWithCustomToken(e){return Yn(this._delegate,async function(e,t){const n=le(e),r=await async function(e,t){return P(e,"POST","/v1/accounts:signInWithCustomToken",O(e,t))}(n,{token:t,returnSecureToken:!0}),s=await De._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Yn(this._delegate,function(e,t,n){return qe((0,s.m9)(e),Se.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Yn(this._delegate,async function(e,t,n){const r=(0,s.m9)(e),i=Se.credentialWithLink(t,n||S());return v(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qe(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wn(this._delegate,async function(e,t,n){const r=le(e),i=await Ft(r,t,(0,s.m9)(n));return new Mt(i,e=>qe(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return Qn($n(),this._delegate,"operation-not-supported-in-this-environment"),Yn(this._delegate,async function(e,t,n){const r=le(e);g(e,t,Ie);const s=Ut(r,n);return new Yt(r,"signInViaPopup",t,s).executeNotNull()}(this._delegate,e,zn))}async signInWithRedirect(e){return Qn($n(),this._delegate,"operation-not-supported-in-this-environment"),await jn(this._delegate),function(e,t,n){return async function(e,t,n){const r=le(e);g(e,t,Ie);const s=Ut(r,n);return await Xt(s,r),s._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,zn)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await We((0,s.m9)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Fn,e})();function Zn(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const s=r;return{next:e=>s(e&&Xn.getOrCreate(e)),error:t,complete:n}}class er{constructor(){this.providerId="phone",this._delegate=new Vt(Hn(r.Z.auth()))}static credential(e,t){return Vt.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}er.PHONE_SIGN_IN_METHOD=Vt.PHONE_SIGN_IN_METHOD,er.PROVIDER_ID=Vt.PROVIDER_ID;const tr=v;var nr;(nr=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Jn(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Se,FacebookAuthProvider:ke,GithubAuthProvider:xe,GoogleAuthProvider:Ae,OAuthProvider:Ce,PhoneAuthProvider:er,PhoneMultiFactorGenerator:class{constructor(){}static assertion(e){return _n._fromCredential(e)}},RecaptchaVerifier:class{constructor(e,t,n=r.Z.app()){var s;tr(null===(s=n.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new $t(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Oe,Auth:Jn,AuthCredential:fe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),nr.registerVersion("@firebase/auth-compat","0.1.2")},6215:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(9765),s=n(7971);class i extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.N;return this._value}next(e){super.next(this._value=e)}}},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(7393),s=n(9181),i=n(6490),o=n(6554),a=n(4487),c=n(2494);let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[s.b])return e[s.b]()}return e||t||n?new r.L(e,t,n):new r.L(i.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:s}=e;if(t||s)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(s){n(s),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(2494),s=n(4449);const i={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,s.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>u});var r=n(7574),s=n(7393),i=n(5319),o=n(7971),a=n(8858),c=n(9181);class l extends s.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),i.w.EMPTY):this.isStopped?(e.complete(),i.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):i.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(5319);class s extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(9105),s=n(6490),i=n(5319),o=n(9181),a=n(2494),c=n(4449);class l extends i.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.c;break;case 1:if(!e){this.destination=s.c;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new l(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==s.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),s=n(1555),i=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,i.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,s.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>c});var r=n(7393),s=n(7574),i=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof s.y)return e.subscribe(t);let n;try{n=(0,i.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>c});var r=n(9765),s=n(7574),i=n(5319),o=n(1307);class a extends s.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new i.w,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=i.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},8071:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(5917),s=n(3282);function i(...e){return(0,s.J)(1)((0,r.of)(...e))}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,c:()=>i});var r=n(7574);const s=new r.y(e=>e.complete());function i(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):s}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),s=n(7444),i=n(5319),o=n(6554),a=n(4087),c=n(377),l=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new i.w;return r.add(t.schedule(()=>{const s=e[o.L]();r.add(s.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,l.t)(e))return function(e,t){return new r.y(n=>{const r=new i.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new i.w;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(t.schedule(()=>{s=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,s.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(7574),s=n(5015),i=n(4087);function o(e,t){return t?(0,i.r)(e,t):new r.y((0,s.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),s=n(4869),i=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,s.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,i.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(4869),s=n(6693),i=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,i.r)(e,t)):(0,s.n)(e)}},4612:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(9773);function s(e,t){return(0,r.zg)(e,t,1)}},5242:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(7393);function s(e=null){return t=>t.lift(new i(e))}class i{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(7393);function s(e,t){return n=>n.lift(new i(e,t))}class i{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},5435:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(7393);function s(e,t){return function(n){return n.lift(new i(e,t))}}class i{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},8049:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(3410),s=n(5435),i=n(5257),o=n(5242),a=n(4635),c=n(4487);function l(e,t){const n=arguments.length>=2;return l=>l.pipe(e?(0,s.h)((t,n)=>e(t,n,l)):c.y,(0,i.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(7393);function s(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}}class i{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(9773),s=n(4487);function i(e=Number.POSITIVE_INFINITY){return(0,r.zg)(s.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8002),s=n(4402),i=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(o((n,i)=>(0,s.D)(e(n,i)).pipe((0,r.U)((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends i.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new i.IY(this),n=this.destination;n.add(t);const r=(0,i.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(e,t,n)=>{"use strict";n.d(t,{ht:()=>u,QV:()=>c});var r=n(7393),s=n(9193),i=n(5917),o=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,s.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function c(e,t=0){return function(n){return n.lift(new l(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class l{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))}}class u extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(7393);function s(){return function(e){return e.lift(new i(e))}}class i{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2145:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(7393);function s(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new i(e,t,n))}}class i{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},9761:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(8071),s=n(4869);function i(...e){const t=e[e.length-1];return(0,s.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},3101:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(7574);let s=1;const i=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const c={setImmediate(e){const t=s++;return o[t]=!0,i.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var l=n(6465),u=n(6102);const h=new class extends u.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new m(e,t))}}class m{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3190:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(8002),s=n(4402),i=n(5345);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,i)=>(0,s.D)(e(n,i)).pipe((0,r.U)((e,r)=>t(n,e,i,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends i.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new i.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,i.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},5257:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(7393),s=n(7108),i=n(9193);function o(e){return t=>0===e?(0,i.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new s.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7393);function s(){}var i=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=s,this._tapError=s,this._tapComplete=s,this._tapError=n||s,this._tapComplete=r||s,(0,i.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||s,this._tapError=t.error||s,this._tapComplete=t.complete||s)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4635:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(3410),s=n(7393);function i(e=c){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends s.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function c(){return new r.K}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(7574),s=n(5319);function i(e,t){return new r.y(n=>{const r=new s.w;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(5319);class s extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class i extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(s){r=!0,n=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class s extends r{constructor(e,t=r.now){super(e,()=>s.delegate&&s.delegate!==this?s.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return s.delegate&&s.delegate!==this?s.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(6465);const s=new(n(6102).v)(r.o)},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>i});var r=n(6465),s=n(6102);const i=new class extends s.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=i},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},3410:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(5015),s=n(4449),i=n(377),o=n(6554),a=n(9489),c=n(4072),l=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s.z),e);if(e&&"function"==typeof e[i.hZ])return t=e,e=>{const n=t[i.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,l.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},2169:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(4762),s=n(3018),i=n(8006),o=n(5093),a=n(5982),c=n(6476);let l=(()=>{class e{constructor(e,t,n,r){this.auth=e,this.db=t,this.session=n,this.router=r}getCurrentUser(){return this.auth.currentUser}getUserDetails(){return this.auth.user}createUser(e){return new Promise((t,n)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(e=>t(e),e=>n(e))})}signinNewUser(e){return new Promise((t,n)=>{this.auth.signInWithEmailAndPassword(e.email,e.password).then(e=>{const n=e.user.uid;this.session.write("currentUserID",n),this.session.write("isAuthed",!0),this.readUserCollection(),this.router.navigateByUrl("tabs/movies"),console.log("Sign In Action. NEW user ID: ",n),t(e)},e=>n(e))})}signinUser(e){return new Promise((t,n)=>{this.auth.signInWithEmailAndPassword(e.email,e.password).then(e=>{const n=e.user.uid;this.session.write("currentUserID",n),this.session.write("isAuthed",!0),this.readUserCollection(),console.log("Sign In Action. user ID: ",n),this.router.navigateByUrl("tabs/mylist"),t(e)},e=>n(e))})}signoutUser(){return new Promise((e,t)=>{this.auth.currentUser&&this.auth.signOut().then(()=>{this.session.remove("currentUserID"),this.session.remove("isAuthed"),this.session.remove("userCollection"),console.log("Sign out Action"),e()}).catch(()=>{t()})})}writeToCollection(e,t,n){n.userComment="",n.userRating=0,n.userWatched=!1,this.db.collection("users").doc("user-"+e).collection("movie-list").doc(t).set(n).then(n=>{console.log(`success: movie document with id: ${t} was written to in collection: users/user-${e}/movie-list`),this.readUserCollection(),this.router.navigateByUrl("tabs/mylist")},n=>console.log(`fail: error setting movie document with id: ${t} in collection: users/user-${e}/movie-list`))}saveCustomData(e,t,n,r){n.userComment=r.userComment,n.userRating=r.userRating,n.userWatched=r.userWatched,this.db.collection("users").doc("user-"+e).collection("movie-list").doc(t).set(n).then(n=>{console.log(`success: movie document with id: ${t} saved custom data to in collection: users/user-${e}/movie-list`),this.readUserCollection()},n=>console.log(`fail: error saving custom data to movie document with id: ${t} in collection: users/user-${e}/movie-list`))}readUserCollection(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.auth.currentUser;if(!e)return;const t=[],n=this.db.collection("users").doc(`user-${e.uid}`).collection("movie-list").valueChanges().subscribe(e=>{this.session.write("userCollection",e),e.forEach(e=>{t.push(e)}),n.unsubscribe()});return t})}removeFromCollection(e,t){this.db.collection("users").doc("user-"+e).collection("movie-list").doc(t).delete().then(n=>console.log(`success: movie document with id: ${t} removed from collection: users/user-${e}/movie-list`),n=>console.log(`fail: error removing movie document with id: ${t} from collection: users/user-${e}/movie-list`))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(i.zQ),s.LFG(o.ST),s.LFG(a.u),s.LFG(c.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5982:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(9765),s=n(3018);let i=(()=>{class e{constructor(){this.prefix="MovieAppData_",this.storage=sessionStorage,this.storageChangeSubject=new r.xQ}getObservableStorageChanges(){return this.storageChangeSubject.asObservable()}read(e){const t=this.storage.getItem(this.prefix+e);return void 0===t?void this.storageChangeSubject.next({type:"read",key:e,value:void 0}):(this.storageChangeSubject.next({type:"read",key:e,value:t}),JSON.parse(t))}write(e,t){this.storage.setItem(this.prefix+e,JSON.stringify(t)),this.storageChangeSubject.next({type:"write",key:e,value:t})}remove(e){this.storage.removeItem(this.prefix+e),this.storageChangeSubject.next({type:"remove",key:e,value:null})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2340:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r={production:!0,firebaseConfig:{apiKey:"AIzaSyB7DaJpuGPsAlRqHRu0rmT0KJeDJih708o",authDomain:"mtech-movie-app-tai-isaac.firebaseapp.com",projectId:"mtech-movie-app-tai-isaac",storageBucket:"mtech-movie-app-tai-isaac.appspot.com",messagingSenderId:"748339680100",appId:"1:748339680100:web:3a30ca08df432c83896071"},movieAPIKey:"d672901b59a9944eb457b7fcbb7690f1"}},5524:(e,t,n)=>{"use strict";var r=n(8583),s=n(3018);class i extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends i{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,c=null;const l=new s.OlP("TRANSITION_ID"),u=[{provide:s.ip1,useFactory:function(e,t,n){return()=>{n.get(s.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[l,r.K0,s.zs3],multi:!0}];class h{static init(){(0,s.VLi)(new h)}addToWindow(e){s.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(e=>{const t=s.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const f=new s.OlP("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(f),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?_(e,s,n):(s=s.replace(b,e),n.push(s))}return n}function E(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let S=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new I(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case s.ifc.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(p),s.LFG(y),s.LFG(s.AFp))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class I{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(w[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=w[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=w[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,n,r&s.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,E(n)):this.eventManager.addEventListener(e,t,E(n))}}class T extends I{constructor(e,t,n,r){super(e),this.component=n;const s=_(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class C extends I{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const e=document.createElement("style");e.textContent=s[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let k=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},O={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let R=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,s){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let i="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")}),i+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=r,o.fullKey=i,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&N.hasOwnProperty(t)&&(t=N[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,O[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return s=>{e.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const D=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:r.bD},{provide:s.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),P=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:f,useClass:k,multi:!0,deps:[r.K0,s.R0b,s.Lbi]},{provide:f,useClass:R,multi:!0,deps:[r.K0]},[],{provide:S,useClass:S,deps:[p,y,s.AFp]},{provide:s.FYo,useExisting:S},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:p,useClass:p,deps:[f,s.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let L=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId},{provide:l,useExisting:s.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(e,12))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:P,imports:[r.ez,s.hGG]}),e})();"undefined"!=typeof window&&window;var $=n(6476),M=n(8945);const F=[{path:"",loadChildren:()=>n.e(3055).then(n.bind(n,3055)).then(e=>e.TabsPageModule)}];let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[$.Bz.forRoot(F,{preloadingStrategy:$.wm})],$.Bz]}),e})(),U=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(s.TgZ(0,"ion-app"),s._UZ(1,"ion-router-outlet"),s.qZA())},directives:[M.dr,M.jP],styles:[""]}),e})();var j=n(8939),q=n(8006),B=n(5093),z=n(2169),H=n(2340),G=n(5982);let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e,bootstrap:[U]}),e.\u0275inj=s.cJS({providers:[{provide:$.wN,useClass:M.r4},z.O,G.u,{provide:q.f7,useValue:"session"}],imports:[[L,M.Pc.forRoot(),V,j.hO.initializeApp(H.N.firebaseConfig),B.yb,q.ww]]}),e})();H.N.production&&(0,s.G48)(),D().bootstrapModule(Y).catch(e=>console.log(e))},863:(e,t,n)=>{var r={"./ion-action-sheet.entry.js":[7321,8592,7321],"./ion-alert.entry.js":[6108,8592,6108],"./ion-app_8.entry.js":[1489,8592,1489],"./ion-avatar_3.entry.js":[305,8592,305],"./ion-back-button.entry.js":[5830,8592,5830],"./ion-backdrop.entry.js":[7757,7757],"./ion-button_2.entry.js":[392,8592,392],"./ion-card_5.entry.js":[6911,8592,6911],"./ion-checkbox.entry.js":[937,8592,937],"./ion-chip.entry.js":[8695,8592,8695],"./ion-col_3.entry.js":[2239,6034],"./ion-datetime_3.entry.js":[8837,8592,8837],"./ion-fab_3.entry.js":[4195,8592,4195],"./ion-img.entry.js":[1709,1709],"./ion-infinite-scroll_2.entry.js":[5931,8592,3087],"./ion-input.entry.js":[4513,8592,4513],"./ion-item-option_3.entry.js":[8056,8592,8056],"./ion-item_8.entry.js":[862,8592,862],"./ion-loading.entry.js":[7509,8592,7509],"./ion-menu_3.entry.js":[6272,8592,6272],"./ion-modal.entry.js":[1855,8592,1855],"./ion-nav_2.entry.js":[8708,8592,8708],"./ion-popover.entry.js":[3527,8592,3527],"./ion-progress-bar.entry.js":[4694,8592,4694],"./ion-radio_2.entry.js":[9222,8592,9222],"./ion-range.entry.js":[5277,8592,5277],"./ion-refresher_2.entry.js":[9921,8592,9921],"./ion-reorder_2.entry.js":[3122,8592,3122],"./ion-ripple-effect.entry.js":[1602,1602],"./ion-route_4.entry.js":[5174,8592,5174],"./ion-searchbar.entry.js":[7895,8592,7895],"./ion-segment_2.entry.js":[6164,8592,6164],"./ion-select_3.entry.js":[592,8592,592],"./ion-slide_2.entry.js":[7162,7162],"./ion-spinner.entry.js":[1374,8592,1374],"./ion-split-pane.entry.js":[7896,7896],"./ion-tab-bar_2.entry.js":[5043,8592,5043],"./ion-tab_2.entry.js":[7802,8592,7802],"./ion-text.entry.js":[9072,8592,9072],"./ion-textarea.entry.js":[2191,8592,2191],"./ion-toast.entry.js":[801,8592,801],"./ion-toggle.entry.js":[7110,8592,7110],"./ion-virtual-scroll.entry.js":[431,431]};function s(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(s))}s.keys=()=>Object.keys(r),s.id=863,e.exports=s},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>s,pi:()=>i,_T:()=>o,mG:()=>a,Jh:()=>c,XA:()=>l,CR:()=>u,ev:()=>h});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(a){i=[6,a],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function h(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}}},e=>{"use strict";e(e.s=5524)}]);